(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function zh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Nd={exports:{}},Kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function EN(){if(h0)return Kl;h0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,a){var c=null;if(a!==void 0&&(c=""+a),i.key!==void 0&&(c=""+i.key),"key"in i){a={};for(var f in i)f!=="key"&&(a[f]=i[f])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:c,ref:i!==void 0?i:null,props:a}}return Kl.Fragment=e,Kl.jsx=t,Kl.jsxs=t,Kl}var p0;function TN(){return p0||(p0=1,Nd.exports=EN()),Nd.exports}var y=TN(),Cd={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function MN(){if(m0)return ge;m0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,N={};function C(O,F,ee){this.props=O,this.context=F,this.refs=N,this.updater=ee||S}C.prototype.isReactComponent={},C.prototype.setState=function(O,F){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,F,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function T(){}T.prototype=C.prototype;function _(O,F,ee){this.props=O,this.context=F,this.refs=N,this.updater=ee||S}var q=_.prototype=new T;q.constructor=_,v(q,C.prototype),q.isPureReactComponent=!0;var K=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function Y(O,F,ee,W,ae,Ce){return ee=Ce.ref,{$$typeof:n,type:O,key:F,ref:ee!==void 0?ee:null,props:Ce}}function z(O,F){return Y(O.type,F,void 0,void 0,void 0,O.props)}function J(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function le(O){var F={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ee){return F[ee]})}var re=/\/+/g;function ce(O,F){return typeof O=="object"&&O!==null&&O.key!=null?le(""+O.key):F.toString(36)}function Ue(){}function Xe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ue,Ue):(O.status="pending",O.then(function(F){O.status==="pending"&&(O.status="fulfilled",O.value=F)},function(F){O.status==="pending"&&(O.status="rejected",O.reason=F)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Ae(O,F,ee,W,ae){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var pe=!1;if(O===null)pe=!0;else switch(Ce){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(O.$$typeof){case n:case e:pe=!0;break;case m:return pe=O._init,Ae(pe(O._payload),F,ee,W,ae)}}if(pe)return ae=ae(O),pe=W===""?"."+ce(O,0):W,K(ae)?(ee="",pe!=null&&(ee=pe.replace(re,"$&/")+"/"),Ae(ae,F,ee,"",function(hr){return hr})):ae!=null&&(J(ae)&&(ae=z(ae,ee+(ae.key==null||O&&O.key===ae.key?"":(""+ae.key).replace(re,"$&/")+"/")+pe)),F.push(ae)),1;pe=0;var Ft=W===""?".":W+":";if(K(O))for(var Ve=0;Ve<O.length;Ve++)W=O[Ve],Ce=Ft+ce(W,Ve),pe+=Ae(W,F,ee,Ce,ae);else if(Ve=x(O),typeof Ve=="function")for(O=Ve.call(O),Ve=0;!(W=O.next()).done;)W=W.value,Ce=Ft+ce(W,Ve++),pe+=Ae(W,F,ee,Ce,ae);else if(Ce==="object"){if(typeof O.then=="function")return Ae(Xe(O),F,ee,W,ae);throw F=String(O),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return pe}function U(O,F,ee){if(O==null)return O;var W=[],ae=0;return Ae(O,W,"","",function(Ce){return F.call(ee,Ce,ae++)}),W}function X(O){if(O._status===-1){var F=O._result;F=F(),F.then(function(ee){(O._status===0||O._status===-1)&&(O._status=1,O._result=ee)},function(ee){(O._status===0||O._status===-1)&&(O._status=2,O._result=ee)}),O._status===-1&&(O._status=0,O._result=F)}if(O._status===1)return O._result.default;throw O._result}var fe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function _e(){}return ge.Children={map:U,forEach:function(O,F,ee){U(O,function(){F.apply(this,arguments)},ee)},count:function(O){var F=0;return U(O,function(){F++}),F},toArray:function(O){return U(O,function(F){return F})||[]},only:function(O){if(!J(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},ge.Component=C,ge.Fragment=t,ge.Profiler=i,ge.PureComponent=_,ge.StrictMode=r,ge.Suspense=d,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,ge.__COMPILER_RUNTIME={__proto__:null,c:function(O){return $.H.useMemoCache(O)}},ge.cache=function(O){return function(){return O.apply(null,arguments)}},ge.cloneElement=function(O,F,ee){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var W=v({},O.props),ae=O.key,Ce=void 0;if(F!=null)for(pe in F.ref!==void 0&&(Ce=void 0),F.key!==void 0&&(ae=""+F.key),F)!Z.call(F,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&F.ref===void 0||(W[pe]=F[pe]);var pe=arguments.length-2;if(pe===1)W.children=ee;else if(1<pe){for(var Ft=Array(pe),Ve=0;Ve<pe;Ve++)Ft[Ve]=arguments[Ve+2];W.children=Ft}return Y(O.type,ae,void 0,void 0,Ce,W)},ge.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:a,_context:O},O},ge.createElement=function(O,F,ee){var W,ae={},Ce=null;if(F!=null)for(W in F.key!==void 0&&(Ce=""+F.key),F)Z.call(F,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ae[W]=F[W]);var pe=arguments.length-2;if(pe===1)ae.children=ee;else if(1<pe){for(var Ft=Array(pe),Ve=0;Ve<pe;Ve++)Ft[Ve]=arguments[Ve+2];ae.children=Ft}if(O&&O.defaultProps)for(W in pe=O.defaultProps,pe)ae[W]===void 0&&(ae[W]=pe[W]);return Y(O,Ce,void 0,void 0,null,ae)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(O){return{$$typeof:f,render:O}},ge.isValidElement=J,ge.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:X}},ge.memo=function(O,F){return{$$typeof:h,type:O,compare:F===void 0?null:F}},ge.startTransition=function(O){var F=$.T,ee={};$.T=ee;try{var W=O(),ae=$.S;ae!==null&&ae(ee,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(_e,fe)}catch(Ce){fe(Ce)}finally{$.T=F}},ge.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},ge.use=function(O){return $.H.use(O)},ge.useActionState=function(O,F,ee){return $.H.useActionState(O,F,ee)},ge.useCallback=function(O,F){return $.H.useCallback(O,F)},ge.useContext=function(O){return $.H.useContext(O)},ge.useDebugValue=function(){},ge.useDeferredValue=function(O,F){return $.H.useDeferredValue(O,F)},ge.useEffect=function(O,F,ee){var W=$.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(O,F)},ge.useId=function(){return $.H.useId()},ge.useImperativeHandle=function(O,F,ee){return $.H.useImperativeHandle(O,F,ee)},ge.useInsertionEffect=function(O,F){return $.H.useInsertionEffect(O,F)},ge.useLayoutEffect=function(O,F){return $.H.useLayoutEffect(O,F)},ge.useMemo=function(O,F){return $.H.useMemo(O,F)},ge.useOptimistic=function(O,F){return $.H.useOptimistic(O,F)},ge.useReducer=function(O,F,ee){return $.H.useReducer(O,F,ee)},ge.useRef=function(O){return $.H.useRef(O)},ge.useState=function(O){return $.H.useState(O)},ge.useSyncExternalStore=function(O,F,ee){return $.H.useSyncExternalStore(O,F,ee)},ge.useTransition=function(){return $.H.useTransition()},ge.version="19.1.0",ge}var g0;function Lh(){return g0||(g0=1,Cd.exports=MN()),Cd.exports}var M=Lh();const At=zh(M);var Ed={exports:{}},Jl={},Td={exports:{}},Md={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function kN(){return y0||(y0=1,function(n){function e(U,X){var fe=U.length;U.push(X);e:for(;0<fe;){var _e=fe-1>>>1,O=U[_e];if(0<i(O,X))U[_e]=X,U[fe]=O,fe=_e;else break e}}function t(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var X=U[0],fe=U.pop();if(fe!==X){U[0]=fe;e:for(var _e=0,O=U.length,F=O>>>1;_e<F;){var ee=2*(_e+1)-1,W=U[ee],ae=ee+1,Ce=U[ae];if(0>i(W,fe))ae<O&&0>i(Ce,W)?(U[_e]=Ce,U[ae]=fe,_e=ae):(U[_e]=W,U[ee]=fe,_e=ee);else if(ae<O&&0>i(Ce,fe))U[_e]=Ce,U[ae]=fe,_e=ae;else break e}}return X}function i(U,X){var fe=U.sortIndex-X.sortIndex;return fe!==0?fe:U.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var d=[],h=[],m=1,b=null,x=3,S=!1,v=!1,N=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function K(U){for(var X=t(h);X!==null;){if(X.callback===null)r(h);else if(X.startTime<=U)r(h),X.sortIndex=X.expirationTime,e(d,X);else break;X=t(h)}}function $(U){if(N=!1,K(U),!v)if(t(d)!==null)v=!0,Z||(Z=!0,ce());else{var X=t(h);X!==null&&Ae($,X.startTime-U)}}var Z=!1,Y=-1,z=5,J=-1;function le(){return C?!0:!(n.unstable_now()-J<z)}function re(){if(C=!1,Z){var U=n.unstable_now();J=U;var X=!0;try{e:{v=!1,N&&(N=!1,_(Y),Y=-1),S=!0;var fe=x;try{t:{for(K(U),b=t(d);b!==null&&!(b.expirationTime>U&&le());){var _e=b.callback;if(typeof _e=="function"){b.callback=null,x=b.priorityLevel;var O=_e(b.expirationTime<=U);if(U=n.unstable_now(),typeof O=="function"){b.callback=O,K(U),X=!0;break t}b===t(d)&&r(d),K(U)}else r(d);b=t(d)}if(b!==null)X=!0;else{var F=t(h);F!==null&&Ae($,F.startTime-U),X=!1}}break e}finally{b=null,x=fe,S=!1}X=void 0}}finally{X?ce():Z=!1}}}var ce;if(typeof q=="function")ce=function(){q(re)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,Xe=Ue.port2;Ue.port1.onmessage=re,ce=function(){Xe.postMessage(null)}}else ce=function(){T(re,0)};function Ae(U,X){Y=T(function(){U(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(U){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var fe=x;x=X;try{return U()}finally{x=fe}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var fe=x;x=U;try{return X()}finally{x=fe}},n.unstable_scheduleCallback=function(U,X,fe){var _e=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?_e+fe:_e):fe=_e,U){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=fe+O,U={id:m++,callback:X,priorityLevel:U,startTime:fe,expirationTime:O,sortIndex:-1},fe>_e?(U.sortIndex=fe,e(h,U),t(d)===null&&U===t(h)&&(N?(_(Y),Y=-1):N=!0,Ae($,fe-_e))):(U.sortIndex=O,e(d,U),v||S||(v=!0,Z||(Z=!0,ce()))),U},n.unstable_shouldYield=le,n.unstable_wrapCallback=function(U){var X=x;return function(){var fe=x;x=X;try{return U.apply(this,arguments)}finally{x=fe}}}}(Md)),Md}var b0;function ON(){return b0||(b0=1,Td.exports=kN()),Td.exports}var kd={exports:{}},Ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function AN(){if(x0)return Ct;x0=1;var n=Lh();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,h,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:d,containerInfo:h,implementation:m}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ct.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(d,h,null,m)},Ct.flushSync=function(d){var h=c.T,m=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=h,r.p=m,r.d.f()}},Ct.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},Ct.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Ct.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,b=f(m,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,S=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:S}):m==="script"&&r.d.X(d,{crossOrigin:b,integrity:x,fetchPriority:S,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ct.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=f(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},Ct.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,b=f(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ct.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=f(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},Ct.requestFormReset=function(d){r.d.r(d)},Ct.unstable_batchedUpdates=function(d,h){return d(h)},Ct.useFormState=function(d,h,m){return c.H.useFormState(d,h,m)},Ct.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ct.version="19.1.0",Ct}var v0;function fx(){if(v0)return kd.exports;v0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),kd.exports=AN(),kd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function DN(){if(S0)return Jl;S0=1;var n=ON(),e=Lh(),t=fx();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)l+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,o=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(o=l.return),s=l.return;while(s)}return l.tag===3?o:null}function c(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function f(s){if(a(s)!==s)throw Error(r(188))}function d(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var o=s,u=l;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return f(p),s;if(g===u)return f(p),l;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=p,u=g;else{for(var w=!1,E=p.child;E;){if(E===o){w=!0,o=p,u=g;break}if(E===u){w=!0,u=p,o=g;break}E=E.sibling}if(!w){for(E=g.child;E;){if(E===o){w=!0,o=g,u=p;break}if(E===u){w=!0,u=g,o=p;break}E=E.sibling}if(!w)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?s:l}function h(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=h(s),l!==null)return l;s=s.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),q=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function ce(s){return s===null||typeof s!="object"?null:(s=re&&s[re]||s["@@iterator"],typeof s=="function"?s:null)}var Ue=Symbol.for("react.client.reference");function Xe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Ue?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case v:return"Fragment";case C:return"Profiler";case N:return"StrictMode";case $:return"Suspense";case Z:return"SuspenseList";case J:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case q:return(s.displayName||"Context")+".Provider";case _:return(s._context.displayName||"Context")+".Consumer";case K:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Y:return l=s.displayName||null,l!==null?l:Xe(s.type)||"Memo";case z:l=s._payload,s=s._init;try{return Xe(s(l))}catch{}}return null}var Ae=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},_e=[],O=-1;function F(s){return{current:s}}function ee(s){0>O||(s.current=_e[O],_e[O]=null,O--)}function W(s,l){O++,_e[O]=s.current,s.current=l}var ae=F(null),Ce=F(null),pe=F(null),Ft=F(null);function Ve(s,l){switch(W(pe,l),W(Ce,s),W(ae,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?Vy(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=Vy(l),s=Py(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ee(ae),W(ae,s)}function hr(){ee(ae),ee(Ce),ee(pe)}function au(s){s.memoizedState!==null&&W(Ft,s);var l=ae.current,o=Py(l,s.type);l!==o&&(W(Ce,s),W(ae,o))}function Ra(s){Ce.current===s&&(ee(ae),ee(Ce)),Ft.current===s&&(ee(Ft),Il._currentValue=fe)}var ou=Object.prototype.hasOwnProperty,cu=n.unstable_scheduleCallback,uu=n.unstable_cancelCallback,rS=n.unstable_shouldYield,sS=n.unstable_requestPaint,Tn=n.unstable_now,iS=n.unstable_getCurrentPriorityLevel,Sp=n.unstable_ImmediatePriority,wp=n.unstable_UserBlockingPriority,_a=n.unstable_NormalPriority,lS=n.unstable_LowPriority,Np=n.unstable_IdlePriority,aS=n.log,oS=n.unstable_setDisableYieldValue,Wi=null,Yt=null;function pr(s){if(typeof aS=="function"&&oS(s),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Wi,s)}catch{}}var Gt=Math.clz32?Math.clz32:fS,cS=Math.log,uS=Math.LN2;function fS(s){return s>>>=0,s===0?32:31-(cS(s)/uS|0)|0}var Ba=256,za=4194304;function ss(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function La(s,l,o){var u=s.pendingLanes;if(u===0)return 0;var p=0,g=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var E=u&134217727;return E!==0?(u=E&~g,u!==0?p=ss(u):(w&=E,w!==0?p=ss(w):o||(o=E&~s,o!==0&&(p=ss(o))))):(E=u&~g,E!==0?p=ss(E):w!==0?p=ss(w):o||(o=u&~s,o!==0&&(p=ss(o)))),p===0?0:l!==0&&l!==p&&(l&g)===0&&(g=p&-p,o=l&-l,g>=o||g===32&&(o&4194048)!==0)?l:p}function Qi(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function dS(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cp(){var s=Ba;return Ba<<=1,(Ba&4194048)===0&&(Ba=256),s}function Ep(){var s=za;return za<<=1,(za&62914560)===0&&(za=4194304),s}function fu(s){for(var l=[],o=0;31>o;o++)l.push(s);return l}function Zi(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function hS(s,l,o,u,p,g){var w=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var E=s.entanglements,k=s.expirationTimes,R=s.hiddenUpdates;for(o=w&~o;0<o;){var V=31-Gt(o),I=1<<V;E[V]=0,k[V]=-1;var B=R[V];if(B!==null)for(R[V]=null,V=0;V<B.length;V++){var L=B[V];L!==null&&(L.lane&=-536870913)}o&=~I}u!==0&&Tp(s,u,0),g!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=g&~(w&~l))}function Tp(s,l,o){s.pendingLanes|=l,s.suspendedLanes&=~l;var u=31-Gt(l);s.entangledLanes|=l,s.entanglements[u]=s.entanglements[u]|1073741824|o&4194090}function Mp(s,l){var o=s.entangledLanes|=l;for(s=s.entanglements;o;){var u=31-Gt(o),p=1<<u;p&l|s[u]&l&&(s[u]|=l),o&=~p}}function du(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function hu(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function kp(){var s=X.p;return s!==0?s:(s=window.event,s===void 0?32:a0(s.type))}function pS(s,l){var o=X.p;try{return X.p=s,l()}finally{X.p=o}}var mr=Math.random().toString(36).slice(2),wt="__reactFiber$"+mr,zt="__reactProps$"+mr,Ys="__reactContainer$"+mr,pu="__reactEvents$"+mr,mS="__reactListeners$"+mr,gS="__reactHandles$"+mr,Op="__reactResources$"+mr,el="__reactMarker$"+mr;function mu(s){delete s[wt],delete s[zt],delete s[pu],delete s[mS],delete s[gS]}function Gs(s){var l=s[wt];if(l)return l;for(var o=s.parentNode;o;){if(l=o[Ys]||o[wt]){if(o=l.alternate,l.child!==null||o!==null&&o.child!==null)for(s=Yy(s);s!==null;){if(o=s[wt])return o;s=Yy(s)}return l}s=o,o=s.parentNode}return null}function Ks(s){if(s=s[wt]||s[Ys]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function tl(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function Js(s){var l=s[Op];return l||(l=s[Op]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function rt(s){s[el]=!0}var Ap=new Set,Dp={};function is(s,l){Xs(s,l),Xs(s+"Capture",l)}function Xs(s,l){for(Dp[s]=l,s=0;s<l.length;s++)Ap.add(l[s])}var yS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jp={},Rp={};function bS(s){return ou.call(Rp,s)?!0:ou.call(jp,s)?!1:yS.test(s)?Rp[s]=!0:(jp[s]=!0,!1)}function Ha(s,l,o){if(bS(l))if(o===null)s.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var u=l.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+o)}}function Ua(s,l,o){if(o===null)s.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+o)}}function Vn(s,l,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(l,o,""+u)}}var gu,_p;function Ws(s){if(gu===void 0)try{throw Error()}catch(o){var l=o.stack.trim().match(/\n( *(at )?)/);gu=l&&l[1]||"",_p=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gu+s+_p}var yu=!1;function bu(s,l){if(!s||yu)return"";yu=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(l){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(L){var B=L}Reflect.construct(s,[],I)}else{try{I.call()}catch(L){B=L}s.call(I.prototype)}}else{try{throw Error()}catch(L){B=L}(I=s())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(L){if(L&&B&&typeof L.stack=="string")return[L.stack,B.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),w=g[0],E=g[1];if(w&&E){var k=w.split(`
`),R=E.split(`
`);for(p=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;p<R.length&&!R[p].includes("DetermineComponentFrameRoot");)p++;if(u===k.length||p===R.length)for(u=k.length-1,p=R.length-1;1<=u&&0<=p&&k[u]!==R[p];)p--;for(;1<=u&&0<=p;u--,p--)if(k[u]!==R[p]){if(u!==1||p!==1)do if(u--,p--,0>p||k[u]!==R[p]){var V=`
`+k[u].replace(" at new "," at ");return s.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",s.displayName)),V}while(1<=u&&0<=p);break}}}finally{yu=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Ws(o):""}function xS(s){switch(s.tag){case 26:case 27:case 5:return Ws(s.type);case 16:return Ws("Lazy");case 13:return Ws("Suspense");case 19:return Ws("SuspenseList");case 0:case 15:return bu(s.type,!1);case 11:return bu(s.type.render,!1);case 1:return bu(s.type,!0);case 31:return Ws("Activity");default:return""}}function Bp(s){try{var l="";do l+=xS(s),s=s.return;while(s);return l}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function rn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function zp(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function vS(s){var l=zp(s)?"checked":"value",o=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),u=""+s[l];if(!s.hasOwnProperty(l)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,g=o.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return p.call(this)},set:function(w){u=""+w,g.call(this,w)}}),Object.defineProperty(s,l,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function qa(s){s._valueTracker||(s._valueTracker=vS(s))}function Lp(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var o=l.getValue(),u="";return s&&(u=zp(s)?s.checked?"true":"false":s.value),s=u,s!==o?(l.setValue(s),!0):!1}function Va(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var SS=/[\n"\\]/g;function sn(s){return s.replace(SS,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function xu(s,l,o,u,p,g,w,E){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),l!=null?w==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+rn(l)):s.value!==""+rn(l)&&(s.value=""+rn(l)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),l!=null?vu(s,w,rn(l)):o!=null?vu(s,w,rn(o)):u!=null&&s.removeAttribute("value"),p==null&&g!=null&&(s.defaultChecked=!!g),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.name=""+rn(E):s.removeAttribute("name")}function Hp(s,l,o,u,p,g,w,E){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),l!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||l!=null))return;o=o!=null?""+rn(o):"",l=l!=null?""+rn(l):o,E||l===s.value||(s.value=l),s.defaultValue=l}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=E?s.checked:!!u,s.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w)}function vu(s,l,o){l==="number"&&Va(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Qs(s,l,o,u){if(s=s.options,l){l={};for(var p=0;p<o.length;p++)l["$"+o[p]]=!0;for(o=0;o<s.length;o++)p=l.hasOwnProperty("$"+s[o].value),s[o].selected!==p&&(s[o].selected=p),p&&u&&(s[o].defaultSelected=!0)}else{for(o=""+rn(o),l=null,p=0;p<s.length;p++){if(s[p].value===o){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}l!==null||s[p].disabled||(l=s[p])}l!==null&&(l.selected=!0)}}function Up(s,l,o){if(l!=null&&(l=""+rn(l),l!==s.value&&(s.value=l),o==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=o!=null?""+rn(o):""}function qp(s,l,o,u){if(l==null){if(u!=null){if(o!=null)throw Error(r(92));if(Ae(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),l=o}o=rn(l),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u)}function Zs(s,l){if(l){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=l;return}}s.textContent=l}var wS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vp(s,l,o){var u=l.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":u?s.setProperty(l,o):typeof o!="number"||o===0||wS.has(l)?l==="float"?s.cssFloat=o:s[l]=(""+o).trim():s[l]=o+"px"}function Pp(s,l,o){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||l!=null&&l.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in l)u=l[p],l.hasOwnProperty(p)&&o[p]!==u&&Vp(s,p,u)}else for(var g in l)l.hasOwnProperty(g)&&Vp(s,g,l[g])}function Su(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),CS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(s){return CS.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var wu=null;function Nu(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ei=null,ti=null;function Ip(s){var l=Ks(s);if(l&&(s=l.stateNode)){var o=s[zt]||null;e:switch(s=l.stateNode,l.type){case"input":if(xu(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),l=o.name,o.type==="radio"&&l!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+sn(""+l)+'"][type="radio"]'),l=0;l<o.length;l++){var u=o[l];if(u!==s&&u.form===s.form){var p=u[zt]||null;if(!p)throw Error(r(90));xu(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(l=0;l<o.length;l++)u=o[l],u.form===s.form&&Lp(u)}break e;case"textarea":Up(s,o.value,o.defaultValue);break e;case"select":l=o.value,l!=null&&Qs(s,!!o.multiple,l,!1)}}}var Cu=!1;function $p(s,l,o){if(Cu)return s(l,o);Cu=!0;try{var u=s(l);return u}finally{if(Cu=!1,(ei!==null||ti!==null)&&(ko(),ei&&(l=ei,s=ti,ti=ei=null,Ip(l),s)))for(l=0;l<s.length;l++)Ip(s[l])}}function nl(s,l){var o=s.stateNode;if(o===null)return null;var u=o[zt]||null;if(u===null)return null;o=u[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(r(231,l,typeof o));return o}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eu=!1;if(Pn)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){Eu=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{Eu=!1}var gr=null,Tu=null,Ia=null;function Fp(){if(Ia)return Ia;var s,l=Tu,o=l.length,u,p="value"in gr?gr.value:gr.textContent,g=p.length;for(s=0;s<o&&l[s]===p[s];s++);var w=o-s;for(u=1;u<=w&&l[o-u]===p[g-u];u++);return Ia=p.slice(s,1<u?1-u:void 0)}function $a(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Fa(){return!0}function Yp(){return!1}function Lt(s){function l(o,u,p,g,w){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var E in s)s.hasOwnProperty(E)&&(o=s[E],this[E]=o?o(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Fa:Yp,this.isPropagationStopped=Yp,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fa)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fa)},persist:function(){},isPersistent:Fa}),l}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=Lt(ls),sl=m({},ls,{view:0,detail:0}),ES=Lt(sl),Mu,ku,il,Ga=m({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Au,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==il&&(il&&s.type==="mousemove"?(Mu=s.screenX-il.screenX,ku=s.screenY-il.screenY):ku=Mu=0,il=s),Mu)},movementY:function(s){return"movementY"in s?s.movementY:ku}}),Gp=Lt(Ga),TS=m({},Ga,{dataTransfer:0}),MS=Lt(TS),kS=m({},sl,{relatedTarget:0}),Ou=Lt(kS),OS=m({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),AS=Lt(OS),DS=m({},ls,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),jS=Lt(DS),RS=m({},ls,{data:0}),Kp=Lt(RS),_S={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LS(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=zS[s])?!!l[s]:!1}function Au(){return LS}var HS=m({},sl,{key:function(s){if(s.key){var l=_S[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=$a(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?BS[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Au,charCode:function(s){return s.type==="keypress"?$a(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?$a(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),US=Lt(HS),qS=m({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jp=Lt(qS),VS=m({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Au}),PS=Lt(VS),IS=m({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),$S=Lt(IS),FS=m({},Ga,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),YS=Lt(FS),GS=m({},ls,{newState:0,oldState:0}),KS=Lt(GS),JS=[9,13,27,32],Du=Pn&&"CompositionEvent"in window,ll=null;Pn&&"documentMode"in document&&(ll=document.documentMode);var XS=Pn&&"TextEvent"in window&&!ll,Xp=Pn&&(!Du||ll&&8<ll&&11>=ll),Wp=" ",Qp=!1;function Zp(s,l){switch(s){case"keyup":return JS.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function em(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ni=!1;function WS(s,l){switch(s){case"compositionend":return em(l);case"keypress":return l.which!==32?null:(Qp=!0,Wp);case"textInput":return s=l.data,s===Wp&&Qp?null:s;default:return null}}function QS(s,l){if(ni)return s==="compositionend"||!Du&&Zp(s,l)?(s=Fp(),Ia=Tu=gr=null,ni=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Xp&&l.locale!=="ko"?null:l.data;default:return null}}var ZS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tm(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!ZS[s.type]:l==="textarea"}function nm(s,l,o,u){ei?ti?ti.push(u):ti=[u]:ei=u,l=_o(l,"onChange"),0<l.length&&(o=new Ya("onChange","change",null,o,u),s.push({event:o,listeners:l}))}var al=null,ol=null;function ew(s){zy(s,0)}function Ka(s){var l=tl(s);if(Lp(l))return s}function rm(s,l){if(s==="change")return l}var sm=!1;if(Pn){var ju;if(Pn){var Ru="oninput"in document;if(!Ru){var im=document.createElement("div");im.setAttribute("oninput","return;"),Ru=typeof im.oninput=="function"}ju=Ru}else ju=!1;sm=ju&&(!document.documentMode||9<document.documentMode)}function lm(){al&&(al.detachEvent("onpropertychange",am),ol=al=null)}function am(s){if(s.propertyName==="value"&&Ka(ol)){var l=[];nm(l,ol,s,Nu(s)),$p(ew,l)}}function tw(s,l,o){s==="focusin"?(lm(),al=l,ol=o,al.attachEvent("onpropertychange",am)):s==="focusout"&&lm()}function nw(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ka(ol)}function rw(s,l){if(s==="click")return Ka(l)}function sw(s,l){if(s==="input"||s==="change")return Ka(l)}function iw(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Kt=typeof Object.is=="function"?Object.is:iw;function cl(s,l){if(Kt(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var o=Object.keys(s),u=Object.keys(l);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!ou.call(l,p)||!Kt(s[p],l[p]))return!1}return!0}function om(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function cm(s,l){var o=om(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=l&&u>=l)return{node:o,offset:l-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=om(o)}}function um(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?um(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function fm(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Va(s.document);l instanceof s.HTMLIFrameElement;){try{var o=typeof l.contentWindow.location.href=="string"}catch{o=!1}if(o)s=l.contentWindow;else break;l=Va(s.document)}return l}function _u(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var lw=Pn&&"documentMode"in document&&11>=document.documentMode,ri=null,Bu=null,ul=null,zu=!1;function dm(s,l,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;zu||ri==null||ri!==Va(u)||(u=ri,"selectionStart"in u&&_u(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ul&&cl(ul,u)||(ul=u,u=_o(Bu,"onSelect"),0<u.length&&(l=new Ya("onSelect","select",null,l,o),s.push({event:l,listeners:u}),l.target=ri)))}function as(s,l){var o={};return o[s.toLowerCase()]=l.toLowerCase(),o["Webkit"+s]="webkit"+l,o["Moz"+s]="moz"+l,o}var si={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},Lu={},hm={};Pn&&(hm=document.createElement("div").style,"AnimationEvent"in window||(delete si.animationend.animation,delete si.animationiteration.animation,delete si.animationstart.animation),"TransitionEvent"in window||delete si.transitionend.transition);function cs(s){if(Lu[s])return Lu[s];if(!si[s])return s;var l=si[s],o;for(o in l)if(l.hasOwnProperty(o)&&o in hm)return Lu[s]=l[o];return s}var pm=cs("animationend"),mm=cs("animationiteration"),gm=cs("animationstart"),aw=cs("transitionrun"),ow=cs("transitionstart"),cw=cs("transitioncancel"),ym=cs("transitionend"),bm=new Map,Hu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hu.push("scrollEnd");function bn(s,l){bm.set(s,l),is(l,[s])}var xm=new WeakMap;function ln(s,l){if(typeof s=="object"&&s!==null){var o=xm.get(s);return o!==void 0?o:(l={value:s,source:l,stack:Bp(l)},xm.set(s,l),l)}return{value:s,source:l,stack:Bp(l)}}var an=[],ii=0,Uu=0;function Ja(){for(var s=ii,l=Uu=ii=0;l<s;){var o=an[l];an[l++]=null;var u=an[l];an[l++]=null;var p=an[l];an[l++]=null;var g=an[l];if(an[l++]=null,u!==null&&p!==null){var w=u.pending;w===null?p.next=p:(p.next=w.next,w.next=p),u.pending=p}g!==0&&vm(o,p,g)}}function Xa(s,l,o,u){an[ii++]=s,an[ii++]=l,an[ii++]=o,an[ii++]=u,Uu|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function qu(s,l,o,u){return Xa(s,l,o,u),Wa(s)}function li(s,l){return Xa(s,null,null,l),Wa(s)}function vm(s,l,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var p=!1,g=s.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(p=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,p&&l!==null&&(p=31-Gt(o),s=g.hiddenUpdates,u=s[p],u===null?s[p]=[l]:u.push(l),l.lane=o|536870912),g):null}function Wa(s){if(50<Bl)throw Bl=0,Gf=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var ai={};function uw(s,l,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(s,l,o,u){return new uw(s,l,o,u)}function Vu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function In(s,l){var o=s.alternate;return o===null?(o=Jt(s.tag,l,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=l,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,l=s.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function Sm(s,l){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,l=o.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Qa(s,l,o,u,p,g){var w=0;if(u=s,typeof s=="function")Vu(s)&&(w=1);else if(typeof s=="string")w=dN(s,o,ae.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case J:return s=Jt(31,o,l,p),s.elementType=J,s.lanes=g,s;case v:return us(o.children,p,g,l);case N:w=8,p|=24;break;case C:return s=Jt(12,o,l,p|2),s.elementType=C,s.lanes=g,s;case $:return s=Jt(13,o,l,p),s.elementType=$,s.lanes=g,s;case Z:return s=Jt(19,o,l,p),s.elementType=Z,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case T:case q:w=10;break e;case _:w=9;break e;case K:w=11;break e;case Y:w=14;break e;case z:w=16,u=null;break e}w=29,o=Error(r(130,s===null?"null":typeof s,"")),u=null}return l=Jt(w,o,l,p),l.elementType=s,l.type=u,l.lanes=g,l}function us(s,l,o,u){return s=Jt(7,s,u,l),s.lanes=o,s}function Pu(s,l,o){return s=Jt(6,s,null,l),s.lanes=o,s}function Iu(s,l,o){return l=Jt(4,s.children!==null?s.children:[],s.key,l),l.lanes=o,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var oi=[],ci=0,Za=null,eo=0,on=[],cn=0,fs=null,$n=1,Fn="";function ds(s,l){oi[ci++]=eo,oi[ci++]=Za,Za=s,eo=l}function wm(s,l,o){on[cn++]=$n,on[cn++]=Fn,on[cn++]=fs,fs=s;var u=$n;s=Fn;var p=32-Gt(u)-1;u&=~(1<<p),o+=1;var g=32-Gt(l)+p;if(30<g){var w=p-p%5;g=(u&(1<<w)-1).toString(32),u>>=w,p-=w,$n=1<<32-Gt(l)+p|o<<p|u,Fn=g+s}else $n=1<<g|o<<p|u,Fn=s}function $u(s){s.return!==null&&(ds(s,1),wm(s,1,0))}function Fu(s){for(;s===Za;)Za=oi[--ci],oi[ci]=null,eo=oi[--ci],oi[ci]=null;for(;s===fs;)fs=on[--cn],on[cn]=null,Fn=on[--cn],on[cn]=null,$n=on[--cn],on[cn]=null}var Ot=null,Fe=null,Te=!1,hs=null,Mn=!1,Yu=Error(r(519));function ps(s){var l=Error(r(418,""));throw hl(ln(l,s)),Yu}function Nm(s){var l=s.stateNode,o=s.type,u=s.memoizedProps;switch(l[wt]=s,l[zt]=u,o){case"dialog":we("cancel",l),we("close",l);break;case"iframe":case"object":case"embed":we("load",l);break;case"video":case"audio":for(o=0;o<Ll.length;o++)we(Ll[o],l);break;case"source":we("error",l);break;case"img":case"image":case"link":we("error",l),we("load",l);break;case"details":we("toggle",l);break;case"input":we("invalid",l),Hp(l,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),qa(l);break;case"select":we("invalid",l);break;case"textarea":we("invalid",l),qp(l,u.value,u.defaultValue,u.children),qa(l)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||l.textContent===""+o||u.suppressHydrationWarning===!0||qy(l.textContent,o)?(u.popover!=null&&(we("beforetoggle",l),we("toggle",l)),u.onScroll!=null&&we("scroll",l),u.onScrollEnd!=null&&we("scrollend",l),u.onClick!=null&&(l.onclick=Bo),l=!0):l=!1,l||ps(s)}function Cm(s){for(Ot=s.return;Ot;)switch(Ot.tag){case 5:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Ot=Ot.return}}function fl(s){if(s!==Ot)return!1;if(!Te)return Cm(s),Te=!0,!1;var l=s.tag,o;if((o=l!==3&&l!==27)&&((o=l===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||cd(s.type,s.memoizedProps)),o=!o),o&&Fe&&ps(s),Cm(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(o=s.data,o==="/$"){if(l===0){Fe=vn(s.nextSibling);break e}l--}else o!=="$"&&o!=="$!"&&o!=="$?"||l++;s=s.nextSibling}Fe=null}}else l===27?(l=Fe,jr(s.type)?(s=hd,hd=null,Fe=s):Fe=l):Fe=Ot?vn(s.stateNode.nextSibling):null;return!0}function dl(){Fe=Ot=null,Te=!1}function Em(){var s=hs;return s!==null&&(qt===null?qt=s:qt.push.apply(qt,s),hs=null),s}function hl(s){hs===null?hs=[s]:hs.push(s)}var Gu=F(null),ms=null,Yn=null;function yr(s,l,o){W(Gu,l._currentValue),l._currentValue=o}function Gn(s){s._currentValue=Gu.current,ee(Gu)}function Ku(s,l,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,u!==null&&(u.childLanes|=l)):u!==null&&(u.childLanes&l)!==l&&(u.childLanes|=l),s===o)break;s=s.return}}function Ju(s,l,o,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var g=p.dependencies;if(g!==null){var w=p.child;g=g.firstContext;e:for(;g!==null;){var E=g;g=p;for(var k=0;k<l.length;k++)if(E.context===l[k]){g.lanes|=o,E=g.alternate,E!==null&&(E.lanes|=o),Ku(g.return,o,s),u||(w=null);break e}g=E.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(r(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),Ku(w,o,s),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===s){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function pl(s,l,o,u){s=null;for(var p=l,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var E=p.type;Kt(p.pendingProps.value,w.value)||(s!==null?s.push(E):s=[E])}}else if(p===Ft.current){if(w=p.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(Il):s=[Il])}p=p.return}s!==null&&Ju(l,s,o,u),l.flags|=262144}function to(s){for(s=s.firstContext;s!==null;){if(!Kt(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function gs(s){ms=s,Yn=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Nt(s){return Tm(ms,s)}function no(s,l){return ms===null&&gs(s),Tm(s,l)}function Tm(s,l){var o=l._currentValue;if(l={context:l,memoizedValue:o,next:null},Yn===null){if(s===null)throw Error(r(308));Yn=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Yn=Yn.next=l;return o}var fw=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){l.aborted=!0,s.forEach(function(o){return o()})}},dw=n.unstable_scheduleCallback,hw=n.unstable_NormalPriority,et={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xu(){return{controller:new fw,data:new Map,refCount:0}}function ml(s){s.refCount--,s.refCount===0&&dw(hw,function(){s.controller.abort()})}var gl=null,Wu=0,ui=0,fi=null;function pw(s,l){if(gl===null){var o=gl=[];Wu=0,ui=ed(),fi={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Wu++,l.then(Mm,Mm),l}function Mm(){if(--Wu===0&&gl!==null){fi!==null&&(fi.status="fulfilled");var s=gl;gl=null,ui=0,fi=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function mw(s,l){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return s.then(function(){u.status="fulfilled",u.value=l;for(var p=0;p<o.length;p++)(0,o[p])(l)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var km=U.S;U.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&pw(s,l),km!==null&&km(s,l)};var ys=F(null);function Qu(){var s=ys.current;return s!==null?s:Le.pooledCache}function ro(s,l){l===null?W(ys,ys.current):W(ys,l.pool)}function Om(){var s=Qu();return s===null?null:{parent:et._currentValue,pool:s}}var yl=Error(r(460)),Am=Error(r(474)),so=Error(r(542)),Zu={then:function(){}};function Dm(s){return s=s.status,s==="fulfilled"||s==="rejected"}function io(){}function jm(s,l,o){switch(o=s[o],o===void 0?s.push(l):o!==l&&(l.then(io,io),l=o),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,_m(s),s;default:if(typeof l.status=="string")l.then(io,io);else{if(s=Le,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(u){if(l.status==="pending"){var p=l;p.status="fulfilled",p.value=u}},function(u){if(l.status==="pending"){var p=l;p.status="rejected",p.reason=u}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,_m(s),s}throw bl=l,yl}}var bl=null;function Rm(){if(bl===null)throw Error(r(459));var s=bl;return bl=null,s}function _m(s){if(s===yl||s===so)throw Error(r(483))}var br=!1;function ef(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function xr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function vr(s,l,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Me&2)!==0){var p=u.pending;return p===null?l.next=l:(l.next=p.next,p.next=l),u.pending=l,l=Wa(s),vm(s,null,o),l}return Xa(s,u,l,o),Wa(s)}function xl(s,l,o){if(l=l.updateQueue,l!==null&&(l=l.shared,(o&4194048)!==0)){var u=l.lanes;u&=s.pendingLanes,o|=u,l.lanes=o,Mp(s,o)}}function nf(s,l){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?p=g=l:g=g.next=l}else p=g=l;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=l:s.next=l,o.lastBaseUpdate=l}var rf=!1;function vl(){if(rf){var s=fi;if(s!==null)throw s}}function Sl(s,l,o,u){rf=!1;var p=s.updateQueue;br=!1;var g=p.firstBaseUpdate,w=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var k=E,R=k.next;k.next=null,w===null?g=R:w.next=R,w=k;var V=s.alternate;V!==null&&(V=V.updateQueue,E=V.lastBaseUpdate,E!==w&&(E===null?V.firstBaseUpdate=R:E.next=R,V.lastBaseUpdate=k))}if(g!==null){var I=p.baseState;w=0,V=R=k=null,E=g;do{var B=E.lane&-536870913,L=B!==E.lane;if(L?(Ne&B)===B:(u&B)===B){B!==0&&B===ui&&(rf=!0),V!==null&&(V=V.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var de=s,oe=E;B=l;var Re=o;switch(oe.tag){case 1:if(de=oe.payload,typeof de=="function"){I=de.call(Re,I,B);break e}I=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=oe.payload,B=typeof de=="function"?de.call(Re,I,B):de,B==null)break e;I=m({},I,B);break e;case 2:br=!0}}B=E.callback,B!==null&&(s.flags|=64,L&&(s.flags|=8192),L=p.callbacks,L===null?p.callbacks=[B]:L.push(B))}else L={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},V===null?(R=V=L,k=I):V=V.next=L,w|=B;if(E=E.next,E===null){if(E=p.shared.pending,E===null)break;L=E,E=L.next,L.next=null,p.lastBaseUpdate=L,p.shared.pending=null}}while(!0);V===null&&(k=I),p.baseState=k,p.firstBaseUpdate=R,p.lastBaseUpdate=V,g===null&&(p.shared.lanes=0),kr|=w,s.lanes=w,s.memoizedState=I}}function Bm(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function zm(s,l){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Bm(o[s],l)}var di=F(null),lo=F(0);function Lm(s,l){s=er,W(lo,s),W(di,l),er=s|l.baseLanes}function sf(){W(lo,er),W(di,di.current)}function lf(){er=lo.current,ee(di),ee(lo)}var Sr=0,be=null,De=null,We=null,ao=!1,hi=!1,bs=!1,oo=0,wl=0,pi=null,gw=0;function Ke(){throw Error(r(321))}function af(s,l){if(l===null)return!1;for(var o=0;o<l.length&&o<s.length;o++)if(!Kt(s[o],l[o]))return!1;return!0}function of(s,l,o,u,p,g){return Sr=g,be=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,U.H=s===null||s.memoizedState===null?vg:Sg,bs=!1,g=o(u,p),bs=!1,hi&&(g=Um(l,o,u,p)),Hm(s),g}function Hm(s){U.H=mo;var l=De!==null&&De.next!==null;if(Sr=0,We=De=be=null,ao=!1,wl=0,pi=null,l)throw Error(r(300));s===null||st||(s=s.dependencies,s!==null&&to(s)&&(st=!0))}function Um(s,l,o,u){be=s;var p=0;do{if(hi&&(pi=null),wl=0,hi=!1,25<=p)throw Error(r(301));if(p+=1,We=De=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}U.H=Nw,g=l(o,u)}while(hi);return g}function yw(){var s=U.H,l=s.useState()[0];return l=typeof l.then=="function"?Nl(l):l,s=s.useState()[0],(De!==null?De.memoizedState:null)!==s&&(be.flags|=1024),l}function cf(){var s=oo!==0;return oo=0,s}function uf(s,l,o){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~o}function ff(s){if(ao){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}ao=!1}Sr=0,We=De=be=null,hi=!1,wl=oo=0,pi=null}function Ht(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?be.memoizedState=We=s:We=We.next=s,We}function Qe(){if(De===null){var s=be.alternate;s=s!==null?s.memoizedState:null}else s=De.next;var l=We===null?be.memoizedState:We.next;if(l!==null)We=l,De=s;else{if(s===null)throw be.alternate===null?Error(r(467)):Error(r(310));De=s,s={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},We===null?be.memoizedState=We=s:We=We.next=s}return We}function df(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(s){var l=wl;return wl+=1,pi===null&&(pi=[]),s=jm(pi,s,l),l=be,(We===null?l.memoizedState:We.next)===null&&(l=l.alternate,U.H=l===null||l.memoizedState===null?vg:Sg),s}function co(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Nl(s);if(s.$$typeof===q)return Nt(s)}throw Error(r(438,String(s)))}function hf(s){var l=null,o=be.updateQueue;if(o!==null&&(l=o.memoCache),l==null){var u=be.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(l={data:u.data.map(function(p){return p.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),o===null&&(o=df(),be.updateQueue=o),o.memoCache=l,o=l.data[l.index],o===void 0)for(o=l.data[l.index]=Array(s),u=0;u<s;u++)o[u]=le;return l.index++,o}function Kn(s,l){return typeof l=="function"?l(s):l}function uo(s){var l=Qe();return pf(l,De,s)}function pf(s,l,o){var u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var p=s.baseQueue,g=u.pending;if(g!==null){if(p!==null){var w=p.next;p.next=g.next,g.next=w}l.baseQueue=p=g,u.pending=null}if(g=s.baseState,p===null)s.memoizedState=g;else{l=p.next;var E=w=null,k=null,R=l,V=!1;do{var I=R.lane&-536870913;if(I!==R.lane?(Ne&I)===I:(Sr&I)===I){var B=R.revertLane;if(B===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),I===ui&&(V=!0);else if((Sr&B)===B){R=R.next,B===ui&&(V=!0);continue}else I={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},k===null?(E=k=I,w=g):k=k.next=I,be.lanes|=B,kr|=B;I=R.action,bs&&o(g,I),g=R.hasEagerState?R.eagerState:o(g,I)}else B={lane:I,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},k===null?(E=k=B,w=g):k=k.next=B,be.lanes|=I,kr|=I;R=R.next}while(R!==null&&R!==l);if(k===null?w=g:k.next=E,!Kt(g,s.memoizedState)&&(st=!0,V&&(o=fi,o!==null)))throw o;s.memoizedState=g,s.baseState=w,s.baseQueue=k,u.lastRenderedState=g}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function mf(s){var l=Qe(),o=l.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var u=o.dispatch,p=o.pending,g=l.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do g=s(g,w.action),w=w.next;while(w!==p);Kt(g,l.memoizedState)||(st=!0),l.memoizedState=g,l.baseQueue===null&&(l.baseState=g),o.lastRenderedState=g}return[g,u]}function qm(s,l,o){var u=be,p=Qe(),g=Te;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=l();var w=!Kt((De||p).memoizedState,o);w&&(p.memoizedState=o,st=!0),p=p.queue;var E=Im.bind(null,u,p,s);if(Cl(2048,8,E,[s]),p.getSnapshot!==l||w||We!==null&&We.memoizedState.tag&1){if(u.flags|=2048,mi(9,fo(),Pm.bind(null,u,p,o,l),null),Le===null)throw Error(r(349));g||(Sr&124)!==0||Vm(u,l,o)}return o}function Vm(s,l,o){s.flags|=16384,s={getSnapshot:l,value:o},l=be.updateQueue,l===null?(l=df(),be.updateQueue=l,l.stores=[s]):(o=l.stores,o===null?l.stores=[s]:o.push(s))}function Pm(s,l,o,u){l.value=o,l.getSnapshot=u,$m(l)&&Fm(s)}function Im(s,l,o){return o(function(){$m(l)&&Fm(s)})}function $m(s){var l=s.getSnapshot;s=s.value;try{var o=l();return!Kt(s,o)}catch{return!0}}function Fm(s){var l=li(s,2);l!==null&&en(l,s,2)}function gf(s){var l=Ht();if(typeof s=="function"){var o=s;if(s=o(),bs){pr(!0);try{o()}finally{pr(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:s},l}function Ym(s,l,o,u){return s.baseState=o,pf(s,De,typeof u=="function"?u:Kn)}function bw(s,l,o,u,p){if(po(s))throw Error(r(485));if(s=l.action,s!==null){var g={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};U.T!==null?o(!0):g.isTransition=!1,u(g),o=l.pending,o===null?(g.next=l.pending=g,Gm(l,g)):(g.next=o.next,l.pending=o.next=g)}}function Gm(s,l){var o=l.action,u=l.payload,p=s.state;if(l.isTransition){var g=U.T,w={};U.T=w;try{var E=o(p,u),k=U.S;k!==null&&k(w,E),Km(s,l,E)}catch(R){yf(s,l,R)}finally{U.T=g}}else try{g=o(p,u),Km(s,l,g)}catch(R){yf(s,l,R)}}function Km(s,l,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Jm(s,l,u)},function(u){return yf(s,l,u)}):Jm(s,l,o)}function Jm(s,l,o){l.status="fulfilled",l.value=o,Xm(l),s.state=o,l=s.pending,l!==null&&(o=l.next,o===l?s.pending=null:(o=o.next,l.next=o,Gm(s,o)))}function yf(s,l,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do l.status="rejected",l.reason=o,Xm(l),l=l.next;while(l!==u)}s.action=null}function Xm(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function Wm(s,l){return l}function Qm(s,l){if(Te){var o=Le.formState;if(o!==null){e:{var u=be;if(Te){if(Fe){t:{for(var p=Fe,g=Mn;p.nodeType!==8;){if(!g){p=null;break t}if(p=vn(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Fe=vn(p.nextSibling),u=p.data==="F!";break e}}ps(u)}u=!1}u&&(l=o[0])}}return o=Ht(),o.memoizedState=o.baseState=l,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wm,lastRenderedState:l},o.queue=u,o=yg.bind(null,be,u),u.dispatch=o,u=gf(!1),g=wf.bind(null,be,!1,u.queue),u=Ht(),p={state:l,dispatch:null,action:s,pending:null},u.queue=p,o=bw.bind(null,be,p,g,o),p.dispatch=o,u.memoizedState=s,[l,o,!1]}function Zm(s){var l=Qe();return eg(l,De,s)}function eg(s,l,o){if(l=pf(s,l,Wm)[0],s=uo(Kn)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var u=Nl(l)}catch(w){throw w===yl?so:w}else u=l;l=Qe();var p=l.queue,g=p.dispatch;return o!==l.memoizedState&&(be.flags|=2048,mi(9,fo(),xw.bind(null,p,o),null)),[u,g,s]}function xw(s,l){s.action=l}function tg(s){var l=Qe(),o=De;if(o!==null)return eg(l,o,s);Qe(),l=l.memoizedState,o=Qe();var u=o.queue.dispatch;return o.memoizedState=s,[l,u,!1]}function mi(s,l,o,u){return s={tag:s,create:o,deps:u,inst:l,next:null},l=be.updateQueue,l===null&&(l=df(),be.updateQueue=l),o=l.lastEffect,o===null?l.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,l.lastEffect=s),s}function fo(){return{destroy:void 0,resource:void 0}}function ng(){return Qe().memoizedState}function ho(s,l,o,u){var p=Ht();u=u===void 0?null:u,be.flags|=s,p.memoizedState=mi(1|l,fo(),o,u)}function Cl(s,l,o,u){var p=Qe();u=u===void 0?null:u;var g=p.memoizedState.inst;De!==null&&u!==null&&af(u,De.memoizedState.deps)?p.memoizedState=mi(l,g,o,u):(be.flags|=s,p.memoizedState=mi(1|l,g,o,u))}function rg(s,l){ho(8390656,8,s,l)}function sg(s,l){Cl(2048,8,s,l)}function ig(s,l){return Cl(4,2,s,l)}function lg(s,l){return Cl(4,4,s,l)}function ag(s,l){if(typeof l=="function"){s=s();var o=l(s);return function(){typeof o=="function"?o():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function og(s,l,o){o=o!=null?o.concat([s]):null,Cl(4,4,ag.bind(null,l,s),o)}function bf(){}function cg(s,l){var o=Qe();l=l===void 0?null:l;var u=o.memoizedState;return l!==null&&af(l,u[1])?u[0]:(o.memoizedState=[s,l],s)}function ug(s,l){var o=Qe();l=l===void 0?null:l;var u=o.memoizedState;if(l!==null&&af(l,u[1]))return u[0];if(u=s(),bs){pr(!0);try{s()}finally{pr(!1)}}return o.memoizedState=[u,l],u}function xf(s,l,o){return o===void 0||(Sr&1073741824)!==0?s.memoizedState=l:(s.memoizedState=o,s=hy(),be.lanes|=s,kr|=s,o)}function fg(s,l,o,u){return Kt(o,l)?o:di.current!==null?(s=xf(s,o,u),Kt(s,l)||(st=!0),s):(Sr&42)===0?(st=!0,s.memoizedState=o):(s=hy(),be.lanes|=s,kr|=s,l)}function dg(s,l,o,u,p){var g=X.p;X.p=g!==0&&8>g?g:8;var w=U.T,E={};U.T=E,wf(s,!1,l,o);try{var k=p(),R=U.S;if(R!==null&&R(E,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var V=mw(k,u);El(s,l,V,Zt(s))}else El(s,l,u,Zt(s))}catch(I){El(s,l,{then:function(){},status:"rejected",reason:I},Zt())}finally{X.p=g,U.T=w}}function vw(){}function vf(s,l,o,u){if(s.tag!==5)throw Error(r(476));var p=hg(s).queue;dg(s,p,l,fe,o===null?vw:function(){return pg(s),o(u)})}function hg(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:fe},next:null};var o={};return l.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:o},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function pg(s){var l=hg(s).next.queue;El(s,l,{},Zt())}function Sf(){return Nt(Il)}function mg(){return Qe().memoizedState}function gg(){return Qe().memoizedState}function Sw(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var o=Zt();s=xr(o);var u=vr(l,s,o);u!==null&&(en(u,l,o),xl(u,l,o)),l={cache:Xu()},s.payload=l;return}l=l.return}}function ww(s,l,o){var u=Zt();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},po(s)?bg(l,o):(o=qu(s,l,o,u),o!==null&&(en(o,s,u),xg(o,l,u)))}function yg(s,l,o){var u=Zt();El(s,l,o,u)}function El(s,l,o,u){var p={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(po(s))bg(l,p);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=l.lastRenderedReducer,g!==null))try{var w=l.lastRenderedState,E=g(w,o);if(p.hasEagerState=!0,p.eagerState=E,Kt(E,w))return Xa(s,l,p,0),Le===null&&Ja(),!1}catch{}finally{}if(o=qu(s,l,p,u),o!==null)return en(o,s,u),xg(o,l,u),!0}return!1}function wf(s,l,o,u){if(u={lane:2,revertLane:ed(),action:u,hasEagerState:!1,eagerState:null,next:null},po(s)){if(l)throw Error(r(479))}else l=qu(s,o,u,2),l!==null&&en(l,s,2)}function po(s){var l=s.alternate;return s===be||l!==null&&l===be}function bg(s,l){hi=ao=!0;var o=s.pending;o===null?l.next=l:(l.next=o.next,o.next=l),s.pending=l}function xg(s,l,o){if((o&4194048)!==0){var u=l.lanes;u&=s.pendingLanes,o|=u,l.lanes=o,Mp(s,o)}}var mo={readContext:Nt,use:co,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke},vg={readContext:Nt,use:co,useCallback:function(s,l){return Ht().memoizedState=[s,l===void 0?null:l],s},useContext:Nt,useEffect:rg,useImperativeHandle:function(s,l,o){o=o!=null?o.concat([s]):null,ho(4194308,4,ag.bind(null,l,s),o)},useLayoutEffect:function(s,l){return ho(4194308,4,s,l)},useInsertionEffect:function(s,l){ho(4,2,s,l)},useMemo:function(s,l){var o=Ht();l=l===void 0?null:l;var u=s();if(bs){pr(!0);try{s()}finally{pr(!1)}}return o.memoizedState=[u,l],u},useReducer:function(s,l,o){var u=Ht();if(o!==void 0){var p=o(l);if(bs){pr(!0);try{o(l)}finally{pr(!1)}}}else p=l;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=ww.bind(null,be,s),[u.memoizedState,s]},useRef:function(s){var l=Ht();return s={current:s},l.memoizedState=s},useState:function(s){s=gf(s);var l=s.queue,o=yg.bind(null,be,l);return l.dispatch=o,[s.memoizedState,o]},useDebugValue:bf,useDeferredValue:function(s,l){var o=Ht();return xf(o,s,l)},useTransition:function(){var s=gf(!1);return s=dg.bind(null,be,s.queue,!0,!1),Ht().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,o){var u=be,p=Ht();if(Te){if(o===void 0)throw Error(r(407));o=o()}else{if(o=l(),Le===null)throw Error(r(349));(Ne&124)!==0||Vm(u,l,o)}p.memoizedState=o;var g={value:o,getSnapshot:l};return p.queue=g,rg(Im.bind(null,u,g,s),[s]),u.flags|=2048,mi(9,fo(),Pm.bind(null,u,g,o,l),null),o},useId:function(){var s=Ht(),l=Le.identifierPrefix;if(Te){var o=Fn,u=$n;o=(u&~(1<<32-Gt(u)-1)).toString(32)+o,l=""+l+"R"+o,o=oo++,0<o&&(l+="H"+o.toString(32)),l+=""}else o=gw++,l=""+l+"r"+o.toString(32)+"";return s.memoizedState=l},useHostTransitionStatus:Sf,useFormState:Qm,useActionState:Qm,useOptimistic:function(s){var l=Ht();l.memoizedState=l.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=o,l=wf.bind(null,be,!0,o),o.dispatch=l,[s,l]},useMemoCache:hf,useCacheRefresh:function(){return Ht().memoizedState=Sw.bind(null,be)}},Sg={readContext:Nt,use:co,useCallback:cg,useContext:Nt,useEffect:sg,useImperativeHandle:og,useInsertionEffect:ig,useLayoutEffect:lg,useMemo:ug,useReducer:uo,useRef:ng,useState:function(){return uo(Kn)},useDebugValue:bf,useDeferredValue:function(s,l){var o=Qe();return fg(o,De.memoizedState,s,l)},useTransition:function(){var s=uo(Kn)[0],l=Qe().memoizedState;return[typeof s=="boolean"?s:Nl(s),l]},useSyncExternalStore:qm,useId:mg,useHostTransitionStatus:Sf,useFormState:Zm,useActionState:Zm,useOptimistic:function(s,l){var o=Qe();return Ym(o,De,s,l)},useMemoCache:hf,useCacheRefresh:gg},Nw={readContext:Nt,use:co,useCallback:cg,useContext:Nt,useEffect:sg,useImperativeHandle:og,useInsertionEffect:ig,useLayoutEffect:lg,useMemo:ug,useReducer:mf,useRef:ng,useState:function(){return mf(Kn)},useDebugValue:bf,useDeferredValue:function(s,l){var o=Qe();return De===null?xf(o,s,l):fg(o,De.memoizedState,s,l)},useTransition:function(){var s=mf(Kn)[0],l=Qe().memoizedState;return[typeof s=="boolean"?s:Nl(s),l]},useSyncExternalStore:qm,useId:mg,useHostTransitionStatus:Sf,useFormState:tg,useActionState:tg,useOptimistic:function(s,l){var o=Qe();return De!==null?Ym(o,De,s,l):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:hf,useCacheRefresh:gg},gi=null,Tl=0;function go(s){var l=Tl;return Tl+=1,gi===null&&(gi=[]),jm(gi,s,l)}function Ml(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function yo(s,l){throw l.$$typeof===b?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function wg(s){var l=s._init;return l(s._payload)}function Ng(s){function l(D,A){if(s){var j=D.deletions;j===null?(D.deletions=[A],D.flags|=16):j.push(A)}}function o(D,A){if(!s)return null;for(;A!==null;)l(D,A),A=A.sibling;return null}function u(D){for(var A=new Map;D!==null;)D.key!==null?A.set(D.key,D):A.set(D.index,D),D=D.sibling;return A}function p(D,A){return D=In(D,A),D.index=0,D.sibling=null,D}function g(D,A,j){return D.index=j,s?(j=D.alternate,j!==null?(j=j.index,j<A?(D.flags|=67108866,A):j):(D.flags|=67108866,A)):(D.flags|=1048576,A)}function w(D){return s&&D.alternate===null&&(D.flags|=67108866),D}function E(D,A,j,P){return A===null||A.tag!==6?(A=Pu(j,D.mode,P),A.return=D,A):(A=p(A,j),A.return=D,A)}function k(D,A,j,P){var te=j.type;return te===v?V(D,A,j.props.children,P,j.key):A!==null&&(A.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===z&&wg(te)===A.type)?(A=p(A,j.props),Ml(A,j),A.return=D,A):(A=Qa(j.type,j.key,j.props,null,D.mode,P),Ml(A,j),A.return=D,A)}function R(D,A,j,P){return A===null||A.tag!==4||A.stateNode.containerInfo!==j.containerInfo||A.stateNode.implementation!==j.implementation?(A=Iu(j,D.mode,P),A.return=D,A):(A=p(A,j.children||[]),A.return=D,A)}function V(D,A,j,P,te){return A===null||A.tag!==7?(A=us(j,D.mode,P,te),A.return=D,A):(A=p(A,j),A.return=D,A)}function I(D,A,j){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Pu(""+A,D.mode,j),A.return=D,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case x:return j=Qa(A.type,A.key,A.props,null,D.mode,j),Ml(j,A),j.return=D,j;case S:return A=Iu(A,D.mode,j),A.return=D,A;case z:var P=A._init;return A=P(A._payload),I(D,A,j)}if(Ae(A)||ce(A))return A=us(A,D.mode,j,null),A.return=D,A;if(typeof A.then=="function")return I(D,go(A),j);if(A.$$typeof===q)return I(D,no(D,A),j);yo(D,A)}return null}function B(D,A,j,P){var te=A!==null?A.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return te!==null?null:E(D,A,""+j,P);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case x:return j.key===te?k(D,A,j,P):null;case S:return j.key===te?R(D,A,j,P):null;case z:return te=j._init,j=te(j._payload),B(D,A,j,P)}if(Ae(j)||ce(j))return te!==null?null:V(D,A,j,P,null);if(typeof j.then=="function")return B(D,A,go(j),P);if(j.$$typeof===q)return B(D,A,no(D,j),P);yo(D,j)}return null}function L(D,A,j,P,te){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return D=D.get(j)||null,E(A,D,""+P,te);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case x:return D=D.get(P.key===null?j:P.key)||null,k(A,D,P,te);case S:return D=D.get(P.key===null?j:P.key)||null,R(A,D,P,te);case z:var ve=P._init;return P=ve(P._payload),L(D,A,j,P,te)}if(Ae(P)||ce(P))return D=D.get(j)||null,V(A,D,P,te,null);if(typeof P.then=="function")return L(D,A,j,go(P),te);if(P.$$typeof===q)return L(D,A,j,no(A,P),te);yo(A,P)}return null}function de(D,A,j,P){for(var te=null,ve=null,se=A,ue=A=0,lt=null;se!==null&&ue<j.length;ue++){se.index>ue?(lt=se,se=null):lt=se.sibling;var Ee=B(D,se,j[ue],P);if(Ee===null){se===null&&(se=lt);break}s&&se&&Ee.alternate===null&&l(D,se),A=g(Ee,A,ue),ve===null?te=Ee:ve.sibling=Ee,ve=Ee,se=lt}if(ue===j.length)return o(D,se),Te&&ds(D,ue),te;if(se===null){for(;ue<j.length;ue++)se=I(D,j[ue],P),se!==null&&(A=g(se,A,ue),ve===null?te=se:ve.sibling=se,ve=se);return Te&&ds(D,ue),te}for(se=u(se);ue<j.length;ue++)lt=L(se,D,ue,j[ue],P),lt!==null&&(s&&lt.alternate!==null&&se.delete(lt.key===null?ue:lt.key),A=g(lt,A,ue),ve===null?te=lt:ve.sibling=lt,ve=lt);return s&&se.forEach(function(Lr){return l(D,Lr)}),Te&&ds(D,ue),te}function oe(D,A,j,P){if(j==null)throw Error(r(151));for(var te=null,ve=null,se=A,ue=A=0,lt=null,Ee=j.next();se!==null&&!Ee.done;ue++,Ee=j.next()){se.index>ue?(lt=se,se=null):lt=se.sibling;var Lr=B(D,se,Ee.value,P);if(Lr===null){se===null&&(se=lt);break}s&&se&&Lr.alternate===null&&l(D,se),A=g(Lr,A,ue),ve===null?te=Lr:ve.sibling=Lr,ve=Lr,se=lt}if(Ee.done)return o(D,se),Te&&ds(D,ue),te;if(se===null){for(;!Ee.done;ue++,Ee=j.next())Ee=I(D,Ee.value,P),Ee!==null&&(A=g(Ee,A,ue),ve===null?te=Ee:ve.sibling=Ee,ve=Ee);return Te&&ds(D,ue),te}for(se=u(se);!Ee.done;ue++,Ee=j.next())Ee=L(se,D,ue,Ee.value,P),Ee!==null&&(s&&Ee.alternate!==null&&se.delete(Ee.key===null?ue:Ee.key),A=g(Ee,A,ue),ve===null?te=Ee:ve.sibling=Ee,ve=Ee);return s&&se.forEach(function(CN){return l(D,CN)}),Te&&ds(D,ue),te}function Re(D,A,j,P){if(typeof j=="object"&&j!==null&&j.type===v&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case x:e:{for(var te=j.key;A!==null;){if(A.key===te){if(te=j.type,te===v){if(A.tag===7){o(D,A.sibling),P=p(A,j.props.children),P.return=D,D=P;break e}}else if(A.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===z&&wg(te)===A.type){o(D,A.sibling),P=p(A,j.props),Ml(P,j),P.return=D,D=P;break e}o(D,A);break}else l(D,A);A=A.sibling}j.type===v?(P=us(j.props.children,D.mode,P,j.key),P.return=D,D=P):(P=Qa(j.type,j.key,j.props,null,D.mode,P),Ml(P,j),P.return=D,D=P)}return w(D);case S:e:{for(te=j.key;A!==null;){if(A.key===te)if(A.tag===4&&A.stateNode.containerInfo===j.containerInfo&&A.stateNode.implementation===j.implementation){o(D,A.sibling),P=p(A,j.children||[]),P.return=D,D=P;break e}else{o(D,A);break}else l(D,A);A=A.sibling}P=Iu(j,D.mode,P),P.return=D,D=P}return w(D);case z:return te=j._init,j=te(j._payload),Re(D,A,j,P)}if(Ae(j))return de(D,A,j,P);if(ce(j)){if(te=ce(j),typeof te!="function")throw Error(r(150));return j=te.call(j),oe(D,A,j,P)}if(typeof j.then=="function")return Re(D,A,go(j),P);if(j.$$typeof===q)return Re(D,A,no(D,j),P);yo(D,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,A!==null&&A.tag===6?(o(D,A.sibling),P=p(A,j),P.return=D,D=P):(o(D,A),P=Pu(j,D.mode,P),P.return=D,D=P),w(D)):o(D,A)}return function(D,A,j,P){try{Tl=0;var te=Re(D,A,j,P);return gi=null,te}catch(se){if(se===yl||se===so)throw se;var ve=Jt(29,se,null,D.mode);return ve.lanes=P,ve.return=D,ve}finally{}}}var yi=Ng(!0),Cg=Ng(!1),un=F(null),kn=null;function wr(s){var l=s.alternate;W(tt,tt.current&1),W(un,s),kn===null&&(l===null||di.current!==null||l.memoizedState!==null)&&(kn=s)}function Eg(s){if(s.tag===22){if(W(tt,tt.current),W(un,s),kn===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(kn=s)}}else Nr()}function Nr(){W(tt,tt.current),W(un,un.current)}function Jn(s){ee(un),kn===s&&(kn=null),ee(tt)}var tt=F(0);function bo(s){for(var l=s;l!==null;){if(l.tag===13){var o=l.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||dd(o)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Nf(s,l,o,u){l=s.memoizedState,o=o(u,l),o=o==null?l:m({},l,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Cf={enqueueSetState:function(s,l,o){s=s._reactInternals;var u=Zt(),p=xr(u);p.payload=l,o!=null&&(p.callback=o),l=vr(s,p,u),l!==null&&(en(l,s,u),xl(l,s,u))},enqueueReplaceState:function(s,l,o){s=s._reactInternals;var u=Zt(),p=xr(u);p.tag=1,p.payload=l,o!=null&&(p.callback=o),l=vr(s,p,u),l!==null&&(en(l,s,u),xl(l,s,u))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var o=Zt(),u=xr(o);u.tag=2,l!=null&&(u.callback=l),l=vr(s,u,o),l!==null&&(en(l,s,o),xl(l,s,o))}};function Tg(s,l,o,u,p,g,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,g,w):l.prototype&&l.prototype.isPureReactComponent?!cl(o,u)||!cl(p,g):!0}function Mg(s,l,o,u){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(o,u),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(o,u),l.state!==s&&Cf.enqueueReplaceState(l,l.state,null)}function xs(s,l){var o=l;if("ref"in l){o={};for(var u in l)u!=="ref"&&(o[u]=l[u])}if(s=s.defaultProps){o===l&&(o=m({},o));for(var p in s)o[p]===void 0&&(o[p]=s[p])}return o}var xo=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function kg(s){xo(s)}function Og(s){console.error(s)}function Ag(s){xo(s)}function vo(s,l){try{var o=s.onUncaughtError;o(l.value,{componentStack:l.stack})}catch(u){setTimeout(function(){throw u})}}function Dg(s,l,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ef(s,l,o){return o=xr(o),o.tag=3,o.payload={element:null},o.callback=function(){vo(s,l)},o}function jg(s){return s=xr(s),s.tag=3,s}function Rg(s,l,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=u.value;s.payload=function(){return p(g)},s.callback=function(){Dg(l,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){Dg(l,o,u),typeof p!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function Cw(s,l,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(l=o.alternate,l!==null&&pl(l,o,p,!0),o=un.current,o!==null){switch(o.tag){case 13:return kn===null?Jf():o.alternate===null&&Ye===0&&(Ye=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===Zu?o.flags|=16384:(l=o.updateQueue,l===null?o.updateQueue=new Set([u]):l.add(u),Wf(s,u,p)),!1;case 22:return o.flags|=65536,u===Zu?o.flags|=16384:(l=o.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=l):(o=l.retryQueue,o===null?l.retryQueue=new Set([u]):o.add(u)),Wf(s,u,p)),!1}throw Error(r(435,o.tag))}return Wf(s,u,p),Jf(),!1}if(Te)return l=un.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=p,u!==Yu&&(s=Error(r(422),{cause:u}),hl(ln(s,o)))):(u!==Yu&&(l=Error(r(423),{cause:u}),hl(ln(l,o))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=ln(u,o),p=Ef(s.stateNode,u,p),nf(s,p),Ye!==4&&(Ye=2)),!1;var g=Error(r(520),{cause:u});if(g=ln(g,o),_l===null?_l=[g]:_l.push(g),Ye!==4&&(Ye=2),l===null)return!0;u=ln(u,o),o=l;do{switch(o.tag){case 3:return o.flags|=65536,s=p&-p,o.lanes|=s,s=Ef(o.stateNode,u,s),nf(o,s),!1;case 1:if(l=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Or===null||!Or.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=jg(p),Rg(p,s,o,u),nf(o,p),!1}o=o.return}while(o!==null);return!1}var _g=Error(r(461)),st=!1;function mt(s,l,o,u){l.child=s===null?Cg(l,null,o,u):yi(l,s.child,o,u)}function Bg(s,l,o,u,p){o=o.render;var g=l.ref;if("ref"in u){var w={};for(var E in u)E!=="ref"&&(w[E]=u[E])}else w=u;return gs(l),u=of(s,l,o,w,g,p),E=cf(),s!==null&&!st?(uf(s,l,p),Xn(s,l,p)):(Te&&E&&$u(l),l.flags|=1,mt(s,l,u,p),l.child)}function zg(s,l,o,u,p){if(s===null){var g=o.type;return typeof g=="function"&&!Vu(g)&&g.defaultProps===void 0&&o.compare===null?(l.tag=15,l.type=g,Lg(s,l,g,u,p)):(s=Qa(o.type,null,u,l,l.mode,p),s.ref=l.ref,s.return=l,l.child=s)}if(g=s.child,!Rf(s,p)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:cl,o(w,u)&&s.ref===l.ref)return Xn(s,l,p)}return l.flags|=1,s=In(g,u),s.ref=l.ref,s.return=l,l.child=s}function Lg(s,l,o,u,p){if(s!==null){var g=s.memoizedProps;if(cl(g,u)&&s.ref===l.ref)if(st=!1,l.pendingProps=u=g,Rf(s,p))(s.flags&131072)!==0&&(st=!0);else return l.lanes=s.lanes,Xn(s,l,p)}return Tf(s,l,o,u,p)}function Hg(s,l,o){var u=l.pendingProps,p=u.children,g=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((l.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,s!==null){for(p=l.child=s.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;l.childLanes=g&~u}else l.childLanes=0,l.child=null;return Ug(s,l,u,o)}if((o&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&ro(l,g!==null?g.cachePool:null),g!==null?Lm(l,g):sf(),Eg(l);else return l.lanes=l.childLanes=536870912,Ug(s,l,g!==null?g.baseLanes|o:o,o)}else g!==null?(ro(l,g.cachePool),Lm(l,g),Nr(),l.memoizedState=null):(s!==null&&ro(l,null),sf(),Nr());return mt(s,l,p,o),l.child}function Ug(s,l,o,u){var p=Qu();return p=p===null?null:{parent:et._currentValue,pool:p},l.memoizedState={baseLanes:o,cachePool:p},s!==null&&ro(l,null),sf(),Eg(l),s!==null&&pl(s,l,u,!0),null}function So(s,l){var o=l.ref;if(o===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(s===null||s.ref!==o)&&(l.flags|=4194816)}}function Tf(s,l,o,u,p){return gs(l),o=of(s,l,o,u,void 0,p),u=cf(),s!==null&&!st?(uf(s,l,p),Xn(s,l,p)):(Te&&u&&$u(l),l.flags|=1,mt(s,l,o,p),l.child)}function qg(s,l,o,u,p,g){return gs(l),l.updateQueue=null,o=Um(l,u,o,p),Hm(s),u=cf(),s!==null&&!st?(uf(s,l,g),Xn(s,l,g)):(Te&&u&&$u(l),l.flags|=1,mt(s,l,o,g),l.child)}function Vg(s,l,o,u,p){if(gs(l),l.stateNode===null){var g=ai,w=o.contextType;typeof w=="object"&&w!==null&&(g=Nt(w)),g=new o(u,g),l.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Cf,l.stateNode=g,g._reactInternals=l,g=l.stateNode,g.props=u,g.state=l.memoizedState,g.refs={},ef(l),w=o.contextType,g.context=typeof w=="object"&&w!==null?Nt(w):ai,g.state=l.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Nf(l,o,w,u),g.state=l.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&Cf.enqueueReplaceState(g,g.state,null),Sl(l,u,g,p),vl(),g.state=l.memoizedState),typeof g.componentDidMount=="function"&&(l.flags|=4194308),u=!0}else if(s===null){g=l.stateNode;var E=l.memoizedProps,k=xs(o,E);g.props=k;var R=g.context,V=o.contextType;w=ai,typeof V=="object"&&V!==null&&(w=Nt(V));var I=o.getDerivedStateFromProps;V=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function",E=l.pendingProps!==E,V||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E||R!==w)&&Mg(l,g,u,w),br=!1;var B=l.memoizedState;g.state=B,Sl(l,u,g,p),vl(),R=l.memoizedState,E||B!==R||br?(typeof I=="function"&&(Nf(l,o,I,u),R=l.memoizedState),(k=br||Tg(l,o,k,u,B,R,w))?(V||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(l.flags|=4194308)):(typeof g.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=u,l.memoizedState=R),g.props=u,g.state=R,g.context=w,u=k):(typeof g.componentDidMount=="function"&&(l.flags|=4194308),u=!1)}else{g=l.stateNode,tf(s,l),w=l.memoizedProps,V=xs(o,w),g.props=V,I=l.pendingProps,B=g.context,R=o.contextType,k=ai,typeof R=="object"&&R!==null&&(k=Nt(R)),E=o.getDerivedStateFromProps,(R=typeof E=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==I||B!==k)&&Mg(l,g,u,k),br=!1,B=l.memoizedState,g.state=B,Sl(l,u,g,p),vl();var L=l.memoizedState;w!==I||B!==L||br||s!==null&&s.dependencies!==null&&to(s.dependencies)?(typeof E=="function"&&(Nf(l,o,E,u),L=l.memoizedState),(V=br||Tg(l,o,V,u,B,L,k)||s!==null&&s.dependencies!==null&&to(s.dependencies))?(R||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,L,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,L,k)),typeof g.componentDidUpdate=="function"&&(l.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===s.memoizedProps&&B===s.memoizedState||(l.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&B===s.memoizedState||(l.flags|=1024),l.memoizedProps=u,l.memoizedState=L),g.props=u,g.state=L,g.context=k,u=V):(typeof g.componentDidUpdate!="function"||w===s.memoizedProps&&B===s.memoizedState||(l.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&B===s.memoizedState||(l.flags|=1024),u=!1)}return g=u,So(s,l),u=(l.flags&128)!==0,g||u?(g=l.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),l.flags|=1,s!==null&&u?(l.child=yi(l,s.child,null,p),l.child=yi(l,null,o,p)):mt(s,l,o,p),l.memoizedState=g.state,s=l.child):s=Xn(s,l,p),s}function Pg(s,l,o,u){return dl(),l.flags|=256,mt(s,l,o,u),l.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(s){return{baseLanes:s,cachePool:Om()}}function Of(s,l,o){return s=s!==null?s.childLanes&~o:0,l&&(s|=fn),s}function Ig(s,l,o){var u=l.pendingProps,p=!1,g=(l.flags&128)!==0,w;if((w=g)||(w=s!==null&&s.memoizedState===null?!1:(tt.current&2)!==0),w&&(p=!0,l.flags&=-129),w=(l.flags&32)!==0,l.flags&=-33,s===null){if(Te){if(p?wr(l):Nr(),Te){var E=Fe,k;if(k=E){e:{for(k=E,E=Mn;k.nodeType!==8;){if(!E){E=null;break e}if(k=vn(k.nextSibling),k===null){E=null;break e}}E=k}E!==null?(l.memoizedState={dehydrated:E,treeContext:fs!==null?{id:$n,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},k=Jt(18,null,null,0),k.stateNode=E,k.return=l,l.child=k,Ot=l,Fe=null,k=!0):k=!1}k||ps(l)}if(E=l.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return dd(E)?l.lanes=32:l.lanes=536870912,null;Jn(l)}return E=u.children,u=u.fallback,p?(Nr(),p=l.mode,E=wo({mode:"hidden",children:E},p),u=us(u,p,o,null),E.return=l,u.return=l,E.sibling=u,l.child=E,p=l.child,p.memoizedState=kf(o),p.childLanes=Of(s,w,o),l.memoizedState=Mf,u):(wr(l),Af(l,E))}if(k=s.memoizedState,k!==null&&(E=k.dehydrated,E!==null)){if(g)l.flags&256?(wr(l),l.flags&=-257,l=Df(s,l,o)):l.memoizedState!==null?(Nr(),l.child=s.child,l.flags|=128,l=null):(Nr(),p=u.fallback,E=l.mode,u=wo({mode:"visible",children:u.children},E),p=us(p,E,o,null),p.flags|=2,u.return=l,p.return=l,u.sibling=p,l.child=u,yi(l,s.child,null,o),u=l.child,u.memoizedState=kf(o),u.childLanes=Of(s,w,o),l.memoizedState=Mf,l=p);else if(wr(l),dd(E)){if(w=E.nextSibling&&E.nextSibling.dataset,w)var R=w.dgst;w=R,u=Error(r(419)),u.stack="",u.digest=w,hl({value:u,source:null,stack:null}),l=Df(s,l,o)}else if(st||pl(s,l,o,!1),w=(o&s.childLanes)!==0,st||w){if(w=Le,w!==null&&(u=o&-o,u=(u&42)!==0?1:du(u),u=(u&(w.suspendedLanes|o))!==0?0:u,u!==0&&u!==k.retryLane))throw k.retryLane=u,li(s,u),en(w,s,u),_g;E.data==="$?"||Jf(),l=Df(s,l,o)}else E.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=k.treeContext,Fe=vn(E.nextSibling),Ot=l,Te=!0,hs=null,Mn=!1,s!==null&&(on[cn++]=$n,on[cn++]=Fn,on[cn++]=fs,$n=s.id,Fn=s.overflow,fs=l),l=Af(l,u.children),l.flags|=4096);return l}return p?(Nr(),p=u.fallback,E=l.mode,k=s.child,R=k.sibling,u=In(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,R!==null?p=In(R,p):(p=us(p,E,o,null),p.flags|=2),p.return=l,u.return=l,u.sibling=p,l.child=u,u=p,p=l.child,E=s.child.memoizedState,E===null?E=kf(o):(k=E.cachePool,k!==null?(R=et._currentValue,k=k.parent!==R?{parent:R,pool:R}:k):k=Om(),E={baseLanes:E.baseLanes|o,cachePool:k}),p.memoizedState=E,p.childLanes=Of(s,w,o),l.memoizedState=Mf,u):(wr(l),o=s.child,s=o.sibling,o=In(o,{mode:"visible",children:u.children}),o.return=l,o.sibling=null,s!==null&&(w=l.deletions,w===null?(l.deletions=[s],l.flags|=16):w.push(s)),l.child=o,l.memoizedState=null,o)}function Af(s,l){return l=wo({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function wo(s,l){return s=Jt(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Df(s,l,o){return yi(l,s.child,null,o),s=Af(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function $g(s,l,o){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l),Ku(s.return,l,o)}function jf(s,l,o,u,p){var g=s.memoizedState;g===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p}:(g.isBackwards=l,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=p)}function Fg(s,l,o){var u=l.pendingProps,p=u.revealOrder,g=u.tail;if(mt(s,l,u.children,o),u=tt.current,(u&2)!==0)u=u&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&$g(s,o,l);else if(s.tag===19)$g(s,o,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(W(tt,u),p){case"forwards":for(o=l.child,p=null;o!==null;)s=o.alternate,s!==null&&bo(s)===null&&(p=o),o=o.sibling;o=p,o===null?(p=l.child,l.child=null):(p=o.sibling,o.sibling=null),jf(l,!1,p,o,g);break;case"backwards":for(o=null,p=l.child,l.child=null;p!==null;){if(s=p.alternate,s!==null&&bo(s)===null){l.child=p;break}s=p.sibling,p.sibling=o,o=p,p=s}jf(l,!0,o,null,g);break;case"together":jf(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Xn(s,l,o){if(s!==null&&(l.dependencies=s.dependencies),kr|=l.lanes,(o&l.childLanes)===0)if(s!==null){if(pl(s,l,o,!1),(o&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,o=In(s,s.pendingProps),l.child=o,o.return=l;s.sibling!==null;)s=s.sibling,o=o.sibling=In(s,s.pendingProps),o.return=l;o.sibling=null}return l.child}function Rf(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&to(s)))}function Ew(s,l,o){switch(l.tag){case 3:Ve(l,l.stateNode.containerInfo),yr(l,et,s.memoizedState.cache),dl();break;case 27:case 5:au(l);break;case 4:Ve(l,l.stateNode.containerInfo);break;case 10:yr(l,l.type,l.memoizedProps.value);break;case 13:var u=l.memoizedState;if(u!==null)return u.dehydrated!==null?(wr(l),l.flags|=128,null):(o&l.child.childLanes)!==0?Ig(s,l,o):(wr(l),s=Xn(s,l,o),s!==null?s.sibling:null);wr(l);break;case 19:var p=(s.flags&128)!==0;if(u=(o&l.childLanes)!==0,u||(pl(s,l,o,!1),u=(o&l.childLanes)!==0),p){if(u)return Fg(s,l,o);l.flags|=128}if(p=l.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),W(tt,tt.current),u)break;return null;case 22:case 23:return l.lanes=0,Hg(s,l,o);case 24:yr(l,et,s.memoizedState.cache)}return Xn(s,l,o)}function Yg(s,l,o){if(s!==null)if(s.memoizedProps!==l.pendingProps)st=!0;else{if(!Rf(s,o)&&(l.flags&128)===0)return st=!1,Ew(s,l,o);st=(s.flags&131072)!==0}else st=!1,Te&&(l.flags&1048576)!==0&&wm(l,eo,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var u=l.elementType,p=u._init;if(u=p(u._payload),l.type=u,typeof u=="function")Vu(u)?(s=xs(u,s),l.tag=1,l=Vg(null,l,u,s,o)):(l.tag=0,l=Tf(null,l,u,s,o));else{if(u!=null){if(p=u.$$typeof,p===K){l.tag=11,l=Bg(null,l,u,s,o);break e}else if(p===Y){l.tag=14,l=zg(null,l,u,s,o);break e}}throw l=Xe(u)||u,Error(r(306,l,""))}}return l;case 0:return Tf(s,l,l.type,l.pendingProps,o);case 1:return u=l.type,p=xs(u,l.pendingProps),Vg(s,l,u,p,o);case 3:e:{if(Ve(l,l.stateNode.containerInfo),s===null)throw Error(r(387));u=l.pendingProps;var g=l.memoizedState;p=g.element,tf(s,l),Sl(l,u,null,o);var w=l.memoizedState;if(u=w.cache,yr(l,et,u),u!==g.cache&&Ju(l,[et],o,!0),vl(),u=w.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:w.cache},l.updateQueue.baseState=g,l.memoizedState=g,l.flags&256){l=Pg(s,l,u,o);break e}else if(u!==p){p=ln(Error(r(424)),l),hl(p),l=Pg(s,l,u,o);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Fe=vn(s.firstChild),Ot=l,Te=!0,hs=null,Mn=!0,o=Cg(l,null,u,o),l.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(dl(),u===p){l=Xn(s,l,o);break e}mt(s,l,u,o)}l=l.child}return l;case 26:return So(s,l),s===null?(o=Xy(l.type,null,l.pendingProps,null))?l.memoizedState=o:Te||(o=l.type,s=l.pendingProps,u=zo(pe.current).createElement(o),u[wt]=l,u[zt]=s,yt(u,o,s),rt(u),l.stateNode=u):l.memoizedState=Xy(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return au(l),s===null&&Te&&(u=l.stateNode=Gy(l.type,l.pendingProps,pe.current),Ot=l,Mn=!0,p=Fe,jr(l.type)?(hd=p,Fe=vn(u.firstChild)):Fe=p),mt(s,l,l.pendingProps.children,o),So(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&Te&&((p=u=Fe)&&(u=Zw(u,l.type,l.pendingProps,Mn),u!==null?(l.stateNode=u,Ot=l,Fe=vn(u.firstChild),Mn=!1,p=!0):p=!1),p||ps(l)),au(l),p=l.type,g=l.pendingProps,w=s!==null?s.memoizedProps:null,u=g.children,cd(p,g)?u=null:w!==null&&cd(p,w)&&(l.flags|=32),l.memoizedState!==null&&(p=of(s,l,yw,null,null,o),Il._currentValue=p),So(s,l),mt(s,l,u,o),l.child;case 6:return s===null&&Te&&((s=o=Fe)&&(o=eN(o,l.pendingProps,Mn),o!==null?(l.stateNode=o,Ot=l,Fe=null,s=!0):s=!1),s||ps(l)),null;case 13:return Ig(s,l,o);case 4:return Ve(l,l.stateNode.containerInfo),u=l.pendingProps,s===null?l.child=yi(l,null,u,o):mt(s,l,u,o),l.child;case 11:return Bg(s,l,l.type,l.pendingProps,o);case 7:return mt(s,l,l.pendingProps,o),l.child;case 8:return mt(s,l,l.pendingProps.children,o),l.child;case 12:return mt(s,l,l.pendingProps.children,o),l.child;case 10:return u=l.pendingProps,yr(l,l.type,u.value),mt(s,l,u.children,o),l.child;case 9:return p=l.type._context,u=l.pendingProps.children,gs(l),p=Nt(p),u=u(p),l.flags|=1,mt(s,l,u,o),l.child;case 14:return zg(s,l,l.type,l.pendingProps,o);case 15:return Lg(s,l,l.type,l.pendingProps,o);case 19:return Fg(s,l,o);case 31:return u=l.pendingProps,o=l.mode,u={mode:u.mode,children:u.children},s===null?(o=wo(u,o),o.ref=l.ref,l.child=o,o.return=l,l=o):(o=In(s.child,u),o.ref=l.ref,l.child=o,o.return=l,l=o),l;case 22:return Hg(s,l,o);case 24:return gs(l),u=Nt(et),s===null?(p=Qu(),p===null&&(p=Le,g=Xu(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),l.memoizedState={parent:u,cache:p},ef(l),yr(l,et,p)):((s.lanes&o)!==0&&(tf(s,l),Sl(l,null,null,o),vl()),p=s.memoizedState,g=l.memoizedState,p.parent!==u?(p={parent:u,cache:u},l.memoizedState=p,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=p),yr(l,et,u)):(u=g.cache,yr(l,et,u),u!==p.cache&&Ju(l,[et],o,!0))),mt(s,l,l.pendingProps.children,o),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Wn(s){s.flags|=4}function Gg(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!t0(l)){if(l=un.current,l!==null&&((Ne&4194048)===Ne?kn!==null:(Ne&62914560)!==Ne&&(Ne&536870912)===0||l!==kn))throw bl=Zu,Am;s.flags|=8192}}function No(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Ep():536870912,s.lanes|=l,Si|=l)}function kl(s,l){if(!Te)switch(s.tailMode){case"hidden":l=s.tail;for(var o=null;l!==null;)l.alternate!==null&&(o=l),l=l.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function Ie(s){var l=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(l)for(var p=s.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=o,l}function Tw(s,l,o){var u=l.pendingProps;switch(Fu(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(l),null;case 1:return Ie(l),null;case 3:return o=l.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Gn(et),hr(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(fl(l)?Wn(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Em())),Ie(l),null;case 26:return o=l.memoizedState,s===null?(Wn(l),o!==null?(Ie(l),Gg(l,o)):(Ie(l),l.flags&=-16777217)):o?o!==s.memoizedState?(Wn(l),Ie(l),Gg(l,o)):(Ie(l),l.flags&=-16777217):(s.memoizedProps!==u&&Wn(l),Ie(l),l.flags&=-16777217),null;case 27:Ra(l),o=pe.current;var p=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==u&&Wn(l);else{if(!u){if(l.stateNode===null)throw Error(r(166));return Ie(l),null}s=ae.current,fl(l)?Nm(l):(s=Gy(p,u,o),l.stateNode=s,Wn(l))}return Ie(l),null;case 5:if(Ra(l),o=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==u&&Wn(l);else{if(!u){if(l.stateNode===null)throw Error(r(166));return Ie(l),null}if(s=ae.current,fl(l))Nm(l);else{switch(p=zo(pe.current),s){case 1:s=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:s=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":s=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":s=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":s=p.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?p.createElement(o,{is:u.is}):p.createElement(o)}}s[wt]=l,s[zt]=u;e:for(p=l.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break e;for(;p.sibling===null;){if(p.return===null||p.return===l)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}l.stateNode=s;e:switch(yt(s,o,u),o){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Wn(l)}}return Ie(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==u&&Wn(l);else{if(typeof u!="string"&&l.stateNode===null)throw Error(r(166));if(s=pe.current,fl(l)){if(s=l.stateNode,o=l.memoizedProps,u=null,p=Ot,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[wt]=l,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||qy(s.nodeValue,o)),s||ps(l)}else s=zo(s).createTextNode(u),s[wt]=l,l.stateNode=s}return Ie(l),null;case 13:if(u=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=fl(l),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(r(318));if(p=l.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[wt]=l}else dl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ie(l),p=!1}else p=Em(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return l.flags&256?(Jn(l),l):(Jn(l),null)}if(Jn(l),(l.flags&128)!==0)return l.lanes=o,l;if(o=u!==null,s=s!==null&&s.memoizedState!==null,o){u=l.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048)}return o!==s&&o&&(l.child.flags|=8192),No(l,l.updateQueue),Ie(l),null;case 4:return hr(),s===null&&sd(l.stateNode.containerInfo),Ie(l),null;case 10:return Gn(l.type),Ie(l),null;case 19:if(ee(tt),p=l.memoizedState,p===null)return Ie(l),null;if(u=(l.flags&128)!==0,g=p.rendering,g===null)if(u)kl(p,!1);else{if(Ye!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(g=bo(s),g!==null){for(l.flags|=128,kl(p,!1),s=g.updateQueue,l.updateQueue=s,No(l,s),l.subtreeFlags=0,s=o,o=l.child;o!==null;)Sm(o,s),o=o.sibling;return W(tt,tt.current&1|2),l.child}s=s.sibling}p.tail!==null&&Tn()>To&&(l.flags|=128,u=!0,kl(p,!1),l.lanes=4194304)}else{if(!u)if(s=bo(g),s!==null){if(l.flags|=128,u=!0,s=s.updateQueue,l.updateQueue=s,No(l,s),kl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Te)return Ie(l),null}else 2*Tn()-p.renderingStartTime>To&&o!==536870912&&(l.flags|=128,u=!0,kl(p,!1),l.lanes=4194304);p.isBackwards?(g.sibling=l.child,l.child=g):(s=p.last,s!==null?s.sibling=g:l.child=g,p.last=g)}return p.tail!==null?(l=p.tail,p.rendering=l,p.tail=l.sibling,p.renderingStartTime=Tn(),l.sibling=null,s=tt.current,W(tt,u?s&1|2:s&1),l):(Ie(l),null);case 22:case 23:return Jn(l),lf(),u=l.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(l.flags|=8192):u&&(l.flags|=8192),u?(o&536870912)!==0&&(l.flags&128)===0&&(Ie(l),l.subtreeFlags&6&&(l.flags|=8192)):Ie(l),o=l.updateQueue,o!==null&&No(l,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==o&&(l.flags|=2048),s!==null&&ee(ys),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),l.memoizedState.cache!==o&&(l.flags|=2048),Gn(et),Ie(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function Mw(s,l){switch(Fu(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Gn(et),hr(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Ra(l),null;case 13:if(Jn(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));dl()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return ee(tt),null;case 4:return hr(),null;case 10:return Gn(l.type),null;case 22:case 23:return Jn(l),lf(),s!==null&&ee(ys),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Gn(et),null;case 25:return null;default:return null}}function Kg(s,l){switch(Fu(l),l.tag){case 3:Gn(et),hr();break;case 26:case 27:case 5:Ra(l);break;case 4:hr();break;case 13:Jn(l);break;case 19:ee(tt);break;case 10:Gn(l.type);break;case 22:case 23:Jn(l),lf(),s!==null&&ee(ys);break;case 24:Gn(et)}}function Ol(s,l){try{var o=l.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&s)===s){u=void 0;var g=o.create,w=o.inst;u=g(),w.destroy=u}o=o.next}while(o!==p)}}catch(E){Be(l,l.return,E)}}function Cr(s,l,o){try{var u=l.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var g=p.next;u=g;do{if((u.tag&s)===s){var w=u.inst,E=w.destroy;if(E!==void 0){w.destroy=void 0,p=l;var k=o,R=E;try{R()}catch(V){Be(p,k,V)}}}u=u.next}while(u!==g)}}catch(V){Be(l,l.return,V)}}function Jg(s){var l=s.updateQueue;if(l!==null){var o=s.stateNode;try{zm(l,o)}catch(u){Be(s,s.return,u)}}}function Xg(s,l,o){o.props=xs(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){Be(s,l,u)}}function Al(s,l){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(p){Be(s,l,p)}}function On(s,l){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){Be(s,l,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Be(s,l,p)}else o.current=null}function Wg(s){var l=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){Be(s,s.return,p)}}function _f(s,l,o){try{var u=s.stateNode;Kw(u,s.type,o,l),u[zt]=l}catch(p){Be(s,s.return,p)}}function Qg(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&jr(s.type)||s.tag===4}function Bf(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Qg(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&jr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function zf(s,l,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,l?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,l):(l=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,l.appendChild(s),o=o._reactRootContainer,o!=null||l.onclick!==null||(l.onclick=Bo));else if(u!==4&&(u===27&&jr(s.type)&&(o=s.stateNode,l=null),s=s.child,s!==null))for(zf(s,l,o),s=s.sibling;s!==null;)zf(s,l,o),s=s.sibling}function Co(s,l,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,l?o.insertBefore(s,l):o.appendChild(s);else if(u!==4&&(u===27&&jr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Co(s,l,o),s=s.sibling;s!==null;)Co(s,l,o),s=s.sibling}function Zg(s){var l=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,p=l.attributes;p.length;)l.removeAttributeNode(p[0]);yt(l,u,o),l[wt]=s,l[zt]=o}catch(g){Be(s,s.return,g)}}var Qn=!1,Je=!1,Lf=!1,ey=typeof WeakSet=="function"?WeakSet:Set,it=null;function kw(s,l){if(s=s.containerInfo,ad=Po,s=fm(s),_u(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var w=0,E=-1,k=-1,R=0,V=0,I=s,B=null;t:for(;;){for(var L;I!==o||p!==0&&I.nodeType!==3||(E=w+p),I!==g||u!==0&&I.nodeType!==3||(k=w+u),I.nodeType===3&&(w+=I.nodeValue.length),(L=I.firstChild)!==null;)B=I,I=L;for(;;){if(I===s)break t;if(B===o&&++R===p&&(E=w),B===g&&++V===u&&(k=w),(L=I.nextSibling)!==null)break;I=B,B=I.parentNode}I=L}o=E===-1||k===-1?null:{start:E,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(od={focusedElem:s,selectionRange:o},Po=!1,it=l;it!==null;)if(l=it,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,it=s;else for(;it!==null;){switch(l=it,g=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,o=l,p=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var de=xs(o.type,p,o.elementType===o.type);s=u.getSnapshotBeforeUpdate(de,g),u.__reactInternalSnapshotBeforeUpdate=s}catch(oe){Be(o,o.return,oe)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,o=s.nodeType,o===9)fd(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":fd(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,it=s;break}it=l.return}}function ty(s,l,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Er(s,o),u&4&&Ol(5,o);break;case 1:if(Er(s,o),u&4)if(s=o.stateNode,l===null)try{s.componentDidMount()}catch(w){Be(o,o.return,w)}else{var p=xs(o.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(p,l,s.__reactInternalSnapshotBeforeUpdate)}catch(w){Be(o,o.return,w)}}u&64&&Jg(o),u&512&&Al(o,o.return);break;case 3:if(Er(s,o),u&64&&(s=o.updateQueue,s!==null)){if(l=null,o.child!==null)switch(o.child.tag){case 27:case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}try{zm(s,l)}catch(w){Be(o,o.return,w)}}break;case 27:l===null&&u&4&&Zg(o);case 26:case 5:Er(s,o),l===null&&u&4&&Wg(o),u&512&&Al(o,o.return);break;case 12:Er(s,o);break;case 13:Er(s,o),u&4&&sy(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=Lw.bind(null,o),tN(s,o))));break;case 22:if(u=o.memoizedState!==null||Qn,!u){l=l!==null&&l.memoizedState!==null||Je,p=Qn;var g=Je;Qn=u,(Je=l)&&!g?Tr(s,o,(o.subtreeFlags&8772)!==0):Er(s,o),Qn=p,Je=g}break;case 30:break;default:Er(s,o)}}function ny(s){var l=s.alternate;l!==null&&(s.alternate=null,ny(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&mu(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Pe=null,Ut=!1;function Zn(s,l,o){for(o=o.child;o!==null;)ry(s,l,o),o=o.sibling}function ry(s,l,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Wi,o)}catch{}switch(o.tag){case 26:Je||On(o,l),Zn(s,l,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Je||On(o,l);var u=Pe,p=Ut;jr(o.type)&&(Pe=o.stateNode,Ut=!1),Zn(s,l,o),Ul(o.stateNode),Pe=u,Ut=p;break;case 5:Je||On(o,l);case 6:if(u=Pe,p=Ut,Pe=null,Zn(s,l,o),Pe=u,Ut=p,Pe!==null)if(Ut)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(o.stateNode)}catch(g){Be(o,l,g)}else try{Pe.removeChild(o.stateNode)}catch(g){Be(o,l,g)}break;case 18:Pe!==null&&(Ut?(s=Pe,Fy(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Gl(s)):Fy(Pe,o.stateNode));break;case 4:u=Pe,p=Ut,Pe=o.stateNode.containerInfo,Ut=!0,Zn(s,l,o),Pe=u,Ut=p;break;case 0:case 11:case 14:case 15:Je||Cr(2,o,l),Je||Cr(4,o,l),Zn(s,l,o);break;case 1:Je||(On(o,l),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Xg(o,l,u)),Zn(s,l,o);break;case 21:Zn(s,l,o);break;case 22:Je=(u=Je)||o.memoizedState!==null,Zn(s,l,o),Je=u;break;default:Zn(s,l,o)}}function sy(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Gl(s)}catch(o){Be(l,l.return,o)}}function Ow(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new ey),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new ey),l;default:throw Error(r(435,s.tag))}}function Hf(s,l){var o=Ow(s);l.forEach(function(u){var p=Hw.bind(null,s,u);o.has(u)||(o.add(u),u.then(p,p))})}function Xt(s,l){var o=l.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],g=s,w=l,E=w;e:for(;E!==null;){switch(E.tag){case 27:if(jr(E.type)){Pe=E.stateNode,Ut=!1;break e}break;case 5:Pe=E.stateNode,Ut=!1;break e;case 3:case 4:Pe=E.stateNode.containerInfo,Ut=!0;break e}E=E.return}if(Pe===null)throw Error(r(160));ry(g,w,p),Pe=null,Ut=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)iy(l,s),l=l.sibling}var xn=null;function iy(s,l){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Xt(l,s),Wt(s),u&4&&(Cr(3,s,s.return),Ol(3,s),Cr(5,s,s.return));break;case 1:Xt(l,s),Wt(s),u&512&&(Je||o===null||On(o,o.return)),u&64&&Qn&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=xn;if(Xt(l,s),Wt(s),u&512&&(Je||o===null||On(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":g=p.getElementsByTagName("title")[0],(!g||g[el]||g[wt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(u),p.head.insertBefore(g,p.querySelector("head > title"))),yt(g,u,o),g[wt]=s,rt(g),u=g;break e;case"link":var w=Zy("link","href",p).get(u+(o.href||""));if(w){for(var E=0;E<w.length;E++)if(g=w[E],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(E,1);break t}}g=p.createElement(u),yt(g,u,o),p.head.appendChild(g);break;case"meta":if(w=Zy("meta","content",p).get(u+(o.content||""))){for(E=0;E<w.length;E++)if(g=w[E],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(E,1);break t}}g=p.createElement(u),yt(g,u,o),p.head.appendChild(g);break;default:throw Error(r(468,u))}g[wt]=s,rt(g),u=g}s.stateNode=u}else e0(p,s.type,s.stateNode);else s.stateNode=Qy(p,u,s.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?e0(p,s.type,s.stateNode):Qy(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&_f(s,s.memoizedProps,o.memoizedProps)}break;case 27:Xt(l,s),Wt(s),u&512&&(Je||o===null||On(o,o.return)),o!==null&&u&4&&_f(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Xt(l,s),Wt(s),u&512&&(Je||o===null||On(o,o.return)),s.flags&32){p=s.stateNode;try{Zs(p,"")}catch(L){Be(s,s.return,L)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,_f(s,p,o!==null?o.memoizedProps:p)),u&1024&&(Lf=!0);break;case 6:if(Xt(l,s),Wt(s),u&4){if(s.stateNode===null)throw Error(r(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(L){Be(s,s.return,L)}}break;case 3:if(Uo=null,p=xn,xn=Lo(l.containerInfo),Xt(l,s),xn=p,Wt(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Gl(l.containerInfo)}catch(L){Be(s,s.return,L)}Lf&&(Lf=!1,ly(s));break;case 4:u=xn,xn=Lo(s.stateNode.containerInfo),Xt(l,s),Wt(s),xn=u;break;case 12:Xt(l,s),Wt(s);break;case 13:Xt(l,s),Wt(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&($f=Tn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Hf(s,u)));break;case 22:p=s.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,R=Qn,V=Je;if(Qn=R||p,Je=V||k,Xt(l,s),Je=V,Qn=R,Wt(s),u&8192)e:for(l=s.stateNode,l._visibility=p?l._visibility&-2:l._visibility|1,p&&(o===null||k||Qn||Je||vs(s)),o=null,l=s;;){if(l.tag===5||l.tag===26){if(o===null){k=o=l;try{if(g=k.stateNode,p)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{E=k.stateNode;var I=k.memoizedProps.style,B=I!=null&&I.hasOwnProperty("display")?I.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(L){Be(k,k.return,L)}}}else if(l.tag===6){if(o===null){k=l;try{k.stateNode.nodeValue=p?"":k.memoizedProps}catch(L){Be(k,k.return,L)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;o===l&&(o=null),l=l.return}o===l&&(o=null),l.sibling.return=l.return,l=l.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Hf(s,o))));break;case 19:Xt(l,s),Wt(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Hf(s,u)));break;case 30:break;case 21:break;default:Xt(l,s),Wt(s)}}function Wt(s){var l=s.flags;if(l&2){try{for(var o,u=s.return;u!==null;){if(Qg(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,g=Bf(s);Co(s,g,p);break;case 5:var w=o.stateNode;o.flags&32&&(Zs(w,""),o.flags&=-33);var E=Bf(s);Co(s,E,w);break;case 3:case 4:var k=o.stateNode.containerInfo,R=Bf(s);zf(s,R,k);break;default:throw Error(r(161))}}catch(V){Be(s,s.return,V)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function ly(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;ly(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Er(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)ty(s,l.alternate,l),l=l.sibling}function vs(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Cr(4,l,l.return),vs(l);break;case 1:On(l,l.return);var o=l.stateNode;typeof o.componentWillUnmount=="function"&&Xg(l,l.return,o),vs(l);break;case 27:Ul(l.stateNode);case 26:case 5:On(l,l.return),vs(l);break;case 22:l.memoizedState===null&&vs(l);break;case 30:vs(l);break;default:vs(l)}s=s.sibling}}function Tr(s,l,o){for(o=o&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var u=l.alternate,p=s,g=l,w=g.flags;switch(g.tag){case 0:case 11:case 15:Tr(p,g,o),Ol(4,g);break;case 1:if(Tr(p,g,o),u=g,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(R){Be(u,u.return,R)}if(u=g,p=u.updateQueue,p!==null){var E=u.stateNode;try{var k=p.shared.hiddenCallbacks;if(k!==null)for(p.shared.hiddenCallbacks=null,p=0;p<k.length;p++)Bm(k[p],E)}catch(R){Be(u,u.return,R)}}o&&w&64&&Jg(g),Al(g,g.return);break;case 27:Zg(g);case 26:case 5:Tr(p,g,o),o&&u===null&&w&4&&Wg(g),Al(g,g.return);break;case 12:Tr(p,g,o);break;case 13:Tr(p,g,o),o&&w&4&&sy(p,g);break;case 22:g.memoizedState===null&&Tr(p,g,o),Al(g,g.return);break;case 30:break;default:Tr(p,g,o)}l=l.sibling}}function Uf(s,l){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&ml(o))}function qf(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&ml(s))}function An(s,l,o,u){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ay(s,l,o,u),l=l.sibling}function ay(s,l,o,u){var p=l.flags;switch(l.tag){case 0:case 11:case 15:An(s,l,o,u),p&2048&&Ol(9,l);break;case 1:An(s,l,o,u);break;case 3:An(s,l,o,u),p&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&ml(s)));break;case 12:if(p&2048){An(s,l,o,u),s=l.stateNode;try{var g=l.memoizedProps,w=g.id,E=g.onPostCommit;typeof E=="function"&&E(w,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(k){Be(l,l.return,k)}}else An(s,l,o,u);break;case 13:An(s,l,o,u);break;case 23:break;case 22:g=l.stateNode,w=l.alternate,l.memoizedState!==null?g._visibility&2?An(s,l,o,u):Dl(s,l):g._visibility&2?An(s,l,o,u):(g._visibility|=2,bi(s,l,o,u,(l.subtreeFlags&10256)!==0)),p&2048&&Uf(w,l);break;case 24:An(s,l,o,u),p&2048&&qf(l.alternate,l);break;default:An(s,l,o,u)}}function bi(s,l,o,u,p){for(p=p&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var g=s,w=l,E=o,k=u,R=w.flags;switch(w.tag){case 0:case 11:case 15:bi(g,w,E,k,p),Ol(8,w);break;case 23:break;case 22:var V=w.stateNode;w.memoizedState!==null?V._visibility&2?bi(g,w,E,k,p):Dl(g,w):(V._visibility|=2,bi(g,w,E,k,p)),p&&R&2048&&Uf(w.alternate,w);break;case 24:bi(g,w,E,k,p),p&&R&2048&&qf(w.alternate,w);break;default:bi(g,w,E,k,p)}l=l.sibling}}function Dl(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var o=s,u=l,p=u.flags;switch(u.tag){case 22:Dl(o,u),p&2048&&Uf(u.alternate,u);break;case 24:Dl(o,u),p&2048&&qf(u.alternate,u);break;default:Dl(o,u)}l=l.sibling}}var jl=8192;function xi(s){if(s.subtreeFlags&jl)for(s=s.child;s!==null;)oy(s),s=s.sibling}function oy(s){switch(s.tag){case 26:xi(s),s.flags&jl&&s.memoizedState!==null&&pN(xn,s.memoizedState,s.memoizedProps);break;case 5:xi(s);break;case 3:case 4:var l=xn;xn=Lo(s.stateNode.containerInfo),xi(s),xn=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=jl,jl=16777216,xi(s),jl=l):xi(s));break;default:xi(s)}}function cy(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Rl(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var o=0;o<l.length;o++){var u=l[o];it=u,fy(u,s)}cy(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)uy(s),s=s.sibling}function uy(s){switch(s.tag){case 0:case 11:case 15:Rl(s),s.flags&2048&&Cr(9,s,s.return);break;case 3:Rl(s);break;case 12:Rl(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,Eo(s)):Rl(s);break;default:Rl(s)}}function Eo(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var o=0;o<l.length;o++){var u=l[o];it=u,fy(u,s)}cy(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Cr(8,l,l.return),Eo(l);break;case 22:o=l.stateNode,o._visibility&2&&(o._visibility&=-3,Eo(l));break;default:Eo(l)}s=s.sibling}}function fy(s,l){for(;it!==null;){var o=it;switch(o.tag){case 0:case 11:case 15:Cr(8,o,l);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ml(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,it=u;else e:for(o=s;it!==null;){u=it;var p=u.sibling,g=u.return;if(ny(u),u===o){it=null;break e}if(p!==null){p.return=g,it=p;break e}it=g}}}var Aw={getCacheForType:function(s){var l=Nt(et),o=l.data.get(s);return o===void 0&&(o=s(),l.data.set(s,o)),o}},Dw=typeof WeakMap=="function"?WeakMap:Map,Me=0,Le=null,Se=null,Ne=0,ke=0,Qt=null,Mr=!1,vi=!1,Vf=!1,er=0,Ye=0,kr=0,Ss=0,Pf=0,fn=0,Si=0,_l=null,qt=null,If=!1,$f=0,To=1/0,Mo=null,Or=null,gt=0,Ar=null,wi=null,Ni=0,Ff=0,Yf=null,dy=null,Bl=0,Gf=null;function Zt(){if((Me&2)!==0&&Ne!==0)return Ne&-Ne;if(U.T!==null){var s=ui;return s!==0?s:ed()}return kp()}function hy(){fn===0&&(fn=(Ne&536870912)===0||Te?Cp():536870912);var s=un.current;return s!==null&&(s.flags|=32),fn}function en(s,l,o){(s===Le&&(ke===2||ke===9)||s.cancelPendingCommit!==null)&&(Ci(s,0),Dr(s,Ne,fn,!1)),Zi(s,o),((Me&2)===0||s!==Le)&&(s===Le&&((Me&2)===0&&(Ss|=o),Ye===4&&Dr(s,Ne,fn,!1)),Dn(s))}function py(s,l,o){if((Me&6)!==0)throw Error(r(327));var u=!o&&(l&124)===0&&(l&s.expiredLanes)===0||Qi(s,l),p=u?_w(s,l):Xf(s,l,!0),g=u;do{if(p===0){vi&&!u&&Dr(s,l,0,!1);break}else{if(o=s.current.alternate,g&&!jw(o)){p=Xf(s,l,!1),g=!1;continue}if(p===2){if(g=l,s.errorRecoveryDisabledLanes&g)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){l=w;e:{var E=s;p=_l;var k=E.current.memoizedState.isDehydrated;if(k&&(Ci(E,w).flags|=256),w=Xf(E,w,!1),w!==2){if(Vf&&!k){E.errorRecoveryDisabledLanes|=g,Ss|=g,p=4;break e}g=qt,qt=p,g!==null&&(qt===null?qt=g:qt.push.apply(qt,g))}p=w}if(g=!1,p!==2)continue}}if(p===1){Ci(s,0),Dr(s,l,0,!0);break}e:{switch(u=s,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Dr(u,l,fn,!Mr);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(p=$f+300-Tn(),10<p)){if(Dr(u,l,fn,!Mr),La(u,0,!0)!==0)break e;u.timeoutHandle=Iy(my.bind(null,u,o,qt,Mo,If,l,fn,Ss,Si,Mr,g,2,-0,0),p);break e}my(u,o,qt,Mo,If,l,fn,Ss,Si,Mr,g,0,-0,0)}}break}while(!0);Dn(s)}function my(s,l,o,u,p,g,w,E,k,R,V,I,B,L){if(s.timeoutHandle=-1,I=l.subtreeFlags,(I&8192||(I&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:hN},oy(l),I=mN(),I!==null)){s.cancelPendingCommit=I(wy.bind(null,s,l,g,o,u,p,w,E,k,V,1,B,L)),Dr(s,g,w,!R);return}wy(s,l,g,o,u,p,w,E,k)}function jw(s){for(var l=s;;){var o=l.tag;if((o===0||o===11||o===15)&&l.flags&16384&&(o=l.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],g=p.getSnapshot;p=p.value;try{if(!Kt(g(),p))return!1}catch{return!1}}if(o=l.child,l.subtreeFlags&16384&&o!==null)o.return=l,l=o;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Dr(s,l,o,u){l&=~Pf,l&=~Ss,s.suspendedLanes|=l,s.pingedLanes&=~l,u&&(s.warmLanes|=l),u=s.expirationTimes;for(var p=l;0<p;){var g=31-Gt(p),w=1<<g;u[g]=-1,p&=~w}o!==0&&Tp(s,o,l)}function ko(){return(Me&6)===0?(zl(0),!1):!0}function Kf(){if(Se!==null){if(ke===0)var s=Se.return;else s=Se,Yn=ms=null,ff(s),gi=null,Tl=0,s=Se;for(;s!==null;)Kg(s.alternate,s),s=s.return;Se=null}}function Ci(s,l){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,Xw(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Kf(),Le=s,Se=o=In(s.current,null),Ne=l,ke=0,Qt=null,Mr=!1,vi=Qi(s,l),Vf=!1,Si=fn=Pf=Ss=kr=Ye=0,qt=_l=null,If=!1,(l&8)!==0&&(l|=l&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=l;0<u;){var p=31-Gt(u),g=1<<p;l|=s[p],u&=~g}return er=l,Ja(),o}function gy(s,l){be=null,U.H=mo,l===yl||l===so?(l=Rm(),ke=3):l===Am?(l=Rm(),ke=4):ke=l===_g?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Qt=l,Se===null&&(Ye=1,vo(s,ln(l,s.current)))}function yy(){var s=U.H;return U.H=mo,s===null?mo:s}function by(){var s=U.A;return U.A=Aw,s}function Jf(){Ye=4,Mr||(Ne&4194048)!==Ne&&un.current!==null||(vi=!0),(kr&134217727)===0&&(Ss&134217727)===0||Le===null||Dr(Le,Ne,fn,!1)}function Xf(s,l,o){var u=Me;Me|=2;var p=yy(),g=by();(Le!==s||Ne!==l)&&(Mo=null,Ci(s,l)),l=!1;var w=Ye;e:do try{if(ke!==0&&Se!==null){var E=Se,k=Qt;switch(ke){case 8:Kf(),w=6;break e;case 3:case 2:case 9:case 6:un.current===null&&(l=!0);var R=ke;if(ke=0,Qt=null,Ei(s,E,k,R),o&&vi){w=0;break e}break;default:R=ke,ke=0,Qt=null,Ei(s,E,k,R)}}Rw(),w=Ye;break}catch(V){gy(s,V)}while(!0);return l&&s.shellSuspendCounter++,Yn=ms=null,Me=u,U.H=p,U.A=g,Se===null&&(Le=null,Ne=0,Ja()),w}function Rw(){for(;Se!==null;)xy(Se)}function _w(s,l){var o=Me;Me|=2;var u=yy(),p=by();Le!==s||Ne!==l?(Mo=null,To=Tn()+500,Ci(s,l)):vi=Qi(s,l);e:do try{if(ke!==0&&Se!==null){l=Se;var g=Qt;t:switch(ke){case 1:ke=0,Qt=null,Ei(s,l,g,1);break;case 2:case 9:if(Dm(g)){ke=0,Qt=null,vy(l);break}l=function(){ke!==2&&ke!==9||Le!==s||(ke=7),Dn(s)},g.then(l,l);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:Dm(g)?(ke=0,Qt=null,vy(l)):(ke=0,Qt=null,Ei(s,l,g,7));break;case 5:var w=null;switch(Se.tag){case 26:w=Se.memoizedState;case 5:case 27:var E=Se;if(!w||t0(w)){ke=0,Qt=null;var k=E.sibling;if(k!==null)Se=k;else{var R=E.return;R!==null?(Se=R,Oo(R)):Se=null}break t}}ke=0,Qt=null,Ei(s,l,g,5);break;case 6:ke=0,Qt=null,Ei(s,l,g,6);break;case 8:Kf(),Ye=6;break e;default:throw Error(r(462))}}Bw();break}catch(V){gy(s,V)}while(!0);return Yn=ms=null,U.H=u,U.A=p,Me=o,Se!==null?0:(Le=null,Ne=0,Ja(),Ye)}function Bw(){for(;Se!==null&&!rS();)xy(Se)}function xy(s){var l=Yg(s.alternate,s,er);s.memoizedProps=s.pendingProps,l===null?Oo(s):Se=l}function vy(s){var l=s,o=l.alternate;switch(l.tag){case 15:case 0:l=qg(o,l,l.pendingProps,l.type,void 0,Ne);break;case 11:l=qg(o,l,l.pendingProps,l.type.render,l.ref,Ne);break;case 5:ff(l);default:Kg(o,l),l=Se=Sm(l,er),l=Yg(o,l,er)}s.memoizedProps=s.pendingProps,l===null?Oo(s):Se=l}function Ei(s,l,o,u){Yn=ms=null,ff(l),gi=null,Tl=0;var p=l.return;try{if(Cw(s,p,l,o,Ne)){Ye=1,vo(s,ln(o,s.current)),Se=null;return}}catch(g){if(p!==null)throw Se=p,g;Ye=1,vo(s,ln(o,s.current)),Se=null;return}l.flags&32768?(Te||u===1?s=!0:vi||(Ne&536870912)!==0?s=!1:(Mr=s=!0,(u===2||u===9||u===3||u===6)&&(u=un.current,u!==null&&u.tag===13&&(u.flags|=16384))),Sy(l,s)):Oo(l)}function Oo(s){var l=s;do{if((l.flags&32768)!==0){Sy(l,Mr);return}s=l.return;var o=Tw(l.alternate,l,er);if(o!==null){Se=o;return}if(l=l.sibling,l!==null){Se=l;return}Se=l=s}while(l!==null);Ye===0&&(Ye=5)}function Sy(s,l){do{var o=Mw(s.alternate,s);if(o!==null){o.flags&=32767,Se=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!l&&(s=s.sibling,s!==null)){Se=s;return}Se=s=o}while(s!==null);Ye=6,Se=null}function wy(s,l,o,u,p,g,w,E,k){s.cancelPendingCommit=null;do Ao();while(gt!==0);if((Me&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(g=l.lanes|l.childLanes,g|=Uu,hS(s,o,g,w,E,k),s===Le&&(Se=Le=null,Ne=0),wi=l,Ar=s,Ni=o,Ff=g,Yf=p,dy=u,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Uw(_a,function(){return My(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||u){u=U.T,U.T=null,p=X.p,X.p=2,w=Me,Me|=4;try{kw(s,l,o)}finally{Me=w,X.p=p,U.T=u}}gt=1,Ny(),Cy(),Ey()}}function Ny(){if(gt===1){gt=0;var s=Ar,l=wi,o=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||o){o=U.T,U.T=null;var u=X.p;X.p=2;var p=Me;Me|=4;try{iy(l,s);var g=od,w=fm(s.containerInfo),E=g.focusedElem,k=g.selectionRange;if(w!==E&&E&&E.ownerDocument&&um(E.ownerDocument.documentElement,E)){if(k!==null&&_u(E)){var R=k.start,V=k.end;if(V===void 0&&(V=R),"selectionStart"in E)E.selectionStart=R,E.selectionEnd=Math.min(V,E.value.length);else{var I=E.ownerDocument||document,B=I&&I.defaultView||window;if(B.getSelection){var L=B.getSelection(),de=E.textContent.length,oe=Math.min(k.start,de),Re=k.end===void 0?oe:Math.min(k.end,de);!L.extend&&oe>Re&&(w=Re,Re=oe,oe=w);var D=cm(E,oe),A=cm(E,Re);if(D&&A&&(L.rangeCount!==1||L.anchorNode!==D.node||L.anchorOffset!==D.offset||L.focusNode!==A.node||L.focusOffset!==A.offset)){var j=I.createRange();j.setStart(D.node,D.offset),L.removeAllRanges(),oe>Re?(L.addRange(j),L.extend(A.node,A.offset)):(j.setEnd(A.node,A.offset),L.addRange(j))}}}}for(I=[],L=E;L=L.parentNode;)L.nodeType===1&&I.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<I.length;E++){var P=I[E];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}Po=!!ad,od=ad=null}finally{Me=p,X.p=u,U.T=o}}s.current=l,gt=2}}function Cy(){if(gt===2){gt=0;var s=Ar,l=wi,o=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||o){o=U.T,U.T=null;var u=X.p;X.p=2;var p=Me;Me|=4;try{ty(s,l.alternate,l)}finally{Me=p,X.p=u,U.T=o}}gt=3}}function Ey(){if(gt===4||gt===3){gt=0,sS();var s=Ar,l=wi,o=Ni,u=dy;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?gt=5:(gt=0,wi=Ar=null,Ty(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Or=null),hu(o),l=l.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Wi,l,void 0,(l.current.flags&128)===128)}catch{}if(u!==null){l=U.T,p=X.p,X.p=2,U.T=null;try{for(var g=s.onRecoverableError,w=0;w<u.length;w++){var E=u[w];g(E.value,{componentStack:E.stack})}}finally{U.T=l,X.p=p}}(Ni&3)!==0&&Ao(),Dn(s),p=s.pendingLanes,(o&4194090)!==0&&(p&42)!==0?s===Gf?Bl++:(Bl=0,Gf=s):Bl=0,zl(0)}}function Ty(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,ml(l)))}function Ao(s){return Ny(),Cy(),Ey(),My()}function My(){if(gt!==5)return!1;var s=Ar,l=Ff;Ff=0;var o=hu(Ni),u=U.T,p=X.p;try{X.p=32>o?32:o,U.T=null,o=Yf,Yf=null;var g=Ar,w=Ni;if(gt=0,wi=Ar=null,Ni=0,(Me&6)!==0)throw Error(r(331));var E=Me;if(Me|=4,uy(g.current),ay(g,g.current,w,o),Me=E,zl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Wi,g)}catch{}return!0}finally{X.p=p,U.T=u,Ty(s,l)}}function ky(s,l,o){l=ln(o,l),l=Ef(s.stateNode,l,2),s=vr(s,l,2),s!==null&&(Zi(s,2),Dn(s))}function Be(s,l,o){if(s.tag===3)ky(s,s,o);else for(;l!==null;){if(l.tag===3){ky(l,s,o);break}else if(l.tag===1){var u=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Or===null||!Or.has(u))){s=ln(o,s),o=jg(2),u=vr(l,o,2),u!==null&&(Rg(o,u,l,s),Zi(u,2),Dn(u));break}}l=l.return}}function Wf(s,l,o){var u=s.pingCache;if(u===null){u=s.pingCache=new Dw;var p=new Set;u.set(l,p)}else p=u.get(l),p===void 0&&(p=new Set,u.set(l,p));p.has(o)||(Vf=!0,p.add(o),s=zw.bind(null,s,l,o),l.then(s,s))}function zw(s,l,o){var u=s.pingCache;u!==null&&u.delete(l),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,Le===s&&(Ne&o)===o&&(Ye===4||Ye===3&&(Ne&62914560)===Ne&&300>Tn()-$f?(Me&2)===0&&Ci(s,0):Pf|=o,Si===Ne&&(Si=0)),Dn(s)}function Oy(s,l){l===0&&(l=Ep()),s=li(s,l),s!==null&&(Zi(s,l),Dn(s))}function Lw(s){var l=s.memoizedState,o=0;l!==null&&(o=l.retryLane),Oy(s,o)}function Hw(s,l){var o=0;switch(s.tag){case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(l),Oy(s,o)}function Uw(s,l){return cu(s,l)}var Do=null,Ti=null,Qf=!1,jo=!1,Zf=!1,ws=0;function Dn(s){s!==Ti&&s.next===null&&(Ti===null?Do=Ti=s:Ti=Ti.next=s),jo=!0,Qf||(Qf=!0,Vw())}function zl(s,l){if(!Zf&&jo){Zf=!0;do for(var o=!1,u=Do;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var g=0;else{var w=u.suspendedLanes,E=u.pingedLanes;g=(1<<31-Gt(42|s)+1)-1,g&=p&~(w&~E),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Ry(u,g))}else g=Ne,g=La(u,u===Le?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Qi(u,g)||(o=!0,Ry(u,g));u=u.next}while(o);Zf=!1}}function qw(){Ay()}function Ay(){jo=Qf=!1;var s=0;ws!==0&&(Jw()&&(s=ws),ws=0);for(var l=Tn(),o=null,u=Do;u!==null;){var p=u.next,g=Dy(u,l);g===0?(u.next=null,o===null?Do=p:o.next=p,p===null&&(Ti=o)):(o=u,(s!==0||(g&3)!==0)&&(jo=!0)),u=p}zl(s)}function Dy(s,l){for(var o=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var w=31-Gt(g),E=1<<w,k=p[w];k===-1?((E&o)===0||(E&u)!==0)&&(p[w]=dS(E,l)):k<=l&&(s.expiredLanes|=E),g&=~E}if(l=Le,o=Ne,o=La(s,s===l?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===l&&(ke===2||ke===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&uu(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||Qi(s,o)){if(l=o&-o,l===s.callbackPriority)return l;switch(u!==null&&uu(u),hu(o)){case 2:case 8:o=wp;break;case 32:o=_a;break;case 268435456:o=Np;break;default:o=_a}return u=jy.bind(null,s),o=cu(o,u),s.callbackPriority=l,s.callbackNode=o,l}return u!==null&&u!==null&&uu(u),s.callbackPriority=2,s.callbackNode=null,2}function jy(s,l){if(gt!==0&&gt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Ao()&&s.callbackNode!==o)return null;var u=Ne;return u=La(s,s===Le?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(py(s,u,l),Dy(s,Tn()),s.callbackNode!=null&&s.callbackNode===o?jy.bind(null,s):null)}function Ry(s,l){if(Ao())return null;py(s,l,!0)}function Vw(){Ww(function(){(Me&6)!==0?cu(Sp,qw):Ay()})}function ed(){return ws===0&&(ws=Cp()),ws}function _y(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Pa(""+s)}function By(s,l){var o=l.ownerDocument.createElement("input");return o.name=l.name,o.value=l.value,s.id&&o.setAttribute("form",s.id),l.parentNode.insertBefore(o,l),s=new FormData(s),o.parentNode.removeChild(o),s}function Pw(s,l,o,u,p){if(l==="submit"&&o&&o.stateNode===p){var g=_y((p[zt]||null).action),w=u.submitter;w&&(l=(l=w[zt]||null)?_y(l.formAction):w.getAttribute("formAction"),l!==null&&(g=l,w=null));var E=new Ya("action","action",null,u,p);s.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ws!==0){var k=w?By(p,w):new FormData(p);vf(o,{pending:!0,data:k,method:p.method,action:g},null,k)}}else typeof g=="function"&&(E.preventDefault(),k=w?By(p,w):new FormData(p),vf(o,{pending:!0,data:k,method:p.method,action:g},g,k))},currentTarget:p}]})}}for(var td=0;td<Hu.length;td++){var nd=Hu[td],Iw=nd.toLowerCase(),$w=nd[0].toUpperCase()+nd.slice(1);bn(Iw,"on"+$w)}bn(pm,"onAnimationEnd"),bn(mm,"onAnimationIteration"),bn(gm,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(aw,"onTransitionRun"),bn(ow,"onTransitionStart"),bn(cw,"onTransitionCancel"),bn(ym,"onTransitionEnd"),Xs("onMouseEnter",["mouseout","mouseover"]),Xs("onMouseLeave",["mouseout","mouseover"]),Xs("onPointerEnter",["pointerout","pointerover"]),Xs("onPointerLeave",["pointerout","pointerover"]),is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),is("onBeforeInput",["compositionend","keypress","textInput","paste"]),is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function zy(s,l){l=(l&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],p=u.event;u=u.listeners;e:{var g=void 0;if(l)for(var w=u.length-1;0<=w;w--){var E=u[w],k=E.instance,R=E.currentTarget;if(E=E.listener,k!==g&&p.isPropagationStopped())break e;g=E,p.currentTarget=R;try{g(p)}catch(V){xo(V)}p.currentTarget=null,g=k}else for(w=0;w<u.length;w++){if(E=u[w],k=E.instance,R=E.currentTarget,E=E.listener,k!==g&&p.isPropagationStopped())break e;g=E,p.currentTarget=R;try{g(p)}catch(V){xo(V)}p.currentTarget=null,g=k}}}}function we(s,l){var o=l[pu];o===void 0&&(o=l[pu]=new Set);var u=s+"__bubble";o.has(u)||(Ly(l,s,2,!1),o.add(u))}function rd(s,l,o){var u=0;l&&(u|=4),Ly(o,s,u,l)}var Ro="_reactListening"+Math.random().toString(36).slice(2);function sd(s){if(!s[Ro]){s[Ro]=!0,Ap.forEach(function(o){o!=="selectionchange"&&(Fw.has(o)||rd(o,!1,s),rd(o,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Ro]||(l[Ro]=!0,rd("selectionchange",!1,l))}}function Ly(s,l,o,u){switch(a0(l)){case 2:var p=bN;break;case 8:p=xN;break;default:p=bd}o=p.bind(null,l,o,s),p=void 0,!Eu||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(l,o,{capture:!0,passive:p}):s.addEventListener(l,o,!0):p!==void 0?s.addEventListener(l,o,{passive:p}):s.addEventListener(l,o,!1)}function id(s,l,o,u,p){var g=u;if((l&1)===0&&(l&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var E=u.stateNode.containerInfo;if(E===p)break;if(w===4)for(w=u.return;w!==null;){var k=w.tag;if((k===3||k===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;E!==null;){if(w=Gs(E),w===null)return;if(k=w.tag,k===5||k===6||k===26||k===27){u=g=w;continue e}E=E.parentNode}}u=u.return}$p(function(){var R=g,V=Nu(o),I=[];e:{var B=bm.get(s);if(B!==void 0){var L=Ya,de=s;switch(s){case"keypress":if($a(o)===0)break e;case"keydown":case"keyup":L=US;break;case"focusin":de="focus",L=Ou;break;case"focusout":de="blur",L=Ou;break;case"beforeblur":case"afterblur":L=Ou;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Gp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=MS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=PS;break;case pm:case mm:case gm:L=AS;break;case ym:L=$S;break;case"scroll":case"scrollend":L=ES;break;case"wheel":L=YS;break;case"copy":case"cut":case"paste":L=jS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Jp;break;case"toggle":case"beforetoggle":L=KS}var oe=(l&4)!==0,Re=!oe&&(s==="scroll"||s==="scrollend"),D=oe?B!==null?B+"Capture":null:B;oe=[];for(var A=R,j;A!==null;){var P=A;if(j=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||j===null||D===null||(P=nl(A,D),P!=null&&oe.push(Hl(A,P,j))),Re)break;A=A.return}0<oe.length&&(B=new L(B,de,null,o,V),I.push({event:B,listeners:oe}))}}if((l&7)===0){e:{if(B=s==="mouseover"||s==="pointerover",L=s==="mouseout"||s==="pointerout",B&&o!==wu&&(de=o.relatedTarget||o.fromElement)&&(Gs(de)||de[Ys]))break e;if((L||B)&&(B=V.window===V?V:(B=V.ownerDocument)?B.defaultView||B.parentWindow:window,L?(de=o.relatedTarget||o.toElement,L=R,de=de?Gs(de):null,de!==null&&(Re=a(de),oe=de.tag,de!==Re||oe!==5&&oe!==27&&oe!==6)&&(de=null)):(L=null,de=R),L!==de)){if(oe=Gp,P="onMouseLeave",D="onMouseEnter",A="mouse",(s==="pointerout"||s==="pointerover")&&(oe=Jp,P="onPointerLeave",D="onPointerEnter",A="pointer"),Re=L==null?B:tl(L),j=de==null?B:tl(de),B=new oe(P,A+"leave",L,o,V),B.target=Re,B.relatedTarget=j,P=null,Gs(V)===R&&(oe=new oe(D,A+"enter",de,o,V),oe.target=j,oe.relatedTarget=Re,P=oe),Re=P,L&&de)t:{for(oe=L,D=de,A=0,j=oe;j;j=Mi(j))A++;for(j=0,P=D;P;P=Mi(P))j++;for(;0<A-j;)oe=Mi(oe),A--;for(;0<j-A;)D=Mi(D),j--;for(;A--;){if(oe===D||D!==null&&oe===D.alternate)break t;oe=Mi(oe),D=Mi(D)}oe=null}else oe=null;L!==null&&Hy(I,B,L,oe,!1),de!==null&&Re!==null&&Hy(I,Re,de,oe,!0)}}e:{if(B=R?tl(R):window,L=B.nodeName&&B.nodeName.toLowerCase(),L==="select"||L==="input"&&B.type==="file")var te=rm;else if(tm(B))if(sm)te=sw;else{te=nw;var ve=tw}else L=B.nodeName,!L||L.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?R&&Su(R.elementType)&&(te=rm):te=rw;if(te&&(te=te(s,R))){nm(I,te,o,V);break e}ve&&ve(s,B,R),s==="focusout"&&R&&B.type==="number"&&R.memoizedProps.value!=null&&vu(B,"number",B.value)}switch(ve=R?tl(R):window,s){case"focusin":(tm(ve)||ve.contentEditable==="true")&&(ri=ve,Bu=R,ul=null);break;case"focusout":ul=Bu=ri=null;break;case"mousedown":zu=!0;break;case"contextmenu":case"mouseup":case"dragend":zu=!1,dm(I,o,V);break;case"selectionchange":if(lw)break;case"keydown":case"keyup":dm(I,o,V)}var se;if(Du)e:{switch(s){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else ni?Zp(s,o)&&(ue="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(ue="onCompositionStart");ue&&(Xp&&o.locale!=="ko"&&(ni||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&ni&&(se=Fp()):(gr=V,Tu="value"in gr?gr.value:gr.textContent,ni=!0)),ve=_o(R,ue),0<ve.length&&(ue=new Kp(ue,s,null,o,V),I.push({event:ue,listeners:ve}),se?ue.data=se:(se=em(o),se!==null&&(ue.data=se)))),(se=XS?WS(s,o):QS(s,o))&&(ue=_o(R,"onBeforeInput"),0<ue.length&&(ve=new Kp("onBeforeInput","beforeinput",null,o,V),I.push({event:ve,listeners:ue}),ve.data=se)),Pw(I,s,R,o,V)}zy(I,l)})}function Hl(s,l,o){return{instance:s,listener:l,currentTarget:o}}function _o(s,l){for(var o=l+"Capture",u=[];s!==null;){var p=s,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=nl(s,o),p!=null&&u.unshift(Hl(s,p,g)),p=nl(s,l),p!=null&&u.push(Hl(s,p,g))),s.tag===3)return u;s=s.return}return[]}function Mi(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Hy(s,l,o,u,p){for(var g=l._reactName,w=[];o!==null&&o!==u;){var E=o,k=E.alternate,R=E.stateNode;if(E=E.tag,k!==null&&k===u)break;E!==5&&E!==26&&E!==27||R===null||(k=R,p?(R=nl(o,g),R!=null&&w.unshift(Hl(o,R,k))):p||(R=nl(o,g),R!=null&&w.push(Hl(o,R,k)))),o=o.return}w.length!==0&&s.push({event:l,listeners:w})}var Yw=/\r\n?/g,Gw=/\u0000|\uFFFD/g;function Uy(s){return(typeof s=="string"?s:""+s).replace(Yw,`
`).replace(Gw,"")}function qy(s,l){return l=Uy(l),Uy(s)===l}function Bo(){}function je(s,l,o,u,p,g){switch(o){case"children":typeof u=="string"?l==="body"||l==="textarea"&&u===""||Zs(s,u):(typeof u=="number"||typeof u=="bigint")&&l!=="body"&&Zs(s,""+u);break;case"className":Ua(s,"class",u);break;case"tabIndex":Ua(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ua(s,o,u);break;case"style":Pp(s,u,g);break;case"data":if(l!=="object"){Ua(s,"data",u);break}case"src":case"href":if(u===""&&(l!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Pa(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(l!=="input"&&je(s,l,"name",p.name,p,null),je(s,l,"formEncType",p.formEncType,p,null),je(s,l,"formMethod",p.formMethod,p,null),je(s,l,"formTarget",p.formTarget,p,null)):(je(s,l,"encType",p.encType,p,null),je(s,l,"method",p.method,p,null),je(s,l,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Pa(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=Bo);break;case"onScroll":u!=null&&we("scroll",s);break;case"onScrollEnd":u!=null&&we("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=Pa(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":we("beforetoggle",s),we("toggle",s),Ha(s,"popover",u);break;case"xlinkActuate":Vn(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Vn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Vn(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Vn(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Vn(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Vn(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Vn(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Vn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Vn(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ha(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=NS.get(o)||o,Ha(s,o,u))}}function ld(s,l,o,u,p,g){switch(o){case"style":Pp(s,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=o}}break;case"children":typeof u=="string"?Zs(s,u):(typeof u=="number"||typeof u=="bigint")&&Zs(s,""+u);break;case"onScroll":u!=null&&we("scroll",s);break;case"onScrollEnd":u!=null&&we("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Bo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dp.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),l=o.slice(2,p?o.length-7:void 0),g=s[zt]||null,g=g!=null?g[o]:null,typeof g=="function"&&s.removeEventListener(l,g,p),typeof u=="function")){typeof g!="function"&&g!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(l,u,p);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):Ha(s,o,u)}}}function yt(s,l,o){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",s),we("load",s);var u=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:je(s,l,g,w,o,null)}}p&&je(s,l,"srcSet",o.srcSet,o,null),u&&je(s,l,"src",o.src,o,null);return;case"input":we("invalid",s);var E=g=w=p=null,k=null,R=null;for(u in o)if(o.hasOwnProperty(u)){var V=o[u];if(V!=null)switch(u){case"name":p=V;break;case"type":w=V;break;case"checked":k=V;break;case"defaultChecked":R=V;break;case"value":g=V;break;case"defaultValue":E=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,l));break;default:je(s,l,u,V,o,null)}}Hp(s,g,E,k,R,w,p,!1),qa(s);return;case"select":we("invalid",s),u=w=g=null;for(p in o)if(o.hasOwnProperty(p)&&(E=o[p],E!=null))switch(p){case"value":g=E;break;case"defaultValue":w=E;break;case"multiple":u=E;default:je(s,l,p,E,o,null)}l=g,o=w,s.multiple=!!u,l!=null?Qs(s,!!u,l,!1):o!=null&&Qs(s,!!u,o,!0);return;case"textarea":we("invalid",s),g=p=u=null;for(w in o)if(o.hasOwnProperty(w)&&(E=o[w],E!=null))switch(w){case"value":u=E;break;case"defaultValue":p=E;break;case"children":g=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:je(s,l,w,E,o,null)}qp(s,u,p,g),qa(s);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(u=o[k],u!=null))switch(k){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:je(s,l,k,u,o,null)}return;case"dialog":we("beforetoggle",s),we("toggle",s),we("cancel",s),we("close",s);break;case"iframe":case"object":we("load",s);break;case"video":case"audio":for(u=0;u<Ll.length;u++)we(Ll[u],s);break;case"image":we("error",s),we("load",s);break;case"details":we("toggle",s);break;case"embed":case"source":case"link":we("error",s),we("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in o)if(o.hasOwnProperty(R)&&(u=o[R],u!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:je(s,l,R,u,o,null)}return;default:if(Su(l)){for(V in o)o.hasOwnProperty(V)&&(u=o[V],u!==void 0&&ld(s,l,V,u,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(u=o[E],u!=null&&je(s,l,E,u,o,null))}function Kw(s,l,o,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,w=null,E=null,k=null,R=null,V=null;for(L in o){var I=o[L];if(o.hasOwnProperty(L)&&I!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":k=I;default:u.hasOwnProperty(L)||je(s,l,L,null,u,I)}}for(var B in u){var L=u[B];if(I=o[B],u.hasOwnProperty(B)&&(L!=null||I!=null))switch(B){case"type":g=L;break;case"name":p=L;break;case"checked":R=L;break;case"defaultChecked":V=L;break;case"value":w=L;break;case"defaultValue":E=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,l));break;default:L!==I&&je(s,l,B,L,u,I)}}xu(s,w,E,k,R,V,g,p);return;case"select":L=w=E=B=null;for(g in o)if(k=o[g],o.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":L=k;default:u.hasOwnProperty(g)||je(s,l,g,null,u,k)}for(p in u)if(g=u[p],k=o[p],u.hasOwnProperty(p)&&(g!=null||k!=null))switch(p){case"value":B=g;break;case"defaultValue":E=g;break;case"multiple":w=g;default:g!==k&&je(s,l,p,g,u,k)}l=E,o=w,u=L,B!=null?Qs(s,!!o,B,!1):!!u!=!!o&&(l!=null?Qs(s,!!o,l,!0):Qs(s,!!o,o?[]:"",!1));return;case"textarea":L=B=null;for(E in o)if(p=o[E],o.hasOwnProperty(E)&&p!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:je(s,l,E,null,u,p)}for(w in u)if(p=u[w],g=o[w],u.hasOwnProperty(w)&&(p!=null||g!=null))switch(w){case"value":B=p;break;case"defaultValue":L=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&je(s,l,w,p,u,g)}Up(s,B,L);return;case"option":for(var de in o)if(B=o[de],o.hasOwnProperty(de)&&B!=null&&!u.hasOwnProperty(de))switch(de){case"selected":s.selected=!1;break;default:je(s,l,de,null,u,B)}for(k in u)if(B=u[k],L=o[k],u.hasOwnProperty(k)&&B!==L&&(B!=null||L!=null))switch(k){case"selected":s.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:je(s,l,k,B,u,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in o)B=o[oe],o.hasOwnProperty(oe)&&B!=null&&!u.hasOwnProperty(oe)&&je(s,l,oe,null,u,B);for(R in u)if(B=u[R],L=o[R],u.hasOwnProperty(R)&&B!==L&&(B!=null||L!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,l));break;default:je(s,l,R,B,u,L)}return;default:if(Su(l)){for(var Re in o)B=o[Re],o.hasOwnProperty(Re)&&B!==void 0&&!u.hasOwnProperty(Re)&&ld(s,l,Re,void 0,u,B);for(V in u)B=u[V],L=o[V],!u.hasOwnProperty(V)||B===L||B===void 0&&L===void 0||ld(s,l,V,B,u,L);return}}for(var D in o)B=o[D],o.hasOwnProperty(D)&&B!=null&&!u.hasOwnProperty(D)&&je(s,l,D,null,u,B);for(I in u)B=u[I],L=o[I],!u.hasOwnProperty(I)||B===L||B==null&&L==null||je(s,l,I,B,u,L)}var ad=null,od=null;function zo(s){return s.nodeType===9?s:s.ownerDocument}function Vy(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Py(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function cd(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var ud=null;function Jw(){var s=window.event;return s&&s.type==="popstate"?s===ud?!1:(ud=s,!0):(ud=null,!1)}var Iy=typeof setTimeout=="function"?setTimeout:void 0,Xw=typeof clearTimeout=="function"?clearTimeout:void 0,$y=typeof Promise=="function"?Promise:void 0,Ww=typeof queueMicrotask=="function"?queueMicrotask:typeof $y<"u"?function(s){return $y.resolve(null).then(s).catch(Qw)}:Iy;function Qw(s){setTimeout(function(){throw s})}function jr(s){return s==="head"}function Fy(s,l){var o=l,u=0,p=0;do{var g=o.nextSibling;if(s.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var w=s.ownerDocument;if(o&1&&Ul(w.documentElement),o&2&&Ul(w.body),o&4)for(o=w.head,Ul(o),w=o.firstChild;w;){var E=w.nextSibling,k=w.nodeName;w[el]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=E}}if(p===0){s.removeChild(g),Gl(l);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Gl(l)}function fd(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var o=l;switch(l=l.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":fd(o),mu(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function Zw(s,l,o,u){for(;s.nodeType===1;){var p=o;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[el])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=vn(s.nextSibling),s===null)break}return null}function eN(s,l,o){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=vn(s.nextSibling),s===null))return null;return s}function dd(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function tN(s,l){var o=s.ownerDocument;if(s.data!=="$?"||o.readyState==="complete")l();else{var u=function(){l(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function vn(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var hd=null;function Yy(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"){if(l===0)return s;l--}else o==="/$"&&l++}s=s.previousSibling}return null}function Gy(s,l,o){switch(l=zo(o),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Ul(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);mu(s)}var dn=new Map,Ky=new Set;function Lo(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var tr=X.d;X.d={f:nN,r:rN,D:sN,C:iN,L:lN,m:aN,X:cN,S:oN,M:uN};function nN(){var s=tr.f(),l=ko();return s||l}function rN(s){var l=Ks(s);l!==null&&l.tag===5&&l.type==="form"?pg(l):tr.r(s)}var ki=typeof document>"u"?null:document;function Jy(s,l,o){var u=ki;if(u&&typeof l=="string"&&l){var p=sn(l);p='link[rel="'+s+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Ky.has(p)||(Ky.add(p),s={rel:s,crossOrigin:o,href:l},u.querySelector(p)===null&&(l=u.createElement("link"),yt(l,"link",s),rt(l),u.head.appendChild(l)))}}function sN(s){tr.D(s),Jy("dns-prefetch",s,null)}function iN(s,l){tr.C(s,l),Jy("preconnect",s,l)}function lN(s,l,o){tr.L(s,l,o);var u=ki;if(u&&s&&l){var p='link[rel="preload"][as="'+sn(l)+'"]';l==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+sn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+sn(o.imageSizes)+'"]')):p+='[href="'+sn(s)+'"]';var g=p;switch(l){case"style":g=Oi(s);break;case"script":g=Ai(s)}dn.has(g)||(s=m({rel:"preload",href:l==="image"&&o&&o.imageSrcSet?void 0:s,as:l},o),dn.set(g,s),u.querySelector(p)!==null||l==="style"&&u.querySelector(ql(g))||l==="script"&&u.querySelector(Vl(g))||(l=u.createElement("link"),yt(l,"link",s),rt(l),u.head.appendChild(l)))}}function aN(s,l){tr.m(s,l);var o=ki;if(o&&s){var u=l&&typeof l.as=="string"?l.as:"script",p='link[rel="modulepreload"][as="'+sn(u)+'"][href="'+sn(s)+'"]',g=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ai(s)}if(!dn.has(g)&&(s=m({rel:"modulepreload",href:s},l),dn.set(g,s),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Vl(g)))return}u=o.createElement("link"),yt(u,"link",s),rt(u),o.head.appendChild(u)}}}function oN(s,l,o){tr.S(s,l,o);var u=ki;if(u&&s){var p=Js(u).hoistableStyles,g=Oi(s);l=l||"default";var w=p.get(g);if(!w){var E={loading:0,preload:null};if(w=u.querySelector(ql(g)))E.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":l},o),(o=dn.get(g))&&pd(s,o);var k=w=u.createElement("link");rt(k),yt(k,"link",s),k._p=new Promise(function(R,V){k.onload=R,k.onerror=V}),k.addEventListener("load",function(){E.loading|=1}),k.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ho(w,l,u)}w={type:"stylesheet",instance:w,count:1,state:E},p.set(g,w)}}}function cN(s,l){tr.X(s,l);var o=ki;if(o&&s){var u=Js(o).hoistableScripts,p=Ai(s),g=u.get(p);g||(g=o.querySelector(Vl(p)),g||(s=m({src:s,async:!0},l),(l=dn.get(p))&&md(s,l),g=o.createElement("script"),rt(g),yt(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function uN(s,l){tr.M(s,l);var o=ki;if(o&&s){var u=Js(o).hoistableScripts,p=Ai(s),g=u.get(p);g||(g=o.querySelector(Vl(p)),g||(s=m({src:s,async:!0,type:"module"},l),(l=dn.get(p))&&md(s,l),g=o.createElement("script"),rt(g),yt(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function Xy(s,l,o,u){var p=(p=pe.current)?Lo(p):null;if(!p)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(l=Oi(o.href),o=Js(p).hoistableStyles,u=o.get(l),u||(u={type:"style",instance:null,count:0,state:null},o.set(l,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Oi(o.href);var g=Js(p).hoistableStyles,w=g.get(s);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,w),(g=p.querySelector(ql(s)))&&!g._p&&(w.instance=g,w.state.loading=5),dn.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},dn.set(s,o),g||fN(p,s,o,w.state))),l&&u===null)throw Error(r(528,""));return w}if(l&&u!==null)throw Error(r(529,""));return null;case"script":return l=o.async,o=o.src,typeof o=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ai(o),o=Js(p).hoistableScripts,u=o.get(l),u||(u={type:"script",instance:null,count:0,state:null},o.set(l,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Oi(s){return'href="'+sn(s)+'"'}function ql(s){return'link[rel="stylesheet"]['+s+"]"}function Wy(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function fN(s,l,o,u){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?u.loading=1:(l=s.createElement("link"),u.preload=l,l.addEventListener("load",function(){return u.loading|=1}),l.addEventListener("error",function(){return u.loading|=2}),yt(l,"link",o),rt(l),s.head.appendChild(l))}function Ai(s){return'[src="'+sn(s)+'"]'}function Vl(s){return"script[async]"+s}function Qy(s,l,o){if(l.count++,l.instance===null)switch(l.type){case"style":var u=s.querySelector('style[data-href~="'+sn(o.href)+'"]');if(u)return l.instance=u,rt(u),u;var p=m({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),rt(u),yt(u,"style",p),Ho(u,o.precedence,s),l.instance=u;case"stylesheet":p=Oi(o.href);var g=s.querySelector(ql(p));if(g)return l.state.loading|=4,l.instance=g,rt(g),g;u=Wy(o),(p=dn.get(p))&&pd(u,p),g=(s.ownerDocument||s).createElement("link"),rt(g);var w=g;return w._p=new Promise(function(E,k){w.onload=E,w.onerror=k}),yt(g,"link",u),l.state.loading|=4,Ho(g,o.precedence,s),l.instance=g;case"script":return g=Ai(o.src),(p=s.querySelector(Vl(g)))?(l.instance=p,rt(p),p):(u=o,(p=dn.get(g))&&(u=m({},o),md(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),rt(p),yt(p,"link",u),s.head.appendChild(p),l.instance=p);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(u=l.instance,l.state.loading|=4,Ho(u,o.precedence,s));return l.instance}function Ho(s,l,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,g=p,w=0;w<u.length;w++){var E=u[w];if(E.dataset.precedence===l)g=E;else if(g!==p)break}g?g.parentNode.insertBefore(s,g.nextSibling):(l=o.nodeType===9?o.head:o,l.insertBefore(s,l.firstChild))}function pd(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function md(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Uo=null;function Zy(s,l,o){if(Uo===null){var u=new Map,p=Uo=new Map;p.set(o,u)}else p=Uo,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),p=0;p<o.length;p++){var g=o[p];if(!(g[el]||g[wt]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(l)||"";w=s+w;var E=u.get(w);E?E.push(g):u.set(w,[g])}}return u}function e0(s,l,o){s=s.ownerDocument||s,s.head.insertBefore(o,l==="title"?s.querySelector("head > title"):null)}function dN(s,l,o){if(o===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function t0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Pl=null;function hN(){}function pN(s,l,o){if(Pl===null)throw Error(r(475));var u=Pl;if(l.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Oi(o.href),g=s.querySelector(ql(p));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=qo.bind(u),s.then(u,u)),l.state.loading|=4,l.instance=g,rt(g);return}g=s.ownerDocument||s,o=Wy(o),(p=dn.get(p))&&pd(o,p),g=g.createElement("link"),rt(g);var w=g;w._p=new Promise(function(E,k){w.onload=E,w.onerror=k}),yt(g,"link",o),l.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(u.count++,l=qo.bind(u),s.addEventListener("load",l),s.addEventListener("error",l))}}function mN(){if(Pl===null)throw Error(r(475));var s=Pl;return s.stylesheets&&s.count===0&&gd(s,s.stylesheets),0<s.count?function(l){var o=setTimeout(function(){if(s.stylesheets&&gd(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(o)}}:null}function qo(){if(this.count--,this.count===0){if(this.stylesheets)gd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Vo=null;function gd(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Vo=new Map,l.forEach(gN,s),Vo=null,qo.call(s))}function gN(s,l){if(!(l.state.loading&4)){var o=Vo.get(s);if(o)var u=o.get(null);else{o=new Map,Vo.set(s,o);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var w=p[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}p=l.instance,w=p.getAttribute("data-precedence"),g=o.get(w)||u,g===u&&o.set(null,p),o.set(w,p),this.count++,u=qo.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),g?g.parentNode.insertBefore(p,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),l.state.loading|=4}}var Il={$$typeof:q,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function yN(s,l,o,u,p,g,w,E){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fu(0),this.hiddenUpdates=fu(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function n0(s,l,o,u,p,g,w,E,k,R,V,I){return s=new yN(s,l,o,w,E,k,R,I),l=1,g===!0&&(l|=24),g=Jt(3,null,null,l),s.current=g,g.stateNode=s,l=Xu(),l.refCount++,s.pooledCache=l,l.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:l},ef(g),s}function r0(s){return s?(s=ai,s):ai}function s0(s,l,o,u,p,g){p=r0(p),u.context===null?u.context=p:u.pendingContext=p,u=xr(l),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=vr(s,u,l),o!==null&&(en(o,s,l),xl(o,s,l))}function i0(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<l?o:l}}function yd(s,l){i0(s,l),(s=s.alternate)&&i0(s,l)}function l0(s){if(s.tag===13){var l=li(s,67108864);l!==null&&en(l,s,67108864),yd(s,67108864)}}var Po=!0;function bN(s,l,o,u){var p=U.T;U.T=null;var g=X.p;try{X.p=2,bd(s,l,o,u)}finally{X.p=g,U.T=p}}function xN(s,l,o,u){var p=U.T;U.T=null;var g=X.p;try{X.p=8,bd(s,l,o,u)}finally{X.p=g,U.T=p}}function bd(s,l,o,u){if(Po){var p=xd(u);if(p===null)id(s,l,u,Io,o),o0(s,u);else if(SN(p,s,l,o,u))u.stopPropagation();else if(o0(s,u),l&4&&-1<vN.indexOf(s)){for(;p!==null;){var g=Ks(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=ss(g.pendingLanes);if(w!==0){var E=g;for(E.pendingLanes|=2,E.entangledLanes|=2;w;){var k=1<<31-Gt(w);E.entanglements[1]|=k,w&=~k}Dn(g),(Me&6)===0&&(To=Tn()+500,zl(0))}}break;case 13:E=li(g,2),E!==null&&en(E,g,2),ko(),yd(g,2)}if(g=xd(u),g===null&&id(s,l,u,Io,o),g===p)break;p=g}p!==null&&u.stopPropagation()}else id(s,l,u,null,o)}}function xd(s){return s=Nu(s),vd(s)}var Io=null;function vd(s){if(Io=null,s=Gs(s),s!==null){var l=a(s);if(l===null)s=null;else{var o=l.tag;if(o===13){if(s=c(l),s!==null)return s;s=null}else if(o===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Io=s,null}function a0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(iS()){case Sp:return 2;case wp:return 8;case _a:case lS:return 32;case Np:return 268435456;default:return 32}default:return 32}}var Sd=!1,Rr=null,_r=null,Br=null,$l=new Map,Fl=new Map,zr=[],vN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o0(s,l){switch(s){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":$l.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(l.pointerId)}}function Yl(s,l,o,u,p,g){return s===null||s.nativeEvent!==g?(s={blockedOn:l,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},l!==null&&(l=Ks(l),l!==null&&l0(l)),s):(s.eventSystemFlags|=u,l=s.targetContainers,p!==null&&l.indexOf(p)===-1&&l.push(p),s)}function SN(s,l,o,u,p){switch(l){case"focusin":return Rr=Yl(Rr,s,l,o,u,p),!0;case"dragenter":return _r=Yl(_r,s,l,o,u,p),!0;case"mouseover":return Br=Yl(Br,s,l,o,u,p),!0;case"pointerover":var g=p.pointerId;return $l.set(g,Yl($l.get(g)||null,s,l,o,u,p)),!0;case"gotpointercapture":return g=p.pointerId,Fl.set(g,Yl(Fl.get(g)||null,s,l,o,u,p)),!0}return!1}function c0(s){var l=Gs(s.target);if(l!==null){var o=a(l);if(o!==null){if(l=o.tag,l===13){if(l=c(o),l!==null){s.blockedOn=l,pS(s.priority,function(){if(o.tag===13){var u=Zt();u=du(u);var p=li(o,u);p!==null&&en(p,o,u),yd(o,u)}});return}}else if(l===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function $o(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var o=xd(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);wu=u,o.target.dispatchEvent(u),wu=null}else return l=Ks(o),l!==null&&l0(l),s.blockedOn=o,!1;l.shift()}return!0}function u0(s,l,o){$o(s)&&o.delete(l)}function wN(){Sd=!1,Rr!==null&&$o(Rr)&&(Rr=null),_r!==null&&$o(_r)&&(_r=null),Br!==null&&$o(Br)&&(Br=null),$l.forEach(u0),Fl.forEach(u0)}function Fo(s,l){s.blockedOn===l&&(s.blockedOn=null,Sd||(Sd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,wN)))}var Yo=null;function f0(s){Yo!==s&&(Yo=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Yo===s&&(Yo=null);for(var l=0;l<s.length;l+=3){var o=s[l],u=s[l+1],p=s[l+2];if(typeof u!="function"){if(vd(u||o)===null)continue;break}var g=Ks(o);g!==null&&(s.splice(l,3),l-=3,vf(g,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function Gl(s){function l(k){return Fo(k,s)}Rr!==null&&Fo(Rr,s),_r!==null&&Fo(_r,s),Br!==null&&Fo(Br,s),$l.forEach(l),Fl.forEach(l);for(var o=0;o<zr.length;o++){var u=zr[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<zr.length&&(o=zr[0],o.blockedOn===null);)c0(o),o.blockedOn===null&&zr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],g=o[u+1],w=p[zt]||null;if(typeof g=="function")w||f0(o);else if(w){var E=null;if(g&&g.hasAttribute("formAction")){if(p=g,w=g[zt]||null)E=w.formAction;else if(vd(p)!==null)continue}else E=w.action;typeof E=="function"?o[u+1]=E:(o.splice(u,3),u-=3),f0(o)}}}function wd(s){this._internalRoot=s}Go.prototype.render=wd.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var o=l.current,u=Zt();s0(o,u,s,l,null,null)},Go.prototype.unmount=wd.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;s0(s.current,2,null,s,null,null),ko(),l[Ys]=null}};function Go(s){this._internalRoot=s}Go.prototype.unstable_scheduleHydration=function(s){if(s){var l=kp();s={blockedOn:null,target:s,priority:l};for(var o=0;o<zr.length&&l!==0&&l<zr[o].priority;o++);zr.splice(o,0,s),o===0&&c0(s)}};var d0=e.version;if(d0!=="19.1.0")throw Error(r(527,d0,"19.1.0"));X.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(l),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var NN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ko.isDisabled&&Ko.supportsFiber)try{Wi=Ko.inject(NN),Yt=Ko}catch{}}return Jl.createRoot=function(s,l){if(!i(s))throw Error(r(299));var o=!1,u="",p=kg,g=Og,w=Ag,E=null;return l!=null&&(l.unstable_strictMode===!0&&(o=!0),l.identifierPrefix!==void 0&&(u=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(g=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(E=l.unstable_transitionCallbacks)),l=n0(s,1,!1,null,null,o,u,p,g,w,E,null),s[Ys]=l.current,sd(s),new wd(l)},Jl.hydrateRoot=function(s,l,o){if(!i(s))throw Error(r(299));var u=!1,p="",g=kg,w=Og,E=Ag,k=null,R=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks),o.formState!==void 0&&(R=o.formState)),l=n0(s,1,!0,l,o??null,u,p,g,w,E,k,R),l.context=r0(null),o=l.current,u=Zt(),u=du(u),p=xr(u),p.callback=null,vr(o,p,u),o=u,l.current.lanes=o,Zi(l,o),Dn(l),s[Ys]=l.current,sd(s),new Go(l)},Jl.version="19.1.0",Jl}var w0;function jN(){if(w0)return Ed.exports;w0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ed.exports=DN(),Ed.exports}var RN=jN();const _N=zh(RN);var Xl={},N0;function BN(){if(N0)return Xl;N0=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.parse=c,Xl.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function c(x,S){const v=new a,N=x.length;if(N<2)return v;const C=S?.decode||m;let T=0;do{const _=x.indexOf("=",T);if(_===-1)break;const q=x.indexOf(";",T),K=q===-1?N:q;if(_>K){T=x.lastIndexOf(";",_-1)+1;continue}const $=f(x,T,_),Z=d(x,_,$),Y=x.slice($,Z);if(v[Y]===void 0){let z=f(x,_+1,K),J=d(x,K,z);const le=C(x.slice(z,J));v[Y]=le}T=K+1}while(T<N);return v}function f(x,S,v){do{const N=x.charCodeAt(S);if(N!==32&&N!==9)return S}while(++S<v);return v}function d(x,S,v){for(;S>v;){const N=x.charCodeAt(--S);if(N!==32&&N!==9)return S+1}return v}function h(x,S,v){const N=v?.encode||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const C=N(S);if(!e.test(C))throw new TypeError(`argument val is invalid: ${S}`);let T=x+"="+C;if(!v)return T;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);T+="; Max-Age="+v.maxAge}if(v.domain){if(!t.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);T+="; Domain="+v.domain}if(v.path){if(!r.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);T+="; Path="+v.path}if(v.expires){if(!b(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);T+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(T+="; HttpOnly"),v.secure&&(T+="; Secure"),v.partitioned&&(T+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return T}function m(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function b(x){return i.call(x)==="[object Date]"}return Xl}BN();var C0="popstate";function zN(n={}){function e(r,i){let{pathname:a,search:c,hash:f}=r.location;return ah("",{pathname:a,search:c,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:da(i)}return HN(e,t,null,n)}function $e(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Bn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LN(){return Math.random().toString(36).substring(2,10)}function E0(n,e){return{usr:n.state,key:n.key,idx:e}}function ah(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Yi(e):e,state:t,key:e&&e.key||r||LN()}}function da({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Yi(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function HN(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,c=i.history,f="POP",d=null,h=m();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function m(){return(c.state||{idx:null}).idx}function b(){f="POP";let C=m(),T=C==null?null:C-h;h=C,d&&d({action:f,location:N.location,delta:T})}function x(C,T){f="PUSH";let _=ah(N.location,C,T);h=m()+1;let q=E0(_,h),K=N.createHref(_);try{c.pushState(q,"",K)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(K)}a&&d&&d({action:f,location:N.location,delta:1})}function S(C,T){f="REPLACE";let _=ah(N.location,C,T);h=m();let q=E0(_,h),K=N.createHref(_);c.replaceState(q,"",K),a&&d&&d({action:f,location:N.location,delta:0})}function v(C){return UN(C)}let N={get action(){return f},get location(){return n(i,c)},listen(C){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(C0,b),d=C,()=>{i.removeEventListener(C0,b),d=null}},createHref(C){return e(i,C)},createURL:v,encodeLocation(C){let T=v(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:x,replace:S,go(C){return c.go(C)}};return N}function UN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),$e(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:da(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function dx(n,e,t="/"){return qN(n,e,t,!1)}function qN(n,e,t,r){let i=typeof e=="string"?Yi(e):e,a=ur(i.pathname||"/",t);if(a==null)return null;let c=hx(n);VN(c);let f=null;for(let d=0;f==null&&d<c.length;++d){let h=QN(a);f=XN(c[d],h,r)}return f}function hx(n,e=[],t=[],r=""){let i=(a,c,f)=>{let d={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};d.relativePath.startsWith("/")&&($e(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=ar([r,d.relativePath]),m=t.concat(d);a.children&&a.children.length>0&&($e(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),hx(a.children,e,m,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:KN(h,a.index),routesMeta:m})};return n.forEach((a,c)=>{if(a.path===""||!a.path?.includes("?"))i(a,c);else for(let f of px(a.path))i(a,c,f)}),e}function px(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let c=px(r.join("/")),f=[];return f.push(...c.map(d=>d===""?a:[a,d].join("/"))),i&&f.push(...c),f.map(d=>n.startsWith("/")&&d===""?"/":d)}function VN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:JN(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var PN=/^:[\w-]+$/,IN=3,$N=2,FN=1,YN=10,GN=-2,T0=n=>n==="*";function KN(n,e){let t=n.split("/"),r=t.length;return t.some(T0)&&(r+=GN),e&&(r+=$N),t.filter(i=>!T0(i)).reduce((i,a)=>i+(PN.test(a)?IN:a===""?FN:YN),r)}function JN(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function XN(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",c=[];for(let f=0;f<r.length;++f){let d=r[f],h=f===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",b=bc({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),x=d.route;if(!b&&h&&t&&!r[r.length-1].route.index&&(b=bc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!b)return null;Object.assign(i,b.params),c.push({params:i,pathname:ar([a,b.pathname]),pathnameBase:nC(ar([a,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(a=ar([a,b.pathnameBase]))}return c}function bc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=WN(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:b},x)=>{if(m==="*"){let v=f[x]||"";c=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const S=f[x];return b&&!S?h[m]=void 0:h[m]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:c,pattern:n}}function WN(n,e=!1,t=!0){Bn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,d)=>(r.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function QN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ur(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function ZN(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Yi(n):n;return{pathname:t?t.startsWith("/")?t:eC(t,e):e,search:rC(r),hash:sC(i)}}function eC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Od(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function mx(n){let e=tC(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function gx(n,e,t,r=!1){let i;typeof n=="string"?i=Yi(n):(i={...n},$e(!i.pathname||!i.pathname.includes("?"),Od("?","pathname","search",i)),$e(!i.pathname||!i.pathname.includes("#"),Od("#","pathname","hash",i)),$e(!i.search||!i.search.includes("#"),Od("#","search","hash",i)));let a=n===""||i.pathname==="",c=a?"/":i.pathname,f;if(c==null)f=t;else{let b=e.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),b-=1;i.pathname=x.join("/")}f=b>=0?e[b]:"/"}let d=ZN(i,f),h=c&&c!=="/"&&c.endsWith("/"),m=(a||c===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var ar=n=>n.join("/").replace(/\/\/+/g,"/"),nC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),rC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,sC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function iC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var yx=["POST","PUT","PATCH","DELETE"];new Set(yx);var lC=["GET",...yx];new Set(lC);var Gi=M.createContext(null);Gi.displayName="DataRouter";var Lc=M.createContext(null);Lc.displayName="DataRouterState";var bx=M.createContext({isTransitioning:!1});bx.displayName="ViewTransition";var aC=M.createContext(new Map);aC.displayName="Fetchers";var oC=M.createContext(null);oC.displayName="Await";var Un=M.createContext(null);Un.displayName="Navigation";var Ea=M.createContext(null);Ea.displayName="Location";var fr=M.createContext({outlet:null,matches:[],isDataRoute:!1});fr.displayName="Route";var Hh=M.createContext(null);Hh.displayName="RouteError";function cC(n,{relative:e}={}){$e(Ta(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=M.useContext(Un),{hash:i,pathname:a,search:c}=Ma(n,{relative:e}),f=a;return t!=="/"&&(f=a==="/"?t:ar([t,a])),r.createHref({pathname:f,search:c,hash:i})}function Ta(){return M.useContext(Ea)!=null}function dr(){return $e(Ta(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Ea).location}var xx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vx(n){M.useContext(Un).static||M.useLayoutEffect(n)}function $s(){let{isDataRoute:n}=M.useContext(fr);return n?wC():uC()}function uC(){$e(Ta(),"useNavigate() may be used only in the context of a <Router> component.");let n=M.useContext(Gi),{basename:e,navigator:t}=M.useContext(Un),{matches:r}=M.useContext(fr),{pathname:i}=dr(),a=JSON.stringify(mx(r)),c=M.useRef(!1);return vx(()=>{c.current=!0}),M.useCallback((d,h={})=>{if(Bn(c.current,xx),!c.current)return;if(typeof d=="number"){t.go(d);return}let m=gx(d,JSON.parse(a),i,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ar([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,a,i,n])}M.createContext(null);function Ma(n,{relative:e}={}){let{matches:t}=M.useContext(fr),{pathname:r}=dr(),i=JSON.stringify(mx(t));return M.useMemo(()=>gx(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function fC(n,e){return Sx(n,e)}function Sx(n,e,t,r){$e(Ta(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=M.useContext(Un),{matches:a}=M.useContext(fr),c=a[a.length-1],f=c?c.params:{},d=c?c.pathname:"/",h=c?c.pathnameBase:"/",m=c&&c.route;{let T=m&&m.path||"";wx(d,!m||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let b=dr(),x;if(e){let T=typeof e=="string"?Yi(e):e;$e(h==="/"||T.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${T.pathname}" was given in the \`location\` prop.`),x=T}else x=b;let S=x.pathname||"/",v=S;if(h!=="/"){let T=h.replace(/^\//,"").split("/");v="/"+S.replace(/^\//,"").split("/").slice(T.length).join("/")}let N=dx(n,{pathname:v});Bn(m||N!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Bn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=gC(N&&N.map(T=>Object.assign({},T,{params:Object.assign({},f,T.params),pathname:ar([h,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?h:ar([h,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),a,t,r);return e&&C?M.createElement(Ea.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},C):C}function dC(){let n=SC(),e=iC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:a},"ErrorBoundary")," or"," ",M.createElement("code",{style:a},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:i},t):null,c)}var hC=M.createElement(dC,null),pC=class extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?M.createElement(fr.Provider,{value:this.props.routeContext},M.createElement(Hh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mC({routeContext:n,match:e,children:t}){let r=M.useContext(Gi);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(fr.Provider,{value:n},t)}function gC(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t?.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&a?.[h.route.id]!==void 0);$e(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,f=-1;if(t)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=d),h.route.id){let{loaderData:m,errors:b}=t,x=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!b||b[h.route.id]===void 0);if(h.route.lazy||x){c=!0,f>=0?i=i.slice(0,f+1):i=[i[0]];break}}}return i.reduceRight((d,h,m)=>{let b,x=!1,S=null,v=null;t&&(b=a&&h.route.id?a[h.route.id]:void 0,S=h.route.errorElement||hC,c&&(f<0&&m===0?(wx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,v=null):f===m&&(x=!0,v=h.route.hydrateFallbackElement||null)));let N=e.concat(i.slice(0,m+1)),C=()=>{let T;return b?T=S:x?T=v:h.route.Component?T=M.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,M.createElement(mC,{match:h,routeContext:{outlet:d,matches:N,isDataRoute:t!=null},children:T})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?M.createElement(pC,{location:t.location,revalidation:t.revalidation,component:S,error:b,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):C()},null)}function Uh(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yC(n){let e=M.useContext(Gi);return $e(e,Uh(n)),e}function bC(n){let e=M.useContext(Lc);return $e(e,Uh(n)),e}function xC(n){let e=M.useContext(fr);return $e(e,Uh(n)),e}function qh(n){let e=xC(n),t=e.matches[e.matches.length-1];return $e(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function vC(){return qh("useRouteId")}function SC(){let n=M.useContext(Hh),e=bC("useRouteError"),t=qh("useRouteError");return n!==void 0?n:e.errors?.[t]}function wC(){let{router:n}=yC("useNavigate"),e=qh("useNavigate"),t=M.useRef(!1);return vx(()=>{t.current=!0}),M.useCallback(async(i,a={})=>{Bn(t.current,xx),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var M0={};function wx(n,e,t){!e&&!M0[n]&&(M0[n]=!0,Bn(!1,t))}M.memo(NC);function NC({routes:n,future:e,state:t}){return Sx(n,void 0,t,e)}function Ns(n){$e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CC({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){$e(!Ta(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=M.useMemo(()=>({basename:c,navigator:i,static:a,future:{}}),[c,i,a]);typeof t=="string"&&(t=Yi(t));let{pathname:d="/",search:h="",hash:m="",state:b=null,key:x="default"}=t,S=M.useMemo(()=>{let v=ur(d,c);return v==null?null:{location:{pathname:v,search:h,hash:m,state:b,key:x},navigationType:r}},[c,d,h,m,b,x,r]);return Bn(S!=null,`<Router basename="${c}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:M.createElement(Un.Provider,{value:f},M.createElement(Ea.Provider,{children:e,value:S}))}function k0({children:n,location:e}){return fC(oh(n),e)}function oh(n,e=[]){let t=[];return M.Children.forEach(n,(r,i)=>{if(!M.isValidElement(r))return;let a=[...e,i];if(r.type===M.Fragment){t.push.apply(t,oh(r.props.children,a));return}$e(r.type===Ns,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$e(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=oh(r.props.children,a)),t.push(c)}),t}var cc="get",uc="application/x-www-form-urlencoded";function Hc(n){return n!=null&&typeof n.tagName=="string"}function EC(n){return Hc(n)&&n.tagName.toLowerCase()==="button"}function TC(n){return Hc(n)&&n.tagName.toLowerCase()==="form"}function MC(n){return Hc(n)&&n.tagName.toLowerCase()==="input"}function kC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function OC(n,e){return n.button===0&&(!e||e==="_self")&&!kC(n)}var Jo=null;function AC(){if(Jo===null)try{new FormData(document.createElement("form"),0),Jo=!1}catch{Jo=!0}return Jo}var DC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ad(n){return n!=null&&!DC.has(n)?(Bn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uc}"`),null):n}function jC(n,e){let t,r,i,a,c;if(TC(n)){let f=n.getAttribute("action");r=f?ur(f,e):null,t=n.getAttribute("method")||cc,i=Ad(n.getAttribute("enctype"))||uc,a=new FormData(n)}else if(EC(n)||MC(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||f.getAttribute("action");if(r=d?ur(d,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||cc,i=Ad(n.getAttribute("formenctype"))||Ad(f.getAttribute("enctype"))||uc,a=new FormData(f,n),!AC()){let{name:h,type:m,value:b}=n;if(m==="image"){let x=h?`${h}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else h&&a.append(h,b)}}else{if(Hc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=cc,r=null,i=uc,c=n}return a&&i==="text/plain"&&(c=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:c}}function Vh(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function RC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _C(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function BC(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let c=await RC(a,t);return c.links?c.links():[]}return[]}));return UC(r.flat(1).filter(_C).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function O0(n,e,t,r,i,a){let c=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,f=(d,h)=>t[h].pathname!==d.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,h)=>c(d,h)||f(d,h)):a==="data"?e.filter((d,h)=>{let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(c(d,h)||f(d,h))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function zC(n,e,{includeHydrateFallback:t}={}){return LC(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function LC(n){return[...new Set(n)]}function HC(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function UC(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(HC(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qC=new Set([100,101,204,205]);function VC(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ur(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Nx(){let n=M.useContext(Gi);return Vh(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function PC(){let n=M.useContext(Lc);return Vh(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ph=M.createContext(void 0);Ph.displayName="FrameworkContext";function Cx(){let n=M.useContext(Ph);return Vh(n,"You must render this element inside a <HydratedRouter> element"),n}function IC(n,e){let t=M.useContext(Ph),[r,i]=M.useState(!1),[a,c]=M.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:b}=e,x=M.useRef(null);M.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let N=T=>{T.forEach(_=>{c(_.isIntersecting)})},C=new IntersectionObserver(N,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[n]),M.useEffect(()=>{if(r){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[r]);let S=()=>{i(!0)},v=()=>{i(!1),c(!1)};return t?n!=="intent"?[a,x,{}]:[a,x,{onFocus:Wl(f,S),onBlur:Wl(d,v),onMouseEnter:Wl(h,S),onMouseLeave:Wl(m,v),onTouchStart:Wl(b,S)}]:[!1,x,{}]}function Wl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function $C({page:n,...e}){let{router:t}=Nx(),r=M.useMemo(()=>dx(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?M.createElement(YC,{page:n,matches:r,...e}):null}function FC(n){let{manifest:e,routeModules:t}=Cx(),[r,i]=M.useState([]);return M.useEffect(()=>{let a=!1;return BC(n,e,t).then(c=>{a||i(c)}),()=>{a=!0}},[n,e,t]),r}function YC({page:n,matches:e,...t}){let r=dr(),{manifest:i,routeModules:a}=Cx(),{basename:c}=Nx(),{loaderData:f,matches:d}=PC(),h=M.useMemo(()=>O0(n,e,d,i,r,"data"),[n,e,d,i,r]),m=M.useMemo(()=>O0(n,e,d,i,r,"assets"),[n,e,d,i,r]),b=M.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let v=new Set,N=!1;if(e.forEach(T=>{let _=i.routes[T.route.id];!_||!_.hasLoader||(!h.some(q=>q.route.id===T.route.id)&&T.route.id in f&&a[T.route.id]?.shouldRevalidate||_.hasClientLoader?N=!0:v.add(T.route.id))}),v.size===0)return[];let C=VC(n,c);return N&&v.size>0&&C.searchParams.set("_routes",e.filter(T=>v.has(T.route.id)).map(T=>T.route.id).join(",")),[C.pathname+C.search]},[c,f,r,i,h,e,n,a]),x=M.useMemo(()=>zC(m,i),[m,i]),S=FC(m);return M.createElement(M.Fragment,null,b.map(v=>M.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...t})),x.map(v=>M.createElement("link",{key:v,rel:"modulepreload",href:v,...t})),S.map(({key:v,link:N})=>M.createElement("link",{key:v,...N})))}function GC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ex=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ex&&(window.__reactRouterVersion="7.6.3")}catch{}function KC({basename:n,children:e,window:t}){let r=M.useRef();r.current==null&&(r.current=zN({window:t,v5Compat:!0}));let i=r.current,[a,c]=M.useState({action:i.action,location:i.location}),f=M.useCallback(d=>{M.startTransition(()=>c(d))},[c]);return M.useLayoutEffect(()=>i.listen(f),[i,f]),M.createElement(CC,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var Tx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mx=M.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:c,state:f,target:d,to:h,preventScrollReset:m,viewTransition:b,...x},S){let{basename:v}=M.useContext(Un),N=typeof h=="string"&&Tx.test(h),C,T=!1;if(typeof h=="string"&&N&&(C=h,Ex))try{let J=new URL(window.location.href),le=h.startsWith("//")?new URL(J.protocol+h):new URL(h),re=ur(le.pathname,v);le.origin===J.origin&&re!=null?h=re+le.search+le.hash:T=!0}catch{Bn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=cC(h,{relative:i}),[q,K,$]=IC(r,x),Z=QC(h,{replace:c,state:f,target:d,preventScrollReset:m,relative:i,viewTransition:b});function Y(J){e&&e(J),J.defaultPrevented||Z(J)}let z=M.createElement("a",{...x,...$,href:C||_,onClick:T||a?e:Y,ref:GC(S,K),target:d,"data-discover":!N&&t==="render"?"true":void 0});return q&&!N?M.createElement(M.Fragment,null,z,M.createElement($C,{page:_})):z});Mx.displayName="Link";var JC=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:c,viewTransition:f,children:d,...h},m){let b=Ma(c,{relative:h.relative}),x=dr(),S=M.useContext(Lc),{navigator:v,basename:N}=M.useContext(Un),C=S!=null&&rE(b)&&f===!0,T=v.encodeLocation?v.encodeLocation(b).pathname:b.pathname,_=x.pathname,q=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(_=_.toLowerCase(),q=q?q.toLowerCase():null,T=T.toLowerCase()),q&&N&&(q=ur(q,N)||q);const K=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let $=_===T||!i&&_.startsWith(T)&&_.charAt(K)==="/",Z=q!=null&&(q===T||!i&&q.startsWith(T)&&q.charAt(T.length)==="/"),Y={isActive:$,isPending:Z,isTransitioning:C},z=$?e:void 0,J;typeof r=="function"?J=r(Y):J=[r,$?"active":null,Z?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let le=typeof a=="function"?a(Y):a;return M.createElement(Mx,{...h,"aria-current":z,className:J,ref:m,style:le,to:c,viewTransition:f},typeof d=="function"?d(Y):d)});JC.displayName="NavLink";var XC=M.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:c=cc,action:f,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:b,...x},S)=>{let v=tE(),N=nE(f,{relative:h}),C=c.toLowerCase()==="get"?"get":"post",T=typeof f=="string"&&Tx.test(f),_=q=>{if(d&&d(q),q.defaultPrevented)return;q.preventDefault();let K=q.nativeEvent.submitter,$=K?.getAttribute("formmethod")||c;v(K||q.currentTarget,{fetcherKey:e,method:$,navigate:t,replace:i,state:a,relative:h,preventScrollReset:m,viewTransition:b})};return M.createElement("form",{ref:S,method:C,action:N,onSubmit:r?d:_,...x,"data-discover":!T&&n==="render"?"true":void 0})});XC.displayName="Form";function WC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kx(n){let e=M.useContext(Gi);return $e(e,WC(n)),e}function QC(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:c}={}){let f=$s(),d=dr(),h=Ma(n,{relative:a});return M.useCallback(m=>{if(OC(m,e)){m.preventDefault();let b=t!==void 0?t:da(d)===da(h);f(n,{replace:b,state:r,preventScrollReset:i,relative:a,viewTransition:c})}},[d,f,h,t,r,e,n,i,a,c])}var ZC=0,eE=()=>`__${String(++ZC)}__`;function tE(){let{router:n}=kx("useSubmit"),{basename:e}=M.useContext(Un),t=vC();return M.useCallback(async(r,i={})=>{let{action:a,method:c,encType:f,formData:d,body:h}=jC(r,e);if(i.navigate===!1){let m=i.fetcherKey||eE();await n.fetch(m,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||c,formEncType:i.encType||f,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||c,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function nE(n,{relative:e}={}){let{basename:t}=M.useContext(Un),r=M.useContext(fr);$e(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Ma(n||".",{relative:e})},c=dr();if(n==null){a.search=c.search;let f=new URLSearchParams(a.search),d=f.getAll("index");if(d.some(m=>m==="")){f.delete("index"),d.filter(b=>b).forEach(b=>f.append("index",b));let m=f.toString();a.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ar([t,a.pathname])),da(a)}function rE(n,e={}){let t=M.useContext(bx);$e(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=kx("useViewTransitionState"),i=Ma(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=ur(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=ur(t.nextLocation.pathname,r)||t.nextLocation.pathname;return bc(i.pathname,c)!=null||bc(i.pathname,a)!=null}[...qC];var sE=fx();const iE=zh(sE);function Ox(n,e){return function(){return n.apply(e,arguments)}}const{toString:lE}=Object.prototype,{getPrototypeOf:Ih}=Object,{iterator:Uc,toStringTag:Ax}=Symbol,qc=(n=>e=>{const t=lE.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),En=n=>(n=n.toLowerCase(),e=>qc(e)===n),Vc=n=>e=>typeof e===n,{isArray:Ki}=Array,ha=Vc("undefined");function aE(n){return n!==null&&!ha(n)&&n.constructor!==null&&!ha(n.constructor)&&Vt(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Dx=En("ArrayBuffer");function oE(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Dx(n.buffer),e}const cE=Vc("string"),Vt=Vc("function"),jx=Vc("number"),Pc=n=>n!==null&&typeof n=="object",uE=n=>n===!0||n===!1,fc=n=>{if(qc(n)!=="object")return!1;const e=Ih(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Ax in n)&&!(Uc in n)},fE=En("Date"),dE=En("File"),hE=En("Blob"),pE=En("FileList"),mE=n=>Pc(n)&&Vt(n.pipe),gE=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Vt(n.append)&&((e=qc(n))==="formdata"||e==="object"&&Vt(n.toString)&&n.toString()==="[object FormData]"))},yE=En("URLSearchParams"),[bE,xE,vE,SE]=["ReadableStream","Request","Response","Headers"].map(En),wE=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ka(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Ki(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const a=t?Object.getOwnPropertyNames(n):Object.keys(n),c=a.length;let f;for(r=0;r<c;r++)f=a[r],e.call(null,n[f],f,n)}}function Rx(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const Ms=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_x=n=>!ha(n)&&n!==Ms;function ch(){const{caseless:n}=_x(this)&&this||{},e={},t=(r,i)=>{const a=n&&Rx(e,i)||i;fc(e[a])&&fc(r)?e[a]=ch(e[a],r):fc(r)?e[a]=ch({},r):Ki(r)?e[a]=r.slice():e[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&ka(arguments[r],t);return e}const NE=(n,e,t,{allOwnKeys:r}={})=>(ka(e,(i,a)=>{t&&Vt(i)?n[a]=Ox(i,t):n[a]=i},{allOwnKeys:r}),n),CE=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),EE=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},TE=(n,e,t,r)=>{let i,a,c;const f={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),a=i.length;a-- >0;)c=i[a],(!r||r(c,n,e))&&!f[c]&&(e[c]=n[c],f[c]=!0);n=t!==!1&&Ih(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},ME=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},kE=n=>{if(!n)return null;if(Ki(n))return n;let e=n.length;if(!jx(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},OE=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Ih(Uint8Array)),AE=(n,e)=>{const r=(n&&n[Uc]).call(n);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(n,a[0],a[1])}},DE=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},jE=En("HTMLFormElement"),RE=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),A0=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),_E=En("RegExp"),Bx=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};ka(t,(i,a)=>{let c;(c=e(i,a,n))!==!1&&(r[a]=c||i)}),Object.defineProperties(n,r)},BE=n=>{Bx(n,(e,t)=>{if(Vt(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Vt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},zE=(n,e)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return Ki(n)?r(n):r(String(n).split(e)),t},LE=()=>{},HE=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function UE(n){return!!(n&&Vt(n.append)&&n[Ax]==="FormData"&&n[Uc])}const qE=n=>{const e=new Array(10),t=(r,i)=>{if(Pc(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const a=Ki(r)?[]:{};return ka(r,(c,f)=>{const d=t(c,i+1);!ha(d)&&(a[f]=d)}),e[i]=void 0,a}}return r};return t(n,0)},VE=En("AsyncFunction"),PE=n=>n&&(Pc(n)||Vt(n))&&Vt(n.then)&&Vt(n.catch),zx=((n,e)=>n?setImmediate:e?((t,r)=>(Ms.addEventListener("message",({source:i,data:a})=>{i===Ms&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Ms.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Vt(Ms.postMessage)),IE=typeof queueMicrotask<"u"?queueMicrotask.bind(Ms):typeof process<"u"&&process.nextTick||zx,$E=n=>n!=null&&Vt(n[Uc]),H={isArray:Ki,isArrayBuffer:Dx,isBuffer:aE,isFormData:gE,isArrayBufferView:oE,isString:cE,isNumber:jx,isBoolean:uE,isObject:Pc,isPlainObject:fc,isReadableStream:bE,isRequest:xE,isResponse:vE,isHeaders:SE,isUndefined:ha,isDate:fE,isFile:dE,isBlob:hE,isRegExp:_E,isFunction:Vt,isStream:mE,isURLSearchParams:yE,isTypedArray:OE,isFileList:pE,forEach:ka,merge:ch,extend:NE,trim:wE,stripBOM:CE,inherits:EE,toFlatObject:TE,kindOf:qc,kindOfTest:En,endsWith:ME,toArray:kE,forEachEntry:AE,matchAll:DE,isHTMLForm:jE,hasOwnProperty:A0,hasOwnProp:A0,reduceDescriptors:Bx,freezeMethods:BE,toObjectSet:zE,toCamelCase:RE,noop:LE,toFiniteNumber:HE,findKey:Rx,global:Ms,isContextDefined:_x,isSpecCompliantForm:UE,toJSONObject:qE,isAsyncFn:VE,isThenable:PE,setImmediate:zx,asap:IE,isIterable:$E};function me(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}H.inherits(me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const Lx=me.prototype,Hx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Hx[n]={value:n}});Object.defineProperties(me,Hx);Object.defineProperty(Lx,"isAxiosError",{value:!0});me.from=(n,e,t,r,i,a)=>{const c=Object.create(Lx);return H.toFlatObject(n,c,function(d){return d!==Error.prototype},f=>f!=="isAxiosError"),me.call(c,n.message,e,t,r,i),c.cause=n,c.name=n.name,a&&Object.assign(c,a),c};const FE=null;function uh(n){return H.isPlainObject(n)||H.isArray(n)}function Ux(n){return H.endsWith(n,"[]")?n.slice(0,-2):n}function D0(n,e,t){return n?n.concat(e).map(function(i,a){return i=Ux(i),!t&&a?"["+i+"]":i}).join(t?".":""):e}function YE(n){return H.isArray(n)&&!n.some(uh)}const GE=H.toFlatObject(H,{},null,function(e){return/^is[A-Z]/.test(e)});function Ic(n,e,t){if(!H.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=H.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,C){return!H.isUndefined(C[N])});const r=t.metaTokens,i=t.visitor||m,a=t.dots,c=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(e);if(!H.isFunction(i))throw new TypeError("visitor must be a function");function h(v){if(v===null)return"";if(H.isDate(v))return v.toISOString();if(H.isBoolean(v))return v.toString();if(!d&&H.isBlob(v))throw new me("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(v)||H.isTypedArray(v)?d&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function m(v,N,C){let T=v;if(v&&!C&&typeof v=="object"){if(H.endsWith(N,"{}"))N=r?N:N.slice(0,-2),v=JSON.stringify(v);else if(H.isArray(v)&&YE(v)||(H.isFileList(v)||H.endsWith(N,"[]"))&&(T=H.toArray(v)))return N=Ux(N),T.forEach(function(q,K){!(H.isUndefined(q)||q===null)&&e.append(c===!0?D0([N],K,a):c===null?N:N+"[]",h(q))}),!1}return uh(v)?!0:(e.append(D0(C,N,a),h(v)),!1)}const b=[],x=Object.assign(GE,{defaultVisitor:m,convertValue:h,isVisitable:uh});function S(v,N){if(!H.isUndefined(v)){if(b.indexOf(v)!==-1)throw Error("Circular reference detected in "+N.join("."));b.push(v),H.forEach(v,function(T,_){(!(H.isUndefined(T)||T===null)&&i.call(e,T,H.isString(_)?_.trim():_,N,x))===!0&&S(T,N?N.concat(_):[_])}),b.pop()}}if(!H.isObject(n))throw new TypeError("data must be an object");return S(n),e}function j0(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function $h(n,e){this._pairs=[],n&&Ic(n,this,e)}const qx=$h.prototype;qx.append=function(e,t){this._pairs.push([e,t])};qx.toString=function(e){const t=e?function(r){return e.call(this,r,j0)}:j0;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function KE(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vx(n,e,t){if(!e)return n;const r=t&&t.encode||KE;H.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(e,t):a=H.isURLSearchParams(e)?e.toString():new $h(e,t).toString(r),a){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class R0{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Px={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},JE=typeof URLSearchParams<"u"?URLSearchParams:$h,XE=typeof FormData<"u"?FormData:null,WE=typeof Blob<"u"?Blob:null,QE={isBrowser:!0,classes:{URLSearchParams:JE,FormData:XE,Blob:WE},protocols:["http","https","file","blob","url","data"]},Fh=typeof window<"u"&&typeof document<"u",fh=typeof navigator=="object"&&navigator||void 0,ZE=Fh&&(!fh||["ReactNative","NativeScript","NS"].indexOf(fh.product)<0),eT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tT=Fh&&window.location.href||"http://localhost",nT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fh,hasStandardBrowserEnv:ZE,hasStandardBrowserWebWorkerEnv:eT,navigator:fh,origin:tT},Symbol.toStringTag,{value:"Module"})),Tt={...nT,...QE};function rT(n,e){return Ic(n,new Tt.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,a){return Tt.isNode&&H.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function sT(n){return H.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function iT(n){const e={},t=Object.keys(n);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],e[a]=n[a];return e}function Ix(n){function e(t,r,i,a){let c=t[a++];if(c==="__proto__")return!0;const f=Number.isFinite(+c),d=a>=t.length;return c=!c&&H.isArray(i)?i.length:c,d?(H.hasOwnProp(i,c)?i[c]=[i[c],r]:i[c]=r,!f):((!i[c]||!H.isObject(i[c]))&&(i[c]=[]),e(t,r,i[c],a)&&H.isArray(i[c])&&(i[c]=iT(i[c])),!f)}if(H.isFormData(n)&&H.isFunction(n.entries)){const t={};return H.forEachEntry(n,(r,i)=>{e(sT(r),i,t,0)}),t}return null}function lT(n,e,t){if(H.isString(n))try{return(e||JSON.parse)(n),H.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Oa={transitional:Px,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=H.isObject(e);if(a&&H.isHTMLForm(e)&&(e=new FormData(e)),H.isFormData(e))return i?JSON.stringify(Ix(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e)||H.isReadableStream(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return rT(e,this.formSerializer).toString();if((f=H.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Ic(f?{"files[]":e}:e,d&&new d,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),lT(e)):e}],transformResponse:[function(e){const t=this.transitional||Oa.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(H.isResponse(e)||H.isReadableStream(e))return e;if(e&&H.isString(e)&&(r&&!this.responseType||i)){const c=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(f){if(c)throw f.name==="SyntaxError"?me.from(f,me.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Tt.classes.FormData,Blob:Tt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],n=>{Oa.headers[n]={}});const aT=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oT=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(c){i=c.indexOf(":"),t=c.substring(0,i).trim().toLowerCase(),r=c.substring(i+1).trim(),!(!t||e[t]&&aT[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},_0=Symbol("internals");function Ql(n){return n&&String(n).trim().toLowerCase()}function dc(n){return n===!1||n==null?n:H.isArray(n)?n.map(dc):String(n)}function cT(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const uT=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Dd(n,e,t,r,i){if(H.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!H.isString(e)){if(H.isString(r))return e.indexOf(r)!==-1;if(H.isRegExp(r))return r.test(e)}}function fT(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function dT(n,e){const t=H.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,a,c){return this[r].call(this,e,i,a,c)},configurable:!0})})}let Pt=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function a(f,d,h){const m=Ql(d);if(!m)throw new Error("header name must be a non-empty string");const b=H.findKey(i,m);(!b||i[b]===void 0||h===!0||h===void 0&&i[b]!==!1)&&(i[b||d]=dc(f))}const c=(f,d)=>H.forEach(f,(h,m)=>a(h,m,d));if(H.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(H.isString(e)&&(e=e.trim())&&!uT(e))c(oT(e),t);else if(H.isObject(e)&&H.isIterable(e)){let f={},d,h;for(const m of e){if(!H.isArray(m))throw TypeError("Object iterator must return a key-value pair");f[h=m[0]]=(d=f[h])?H.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}c(f,t)}else e!=null&&a(t,e,r);return this}get(e,t){if(e=Ql(e),e){const r=H.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return cT(i);if(H.isFunction(t))return t.call(this,i,r);if(H.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ql(e),e){const r=H.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Dd(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function a(c){if(c=Ql(c),c){const f=H.findKey(r,c);f&&(!t||Dd(r,r[f],f,t))&&(delete r[f],i=!0)}}return H.isArray(e)?e.forEach(a):a(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!e||Dd(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const t=this,r={};return H.forEach(this,(i,a)=>{const c=H.findKey(r,a);if(c){t[c]=dc(i),delete t[a];return}const f=e?fT(a):String(a).trim();f!==a&&delete t[a],t[f]=dc(i),r[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return H.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&H.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[_0]=this[_0]={accessors:{}}).accessors,i=this.prototype;function a(c){const f=Ql(c);r[f]||(dT(i,c),r[f]=!0)}return H.isArray(e)?e.forEach(a):a(e),this}};Pt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(Pt.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});H.freezeMethods(Pt);function jd(n,e){const t=this||Oa,r=e||t,i=Pt.from(r.headers);let a=r.data;return H.forEach(n,function(f){a=f.call(t,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function $x(n){return!!(n&&n.__CANCEL__)}function Ji(n,e,t){me.call(this,n??"canceled",me.ERR_CANCELED,e,t),this.name="CanceledError"}H.inherits(Ji,me,{__CANCEL__:!0});function Fx(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new me("Request failed with status code "+t.status,[me.ERR_BAD_REQUEST,me.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function hT(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function pT(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,a=0,c;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=r[a];c||(c=h),t[i]=d,r[i]=h;let b=a,x=0;for(;b!==i;)x+=t[b++],b=b%n;if(i=(i+1)%n,i===a&&(a=(a+1)%n),h-c<e)return;const S=m&&h-m;return S?Math.round(x*1e3/S):void 0}}function mT(n,e){let t=0,r=1e3/e,i,a;const c=(h,m=Date.now())=>{t=m,i=null,a&&(clearTimeout(a),a=null),n.apply(null,h)};return[(...h)=>{const m=Date.now(),b=m-t;b>=r?c(h,m):(i=h,a||(a=setTimeout(()=>{a=null,c(i)},r-b)))},()=>i&&c(i)]}const xc=(n,e,t=3)=>{let r=0;const i=pT(50,250);return mT(a=>{const c=a.loaded,f=a.lengthComputable?a.total:void 0,d=c-r,h=i(d),m=c<=f;r=c;const b={loaded:c,total:f,progress:f?c/f:void 0,bytes:d,rate:h||void 0,estimated:h&&f&&m?(f-c)/h:void 0,event:a,lengthComputable:f!=null,[e?"download":"upload"]:!0};n(b)},t)},B0=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},z0=n=>(...e)=>H.asap(()=>n(...e)),gT=Tt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Tt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Tt.origin),Tt.navigator&&/(msie|trident)/i.test(Tt.navigator.userAgent)):()=>!0,yT=Tt.hasStandardBrowserEnv?{write(n,e,t,r,i,a){const c=[n+"="+encodeURIComponent(e)];H.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),H.isString(r)&&c.push("path="+r),H.isString(i)&&c.push("domain="+i),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function bT(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function xT(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Yx(n,e,t){let r=!bT(e);return n&&(r||t==!1)?xT(n,e):e}const L0=n=>n instanceof Pt?{...n}:n;function Ls(n,e){e=e||{};const t={};function r(h,m,b,x){return H.isPlainObject(h)&&H.isPlainObject(m)?H.merge.call({caseless:x},h,m):H.isPlainObject(m)?H.merge({},m):H.isArray(m)?m.slice():m}function i(h,m,b,x){if(H.isUndefined(m)){if(!H.isUndefined(h))return r(void 0,h,b,x)}else return r(h,m,b,x)}function a(h,m){if(!H.isUndefined(m))return r(void 0,m)}function c(h,m){if(H.isUndefined(m)){if(!H.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function f(h,m,b){if(b in e)return r(h,m);if(b in n)return r(void 0,h)}const d={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:f,headers:(h,m,b)=>i(L0(h),L0(m),b,!0)};return H.forEach(Object.keys(Object.assign({},n,e)),function(m){const b=d[m]||i,x=b(n[m],e[m],m);H.isUndefined(x)&&b!==f||(t[m]=x)}),t}const Gx=n=>{const e=Ls({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:c,auth:f}=e;e.headers=c=Pt.from(c),e.url=Vx(Yx(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),f&&c.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let d;if(H.isFormData(t)){if(Tt.hasStandardBrowserEnv||Tt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((d=c.getContentType())!==!1){const[h,...m]=d?d.split(";").map(b=>b.trim()).filter(Boolean):[];c.setContentType([h||"multipart/form-data",...m].join("; "))}}if(Tt.hasStandardBrowserEnv&&(r&&H.isFunction(r)&&(r=r(e)),r||r!==!1&&gT(e.url))){const h=i&&a&&yT.read(a);h&&c.set(i,h)}return e},vT=typeof XMLHttpRequest<"u",ST=vT&&function(n){return new Promise(function(t,r){const i=Gx(n);let a=i.data;const c=Pt.from(i.headers).normalize();let{responseType:f,onUploadProgress:d,onDownloadProgress:h}=i,m,b,x,S,v;function N(){S&&S(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let C=new XMLHttpRequest;C.open(i.method.toUpperCase(),i.url,!0),C.timeout=i.timeout;function T(){if(!C)return;const q=Pt.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),$={data:!f||f==="text"||f==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:q,config:n,request:C};Fx(function(Y){t(Y),N()},function(Y){r(Y),N()},$),C=null}"onloadend"in C?C.onloadend=T:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(T)},C.onabort=function(){C&&(r(new me("Request aborted",me.ECONNABORTED,n,C)),C=null)},C.onerror=function(){r(new me("Network Error",me.ERR_NETWORK,n,C)),C=null},C.ontimeout=function(){let K=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const $=i.transitional||Px;i.timeoutErrorMessage&&(K=i.timeoutErrorMessage),r(new me(K,$.clarifyTimeoutError?me.ETIMEDOUT:me.ECONNABORTED,n,C)),C=null},a===void 0&&c.setContentType(null),"setRequestHeader"in C&&H.forEach(c.toJSON(),function(K,$){C.setRequestHeader($,K)}),H.isUndefined(i.withCredentials)||(C.withCredentials=!!i.withCredentials),f&&f!=="json"&&(C.responseType=i.responseType),h&&([x,v]=xc(h,!0),C.addEventListener("progress",x)),d&&C.upload&&([b,S]=xc(d),C.upload.addEventListener("progress",b),C.upload.addEventListener("loadend",S)),(i.cancelToken||i.signal)&&(m=q=>{C&&(r(!q||q.type?new Ji(null,n,C):q),C.abort(),C=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const _=hT(i.url);if(_&&Tt.protocols.indexOf(_)===-1){r(new me("Unsupported protocol "+_+":",me.ERR_BAD_REQUEST,n));return}C.send(a||null)})},wT=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const a=function(h){if(!i){i=!0,f();const m=h instanceof Error?h:this.reason;r.abort(m instanceof me?m:new Ji(m instanceof Error?m.message:m))}};let c=e&&setTimeout(()=>{c=null,a(new me(`timeout ${e} of ms exceeded`,me.ETIMEDOUT))},e);const f=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),n=null)};n.forEach(h=>h.addEventListener("abort",a));const{signal:d}=r;return d.unsubscribe=()=>H.asap(f),d}},NT=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},CT=async function*(n,e){for await(const t of ET(n))yield*NT(t,e)},ET=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},H0=(n,e,t,r)=>{const i=CT(n,e);let a=0,c,f=d=>{c||(c=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await i.next();if(h){f(),d.close();return}let b=m.byteLength;if(t){let x=a+=b;t(x)}d.enqueue(new Uint8Array(m))}catch(h){throw f(h),h}},cancel(d){return f(d),i.return()}},{highWaterMark:2})},$c=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Kx=$c&&typeof ReadableStream=="function",TT=$c&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Jx=(n,...e)=>{try{return!!n(...e)}catch{return!1}},MT=Kx&&Jx(()=>{let n=!1;const e=new Request(Tt.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),U0=64*1024,dh=Kx&&Jx(()=>H.isReadableStream(new Response("").body)),vc={stream:dh&&(n=>n.body)};$c&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!vc[e]&&(vc[e]=H.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new me(`Response type '${e}' is not supported`,me.ERR_NOT_SUPPORT,r)})})})(new Response);const kT=async n=>{if(n==null)return 0;if(H.isBlob(n))return n.size;if(H.isSpecCompliantForm(n))return(await new Request(Tt.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(H.isArrayBufferView(n)||H.isArrayBuffer(n))return n.byteLength;if(H.isURLSearchParams(n)&&(n=n+""),H.isString(n))return(await TT(n)).byteLength},OT=async(n,e)=>{const t=H.toFiniteNumber(n.getContentLength());return t??kT(e)},AT=$c&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:a,timeout:c,onDownloadProgress:f,onUploadProgress:d,responseType:h,headers:m,withCredentials:b="same-origin",fetchOptions:x}=Gx(n);h=h?(h+"").toLowerCase():"text";let S=wT([i,a&&a.toAbortSignal()],c),v;const N=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let C;try{if(d&&MT&&t!=="get"&&t!=="head"&&(C=await OT(m,r))!==0){let $=new Request(e,{method:"POST",body:r,duplex:"half"}),Z;if(H.isFormData(r)&&(Z=$.headers.get("content-type"))&&m.setContentType(Z),$.body){const[Y,z]=B0(C,xc(z0(d)));r=H0($.body,U0,Y,z)}}H.isString(b)||(b=b?"include":"omit");const T="credentials"in Request.prototype;v=new Request(e,{...x,signal:S,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",credentials:T?b:void 0});let _=await fetch(v,x);const q=dh&&(h==="stream"||h==="response");if(dh&&(f||q&&N)){const $={};["status","statusText","headers"].forEach(J=>{$[J]=_[J]});const Z=H.toFiniteNumber(_.headers.get("content-length")),[Y,z]=f&&B0(Z,xc(z0(f),!0))||[];_=new Response(H0(_.body,U0,Y,()=>{z&&z(),N&&N()}),$)}h=h||"text";let K=await vc[H.findKey(vc,h)||"text"](_,n);return!q&&N&&N(),await new Promise(($,Z)=>{Fx($,Z,{data:K,headers:Pt.from(_.headers),status:_.status,statusText:_.statusText,config:n,request:v})})}catch(T){throw N&&N(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new me("Network Error",me.ERR_NETWORK,n,v),{cause:T.cause||T}):me.from(T,T&&T.code,n,v)}}),hh={http:FE,xhr:ST,fetch:AT};H.forEach(hh,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const q0=n=>`- ${n}`,DT=n=>H.isFunction(n)||n===null||n===!1,Xx={getAdapter:n=>{n=H.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let a=0;a<e;a++){t=n[a];let c;if(r=t,!DT(t)&&(r=hh[(c=String(t)).toLowerCase()],r===void 0))throw new me(`Unknown adapter '${c}'`);if(r)break;i[c||"#"+a]=r}if(!r){const a=Object.entries(i).map(([f,d])=>`adapter ${f} `+(d===!1?"is not supported by the environment":"is not available in the build"));let c=e?a.length>1?`since :
`+a.map(q0).join(`
`):" "+q0(a[0]):"as no adapter specified";throw new me("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r},adapters:hh};function Rd(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ji(null,n)}function V0(n){return Rd(n),n.headers=Pt.from(n.headers),n.data=jd.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Xx.getAdapter(n.adapter||Oa.adapter)(n).then(function(r){return Rd(n),r.data=jd.call(n,n.transformResponse,r),r.headers=Pt.from(r.headers),r},function(r){return $x(r)||(Rd(n),r&&r.response&&(r.response.data=jd.call(n,n.transformResponse,r.response),r.response.headers=Pt.from(r.response.headers))),Promise.reject(r)})}const Wx="1.10.0",Fc={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Fc[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const P0={};Fc.transitional=function(e,t,r){function i(a,c){return"[Axios v"+Wx+"] Transitional option '"+a+"'"+c+(r?". "+r:"")}return(a,c,f)=>{if(e===!1)throw new me(i(c," has been removed"+(t?" in "+t:"")),me.ERR_DEPRECATED);return t&&!P0[c]&&(P0[c]=!0,console.warn(i(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,c,f):!0}};Fc.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function jT(n,e,t){if(typeof n!="object")throw new me("options must be an object",me.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const a=r[i],c=e[a];if(c){const f=n[a],d=f===void 0||c(f,a,n);if(d!==!0)throw new me("option "+a+" must be "+d,me.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new me("Unknown option "+a,me.ERR_BAD_OPTION)}}const hc={assertOptions:jT,validators:Fc},jn=hc.validators;let Ds=class{constructor(e){this.defaults=e||{},this.interceptors={request:new R0,response:new R0}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ls(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&hc.assertOptions(r,{silentJSONParsing:jn.transitional(jn.boolean),forcedJSONParsing:jn.transitional(jn.boolean),clarifyTimeoutError:jn.transitional(jn.boolean)},!1),i!=null&&(H.isFunction(i)?t.paramsSerializer={serialize:i}:hc.assertOptions(i,{encode:jn.function,serialize:jn.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),hc.assertOptions(t,{baseUrl:jn.spelling("baseURL"),withXsrfToken:jn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=a&&H.merge(a.common,a[t.method]);a&&H.forEach(["delete","get","head","post","put","patch","common"],v=>{delete a[v]}),t.headers=Pt.concat(c,a);const f=[];let d=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(t)===!1||(d=d&&N.synchronous,f.unshift(N.fulfilled,N.rejected))});const h=[];this.interceptors.response.forEach(function(N){h.push(N.fulfilled,N.rejected)});let m,b=0,x;if(!d){const v=[V0.bind(this),void 0];for(v.unshift.apply(v,f),v.push.apply(v,h),x=v.length,m=Promise.resolve(t);b<x;)m=m.then(v[b++],v[b++]);return m}x=f.length;let S=t;for(b=0;b<x;){const v=f[b++],N=f[b++];try{S=v(S)}catch(C){N.call(this,C);break}}try{m=V0.call(this,S)}catch(v){return Promise.reject(v)}for(b=0,x=h.length;b<x;)m=m.then(h[b++],h[b++]);return m}getUri(e){e=Ls(this.defaults,e);const t=Yx(e.baseURL,e.url,e.allowAbsoluteUrls);return Vx(t,e.params,e.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(e){Ds.prototype[e]=function(t,r){return this.request(Ls(r||{},{method:e,url:t,data:(r||{}).data}))}});H.forEach(["post","put","patch"],function(e){function t(r){return function(a,c,f){return this.request(Ls(f||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}Ds.prototype[e]=t(),Ds.prototype[e+"Form"]=t(!0)});let RT=class Qx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const c=new Promise(f=>{r.subscribe(f),a=f}).then(i);return c.cancel=function(){r.unsubscribe(a)},c},e(function(a,c,f){r.reason||(r.reason=new Ji(a,c,f),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Qx(function(i){e=i}),cancel:e}}};function _T(n){return function(t){return n.apply(null,t)}}function BT(n){return H.isObject(n)&&n.isAxiosError===!0}const ph={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ph).forEach(([n,e])=>{ph[e]=n});function Zx(n){const e=new Ds(n),t=Ox(Ds.prototype.request,e);return H.extend(t,Ds.prototype,e,{allOwnKeys:!0}),H.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return Zx(Ls(n,i))},t}const qe=Zx(Oa);qe.Axios=Ds;qe.CanceledError=Ji;qe.CancelToken=RT;qe.isCancel=$x;qe.VERSION=Wx;qe.toFormData=Ic;qe.AxiosError=me;qe.Cancel=qe.CanceledError;qe.all=function(e){return Promise.all(e)};qe.spread=_T;qe.isAxiosError=BT;qe.mergeConfig=Ls;qe.AxiosHeaders=Pt;qe.formToJSON=n=>Ix(H.isHTMLForm(n)?new FormData(n):n);qe.getAdapter=Xx.getAdapter;qe.HttpStatusCode=ph;qe.default=qe;const{Axios:oB,AxiosError:cB,CanceledError:uB,isCancel:fB,CancelToken:dB,VERSION:hB,all:pB,Cancel:mB,isAxiosError:gB,spread:yB,toFormData:bB,AxiosHeaders:xB,HttpStatusCode:vB,formToJSON:SB,getAdapter:wB,mergeConfig:NB}=qe,pa=qe.create({baseURL:"http://localhost:3000/api",withCredentials:!0});pa.interceptors.request.use(n=>{const e=localStorage.getItem("token");return e&&(n.headers.Authorization=`Bearer ${e}`),n});let Xo=JSON.parse(localStorage.getItem("mockAnnouncements")||"[]"),_d=JSON.parse(localStorage.getItem("mockChatRooms")||"[]"),Zl=JSON.parse(localStorage.getItem("mockMessages")||"{}"),ea=JSON.parse(localStorage.getItem("mockDirectMessages")||"{}");const zT={post:async(n,e)=>Wo(n,e),get:async n=>Wo(n),patch:async(n,e)=>Wo(n,e),delete:async n=>Wo(n)};function Wo(n,e={}){switch(n){case"/auth/login":if(["faculty@example.com","learner@example.com","admin@example.com"].includes(e.email)&&e.password==="password"){const t=e.email.includes("faculty")?"faculty":e.email.includes("learner")?"learner":"admin";return Promise.resolve({data:{token:"mock-token",user:{id:1,name:"Mock User",role:t}}})}else return Promise.reject({response:{data:{error:"Invalid mock credentials"}}});case"/auth/me":return Promise.resolve({data:{id:1,name:"Mock User",role:localStorage.getItem("userRole")||"learner"}});case"/announcements":if(e&&e.title){const t={id:Date.now(),title:e.title,body:e.body||"No content available.",audience:e.audience||"all",authorId:e.authorId||"mock-author",createdAt:new Date().toISOString()};return Xo.push(t),localStorage.setItem("mockAnnouncements",JSON.stringify(Xo)),Promise.resolve({data:t})}else{const t=localStorage.getItem("mockAnnouncements");return t&&(Xo=JSON.parse(t)),Promise.resolve({data:Xo})}case"/chat/rooms":if(e&&e.name){const t={_id:Date.now().toString(),name:e.name,description:e.description||"",access:e.access||["shared"],createdBy:e.createdBy||"mock-user"};return _d.push(t),localStorage.setItem("mockChatRooms",JSON.stringify(_d)),Promise.resolve({data:t})}else return Promise.resolve({data:_d});default:if(n.startsWith("/chat/rooms/")&&n.endsWith("/messages")){const t=n.split("/")[2],r=Zl[t]||[];return Promise.resolve({data:r})}if(n.startsWith("/chat/rooms/")&&n.endsWith("/messages")&&e.text){const t=n.split("/")[2],r={_id:Date.now().toString(),senderId:e.senderId,senderName:e.senderName,text:e.text,timestamp:new Date().toISOString()};return Zl[t]||(Zl[t]=[]),Zl[t].push(r),localStorage.setItem("mockMessages",JSON.stringify(Zl)),Promise.resolve({data:r})}if(n.startsWith("/dm/messages/")){const t=n.split("/").pop(),r=ea[t]||[];return Promise.resolve({data:r})}if(n==="/dm/messages"&&e.content){const{roomId:t,senderId:r,content:i}=e,a={id:Date.now(),roomId:t,senderId:r,content:i,timestamp:new Date().toISOString()};return ea[t]||(ea[t]=[]),ea[t].push(a),localStorage.setItem("mockDirectMessages",JSON.stringify(ea)),Promise.resolve({data:a})}return Promise.resolve({data:{}})}}const Zr=zT;function LT(){const[n,e]=M.useState(""),[t,r]=M.useState(""),[i,a]=M.useState(0),[c,f]=M.useState(0),[d,h]=M.useState([]),[m,b]=M.useState(""),x=$s(),S={admin:"/faculty/dashboard",faculty:"/faculty/dashboard",educator:"/faculty/dashboard",announcer:"/faculty/dashboard",contentHead:"/faculty/dashboard",learner:"/dashboard"},v=async T=>{T.preventDefault(),b("");try{const _=await Zr.post("/auth/login",{email:n,password:t}),{token:q,user:K}=_.data;localStorage.setItem("token",q),localStorage.setItem("userRole",K.role),pa.defaults?.headers?.common&&(pa.defaults.headers.common.Authorization=`Bearer ${q}`);const $=S[K.role]||"/unauthorized";x($)}catch(_){b(_.response?.data?.error||"Login failed")}};M.useEffect(()=>{const T=setInterval(()=>{const _=Date.now(),q={id:_,left:Math.random()*90,bottom:-20,size:48+Math.random()*24,duration:Math.max(3,10-i*.3)};h(K=>[...K.slice(-10),q]),setTimeout(()=>{h(K=>K.filter($=>$.id!==_))},q.duration*1e3)},Math.max(800,2e3-i*100));return()=>clearInterval(T)},[i]);const N=T=>{a(_=>_+1),h(_=>_.filter(q=>q.id!==T))},C=T=>{T.target.dataset.butterfly!=="true"&&i>0&&(f(_=>Math.max(_,i)),a(0))};return y.jsxs("div",{onClick:C,className:"relative min-h-screen flex items-center justify-center bg-gradient-to-br from-sky-400 via-rose-300 to-pink-400 overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden",children:d.map(T=>y.jsx("div",{"data-butterfly":"true",onClick:_=>{_.stopPropagation(),N(T.id)},className:"absolute pointer-events-auto animate-float",style:{left:`${T.left}%`,bottom:`${T.bottom}px`,animationDuration:`${T.duration}s`},children:y.jsxs("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:`${T.size}px`,opacity:.5,mixBlendMode:"multiply"},children:[y.jsx("path",{d:"M50 50 C30 20, 10 40, 30 60",fill:"#be185d",stroke:"#9d174d",strokeWidth:"1"}),y.jsx("path",{d:"M50 50 C25 60, 25 80, 40 70",fill:"#9f1239",stroke:"#9d174d",strokeWidth:"1"}),y.jsx("path",{d:"M50 50 C70 20, 90 40, 70 60",fill:"#2563eb",stroke:"#1d4ed8",strokeWidth:"1"}),y.jsx("path",{d:"M50 50 C75 60, 75 80, 60 70",fill:"#1e40af",stroke:"#1d4ed8",strokeWidth:"1"}),y.jsx("rect",{x:"48.5",y:"45",width:"3",height:"10",rx:"1.5",fill:"#1f2937"}),y.jsx("line",{x1:"50",y1:"45",x2:"47",y2:"40",stroke:"#1f2937",strokeWidth:"1"}),y.jsx("line",{x1:"50",y1:"45",x2:"53",y2:"40",stroke:"#1f2937",strokeWidth:"1"}),y.jsx("circle",{cx:"49",cy:"47",r:"0.6",fill:"#fff"}),y.jsx("circle",{cx:"51",cy:"47",r:"0.6",fill:"#fff"})]})},T.id))}),y.jsxs("div",{className:"relative z-10 bg-white/80 backdrop-blur-md p-8 rounded-xl shadow-lg w-full max-w-md",children:[y.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Login to Your Account"}),y.jsxs("form",{onSubmit:v,className:"space-y-4",children:[y.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:T=>e(T.target.value),required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300"}),y.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:T=>r(T.target.value),required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300"}),m&&y.jsx("p",{className:"text-red-500 text-sm",children:m}),y.jsx("button",{type:"submit",className:"w-full bg-indigo-500 text-white py-2 rounded-lg hover:bg-indigo-600 transition",children:"Login"})]}),y.jsxs("div",{className:"mt-6 text-sm text-gray-700 bg-white/60 p-4 rounded-lg shadow-inner",children:[y.jsx("p",{className:"font-semibold mb-2",children:" Offline Mode Logins:"}),y.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Faculty:"})," ",y.jsx("code",{children:"faculty@example.com"})," / ",y.jsx("code",{children:"password"})]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Learner:"})," ",y.jsx("code",{children:"learner@example.com"})," / ",y.jsx("code",{children:"password"})]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Admin:"})," ",y.jsx("code",{children:"admin@example.com"})," / ",y.jsx("code",{children:"password"})]})]})]}),y.jsxs("div",{className:"mt-4 text-center text-sm text-gray-700 space-y-1",children:[y.jsxs("p",{children:[" Score: ",y.jsx("span",{className:"font-bold",children:i})]}),y.jsxs("p",{children:[" High Score: ",y.jsx("span",{className:"font-bold",children:c})]})]})]}),y.jsx("style",{children:`
        @keyframes float {
          0% { transform: translateY(0) rotate(0deg); opacity: 0; }
          10% { opacity: 1; }
          100% { transform: translateY(-120vh) rotate(360deg); opacity: 0; }
        }
        .animate-float {
          animation-name: float;
          animation-timing-function: ease-in-out;
          animation-iteration-count: 1;
        }
      `})]})}function HT({title:n,titleId:e,...t},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?M.createElement("title",{id:e},n):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const UT=M.forwardRef(HT);function qT({title:n,titleId:e,...t},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?M.createElement("title",{id:e},n):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const e1=M.forwardRef(qT);function VT({title:n,titleId:e,...t},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?M.createElement("title",{id:e},n):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const PT=M.forwardRef(VT);function IT({title:n,titleId:e,...t},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?M.createElement("title",{id:e},n):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const $T=M.forwardRef(IT);function FT({title:n,titleId:e,...t},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?M.createElement("title",{id:e},n):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const YT=M.forwardRef(FT);function GT({title:n,titleId:e,...t},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?M.createElement("title",{id:e},n):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const KT=M.forwardRef(GT);function JT({title:n,titleId:e,...t},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?M.createElement("title",{id:e},n):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const XT=M.forwardRef(JT);function WT({title:n,titleId:e,...t},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?M.createElement("title",{id:e},n):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const t1=M.forwardRef(WT);function QT({title:n,titleId:e,...t},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?M.createElement("title",{id:e},n):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const n1=M.forwardRef(QT);function ZT({title:n,titleId:e,...t},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?M.createElement("title",{id:e},n):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const r1=M.forwardRef(ZT);function eM({title:n,titleId:e,...t},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?M.createElement("title",{id:e},n):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const tM=M.forwardRef(eM);function s1(n,e=5e3){const[t,r]=M.useState(0);return M.useEffect(()=>{const i=setInterval(()=>{r(a=>(a+1)%n)},e);return()=>clearInterval(i)},[n,e]),[t,r]}function Yh({children:n}){const e=M.useMemo(()=>[...Array(8)].flatMap((t,r)=>[0,1].map(a=>{const c=r*12.5+Math.random()*2.5,f=a===0?5:25,d=Math.random()*10+f,h=Math.random()*360,m=Math.random()*20+20,b=Math.random()*2;return{top:d,left:c,rotation:h,size:m,delay:b,key:`${r}-${a}`}})),[]);return y.jsxs("div",{className:"relative bg-gradient-to-br from-sky-400 via-rose-300 to-pink-400 rounded-xl p-6 min-h-[220px] mb-8 shadow-lg text-white overflow-hidden",children:[e.map(({top:t,left:r,rotation:i,size:a,delay:c,key:f})=>y.jsx("div",{className:"absolute pointer-events-none",style:{top:`${t}px`,left:`${r}%`,transform:`rotate(${i}deg)`},children:y.jsxs("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",className:"animate-float glow-butterfly",style:{width:`${a}px`,opacity:.35,mixBlendMode:"screen",animationDelay:`${c}s`},children:[y.jsx("path",{d:"M50 50 C30 20, 10 40, 30 60",fill:"#fbb6ce",stroke:"#f472b6",strokeWidth:"1"}),y.jsx("path",{d:"M50 50 C25 60, 25 80, 40 70",fill:"#fcd5ce",stroke:"#f472b6",strokeWidth:"1"}),y.jsx("path",{d:"M50 50 C70 20, 90 40, 70 60",fill:"#a0d8ef",stroke:"#60a5fa",strokeWidth:"1"}),y.jsx("path",{d:"M50 50 C75 60, 75 80, 60 70",fill:"#cce5ff",stroke:"#60a5fa",strokeWidth:"1"}),y.jsx("rect",{x:"48.5",y:"45",width:"3",height:"10",rx:"1.5",fill:"#444"}),y.jsx("line",{x1:"50",y1:"45",x2:"47",y2:"40",stroke:"#444",strokeWidth:"1"}),y.jsx("line",{x1:"50",y1:"45",x2:"53",y2:"40",stroke:"#444",strokeWidth:"1"}),y.jsx("circle",{cx:"49",cy:"47",r:"0.6",fill:"#fff"}),y.jsx("circle",{cx:"51",cy:"47",r:"0.6",fill:"#fff"})]})},f)),n]})}const nM="_panel_n3blo_9",rM="_heading_n3blo_17",sM="_subtext_n3blo_25",iM="_announcementBox_n3blo_33",lM="_announcementItem_n3blo_41",aM="_tabNav_n3blo_49",oM="_tabButton_n3blo_57",cM="_activeTab_n3blo_65",uM="_inactiveTab_n3blo_73",nr={panel:nM,heading:rM,subtext:sM,announcementBox:iM,announcementItem:lM,tabNav:aM,tabButton:oM,activeTab:cM,inactiveTab:uM};function fM({name:n="WhoWho",title:e="Mr."}){const t=$s(),r=["Reminders","Announcements","Timetable"],[i,a]=s1(r.length),c={Reminders:[" Staff meeting  Friday @ 14:00"," Submit term marks by Thursday"," Grade 12 mock review due next week"],Announcements:[" Exam schedule released"," Grade 9 trip confirmed"," New library hours posted"],Timetable:[" 08:00  Grade 10 Math"," 09:30  Grade 11 Physics"," 11:00  Grade 9 Life Sciences"]},f=()=>{r[i]==="Timetable"?t("/timetable"):t("/notifications")};return y.jsx(Yh,{children:y.jsx("div",{className:nr.panel,children:y.jsxs("div",{className:"w-full max-w-7xl",children:[y.jsxs("h1",{className:nr.heading,children:["Welcome Back, ",e," ",n]}),y.jsx("p",{className:nr.subtext,children:"Heres whats happening in your school day today:"}),y.jsxs("div",{className:nr.announcementBox,children:[y.jsx("div",{className:"space-y-3",children:c[r[i]].map((d,h)=>y.jsx("div",{onClick:f,className:nr.announcementItem,children:y.jsx("p",{className:"text-sm text-gray-800",children:d})},h))}),y.jsx("div",{className:nr.tabNav,children:r.map((d,h)=>y.jsx("button",{onClick:()=>a(h),className:`${nr.tabButton} ${h===i?nr.activeTab:nr.inactiveTab}`,children:d},d))})]})]})})})}function dM({title:n,titleId:e,...t},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?M.createElement("title",{id:e},n):null,M.createElement("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z",clipRule:"evenodd"}))}const hM=M.forwardRef(dM),pM="_tabButton_19xcr_9",mM="_active_19xcr_17",gM="_inactive_19xcr_25",yM="_disabled_19xcr_33",bM="_tooltip_19xcr_41",ta={tabButton:pM,active:mM,inactive:gM,disabled:yM,tooltip:bM};function xM({activeTab:n,setActiveTab:e,role:t}){const r=[{key:"dashboard",label:"Dashboard"},{key:"announcements",label:"Announcements",roles:["admin","announcer"]},{key:"manage-learners",label:"Manage Learners",roles:["admin","onboarder"]},{key:"manage-lessons",label:"Manage Lessons",roles:["admin","contentHead"]},{key:"manage-faculty",label:"Manage Faculty",roles:["admin"]},{key:"manage-lms",label:"Manage LMS",roles:["admin"]}];return y.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:r.map(i=>{const a=!i.roles||i.roles.includes(t),c=n===i.key;return y.jsxs("button",{onClick:()=>a&&e(i.key),disabled:!a,className:`${ta.tabButton} ${a?c?ta.active:ta.inactive:ta.disabled}`,children:[!a&&y.jsx(hM,{className:"w-4 h-4 text-gray-400"}),i.label,!a&&i.roles&&y.jsxs("span",{className:ta.tooltip,children:["Restricted to: ",i.roles.join(", ")]})]},i.key)})})}const vM="_container_dpjl3_9",SM="_title_dpjl3_17",wM="_metricsGrid_dpjl3_25",NM="_card_dpjl3_33",CM="_feedbackBox_dpjl3_41",EM="_feedbackTitle_dpjl3_49",TM="_feedbackList_dpjl3_57",MM="_feedbackItem_dpjl3_65",Hr={container:vM,title:SM,metricsGrid:wM,card:NM,feedbackBox:CM,feedbackTitle:EM,feedbackList:TM,feedbackItem:MM};function kM(){const n=[{label:"Learner Rating",value:"4.6 / 5",icon:"",description:"Based on 87 learner reviews this term."},{label:"Hours Taught",value:"18 hrs",icon:"",description:"Total classroom hours this week."},{label:"Homework Graded",value:"42",icon:"",description:"Assignments reviewed this week."},{label:"Engagement Score",value:"91%",icon:"",description:"Calculated from feedback, attendance, and activity."}],e=["Explains concepts clearly and makes class fun!","Would love more visual examples in lessons.","Very supportive and always available for questions."];return y.jsxs("div",{className:Hr.container,children:[y.jsx("h2",{className:Hr.title,children:"Overview"}),y.jsx("div",{className:Hr.metricsGrid,children:n.map((t,r)=>y.jsxs("div",{className:Hr.card,children:[y.jsx("div",{className:"text-3xl mb-2",children:t.icon}),y.jsx("div",{className:"text-2xl font-bold text-indigo-700",children:t.value}),y.jsx("div",{className:"text-sm font-medium text-gray-700 mt-1",children:t.label}),y.jsx("p",{className:"text-xs text-gray-500 mt-2",children:t.description})]},r))}),y.jsxs("div",{className:Hr.feedbackBox,children:[y.jsx("h3",{className:Hr.feedbackTitle,children:"Recent Learner Feedback"}),y.jsx("ul",{className:Hr.feedbackList,children:e.map((t,r)=>y.jsxs("li",{className:Hr.feedbackItem,children:["",t,""]},r))})]})]})}function Qo({label:n,icon:e}){return y.jsxs("button",{className:"bg-indigo-50 hover:bg-indigo-100 text-indigo-700 font-medium p-4 rounded-lg flex items-center justify-center gap-2 transition shadow-sm",children:[y.jsx("span",{className:"text-lg",children:e}),y.jsx("span",{children:n})]})}function Bd({title:n,value:e,icon:t,color:r}){return y.jsxs("div",{className:`rounded-lg p-4 shadow-sm flex items-center gap-4 ${r}`,children:[y.jsx("div",{className:"p-2 bg-white rounded-full shadow",children:t}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm font-semibold text-gray-800",children:n}),y.jsx("div",{className:"text-base font-bold",children:e})]})]})}function zd({title:n,value:e}){return y.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg shadow-inner",children:[y.jsx("div",{className:"font-semibold text-gray-800 mb-1",children:n}),y.jsx("div",{className:"text-indigo-600 font-bold",children:e})]})}console.log(" AnnouncementDebugWidget version: v1.0.4");console.log(" AnnouncementDebugWidget file loaded");function OM({role:n}){const[e,t]=M.useState([]),[r,i]=M.useState(!0),[a,c]=M.useState("");return console.log(" AnnouncementDebugWidget mounted"),console.log(" role prop received:",n),M.useEffect(()=>{console.log(" useEffect triggered inside AnnouncementDebugWidget"),console.log(" axiosInstance loaded, making request..."),Zr.get("/announcements").then(f=>{console.log(" Fetched announcements:",f.data),t(f.data),i(!1)}).catch(f=>{const d=f.response?.data?.message||f.message;console.error(" Error fetching announcements:",d),c(d),i(!1)})},[]),y.jsxs("div",{className:"bg-white rounded-lg shadow p-4 space-y-2",children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:" Announcements"}),r&&y.jsx("p",{className:"text-gray-500",children:" Loading announcements..."}),a&&y.jsxs("p",{className:"text-red-600",children:[" ",a]}),!r&&!a&&e.length===0&&y.jsx("p",{className:"text-gray-600",children:" No announcements available."}),!r&&!a&&e.length>0&&y.jsx("ul",{className:"space-y-2",children:e.map(f=>y.jsxs("li",{className:"border rounded p-2",children:[y.jsx("p",{className:"font-semibold text-gray-800",children:f.title}),y.jsx("p",{className:"text-sm text-gray-600",children:f.message}),y.jsxs("p",{className:"text-xs text-gray-400",children:["Posted: ",new Date(f.createdAt).toLocaleString()]})]},f.id))})]})}function AM(){const n=localStorage.getItem("userRole")||"";return console.log(" role from localStorage:",n||"[empty or undefined]"),M.useEffect(()=>{console.log(" DashboardTab mounted")},[]),y.jsxs("div",{className:"space-y-10",children:[y.jsxs(kM,{children:[y.jsxs("section",{className:"mt-8",children:[y.jsx("h3",{className:"text-md font-semibold text-gray-700 mb-2",children:"Learner Insights"}),y.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[y.jsx("li",{children:" 82% of learners completed their homework this week"}),y.jsx("li",{children:" Average learner study time: 6.2 hrs this week"}),y.jsx("li",{children:" 68 of 100 assignments graded"})]})]}),y.jsxs("section",{className:"mt-6",children:[y.jsx("h3",{className:"text-md font-semibold text-gray-700 mb-2",children:"Quick Actions"}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[y.jsx(Qo,{label:"Post Announcement",icon:""}),y.jsx(Qo,{label:"Grade Assignments",icon:""}),y.jsx(Qo,{label:"View Class Performance",icon:""}),y.jsx(Qo,{label:"Manage Class Groups",icon:""})]})]}),y.jsxs("section",{className:"mt-10",children:[console.log(" AnnouncementDebugWidget JSX rendered"),y.jsx(OM,{role:n}),y.jsx("p",{className:"text-green-600 font-bold",children:" AnnouncementDebugWidget is mounted"})]})]}),y.jsxs("section",{className:"bg-white rounded-xl shadow p-6",children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Learner Insights"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm text-gray-700",children:[y.jsx(Bd,{title:"Study Time (This Week)",value:"6.2 hrs avg",icon:y.jsx(YT,{className:"w-5 h-5 text-indigo-500"}),color:"bg-indigo-100"}),y.jsx(Bd,{title:"Homework Completion",value:"82%",icon:y.jsx($T,{className:"w-5 h-5 text-green-500"}),color:"bg-green-100"}),y.jsx(Bd,{title:"Assignments Graded",value:"68 / 100",icon:y.jsx(PT,{className:"w-5 h-5 text-purple-500"}),color:"bg-purple-100"})]})]}),y.jsxs("section",{className:"bg-white rounded-xl shadow p-6",children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Performance Trends"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[y.jsx(zd,{title:"Teaching Hours",value:" 12% this week"}),y.jsx(zd,{title:"Learner Rating",value:" 4.6 / 5"}),y.jsx(zd,{title:"Assignments Graded",value:" 8% this week"})]})]})]})}const DM="_form_1lv76_1",jM="_heading_1lv76_15",RM="_input_1lv76_25",_M="_textarea_1lv76_27",BM="_select_1lv76_29",zM="_button_1lv76_53",LM="_error_1lv76_81",HM="_success_1lv76_91",Ur={form:DM,heading:jM,input:RM,textarea:_M,select:BM,button:zM,error:LM,success:HM};function UM({user:n,onCreated:e}){const[t,r]=M.useState(""),[i,a]=M.useState(""),[c,f]=M.useState("all"),[d,h]=M.useState(!1),[m,b]=M.useState({success:"",error:""}),x=["admin","faculty"].includes(n.role),S=async v=>{v.preventDefault(),h(!0),b({success:"",error:""});const N={title:t,body:i,audience:c,authorId:n._id};try{const T=(await Zr.post("/announcements",N)).data;e&&T?.title&&e(T),r(""),a(""),f("all"),b({success:" Announcement posted!",error:""})}catch(C){console.error("Failed to create announcement:",C),b({error:C.response?.data?.message||" Failed to post announcement",success:""})}finally{h(!1)}};return x?y.jsxs("form",{onSubmit:S,className:Ur.form,children:[y.jsx("h3",{className:Ur.heading,children:" Create Announcement"}),y.jsx("input",{type:"text",placeholder:"Title",value:t,onChange:v=>r(v.target.value),required:!0,className:Ur.input}),y.jsx("textarea",{placeholder:"Write your announcement...",value:i,onChange:v=>a(v.target.value),required:!0,className:Ur.textarea}),y.jsxs("select",{value:c,onChange:v=>f(v.target.value),className:Ur.select,children:[y.jsx("option",{value:"all",children:"All"}),y.jsx("option",{value:"faculty",children:"Faculty"}),y.jsx("option",{value:"learners",children:"Learners"})]}),y.jsx("button",{type:"submit",disabled:d,className:Ur.button,children:d?"Posting...":"Post Announcement"}),m.error&&y.jsx("p",{className:Ur.error,children:m.error}),m.success&&y.jsx("p",{className:Ur.success,children:m.success})]}):null}const qM="_card_1mrik_1",VM="_title_1mrik_17",PM="_body_1mrik_29",IM="_meta_1mrik_37",Zo={card:qM,title:VM,body:PM,meta:IM};function $M({data:n}){if(!n)return null;const{title:e="Untitled",body:t="No content available.",audience:r="all",createdAt:i}=n;return y.jsxs("div",{className:Zo.card,children:[y.jsx("h4",{className:Zo.title,children:e}),y.jsx("p",{className:Zo.body,children:t}),y.jsxs("div",{className:Zo.meta,children:[y.jsxs("span",{children:["Audience: ",r]}),y.jsx("span",{children:i?new Date(i).toLocaleString():"Unknown date"})]})]})}function Sc(n){const e=new Date(n);return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function FM(n){const e=Sc(new Date),t=Sc(n),r=(e-t)/(1e3*60*60*24);return r===0?"Today":r===1?"Yesterday":t.toLocaleDateString("en-ZA")}function YM(n){const e={};return n.forEach(t=>{if(!t.createdAt)return;const r=FM(new Date(t.createdAt));e[r]||(e[r]=[]),e[r].push(t)}),e}function GM({announcements:n}){if(!n||n.length===0)return y.jsx("p",{children:"No announcements available."});const e=YM(n),t=Object.keys(e).sort((r,i)=>{const a=Sc(e[r][0].createdAt);return Sc(e[i][0].createdAt)-a});return y.jsx("div",{children:t.map(r=>{const i=e[r];return console.log(` Announcements for "${r}":`,i.map(a=>a._id)),y.jsxs("section",{style:{marginBottom:"2rem"},children:[y.jsx("h4",{style:{marginBottom:"0.5rem"},children:r}),i.map((a,c)=>y.jsx($M,{data:a},a._id||`${r}-${c}`))]},r)})})}const KM="_container_c2rn0_1",JM="_header_c2rn0_11",XM="_createButton_c2rn0_37",WM="_roomList_c2rn0_67",QM="_roomItem_c2rn0_81",ZM="_avatar_c2rn0_113",ek="_roomContent_c2rn0_141",tk="_roomName_c2rn0_149",nk="_roomDescription_c2rn0_161",ct={container:KM,header:JM,createButton:XM,roomList:WM,roomItem:QM,avatar:ZM,roomContent:ek,roomName:tk,roomDescription:nk},rk="_form_pgbl7_1",sk="_error_pgbl7_69",ik="_spinner_pgbl7_83",Ld={form:rk,error:sk,spinner:ik};function lk({user:n,onCreated:e}){const[t,r]=M.useState(""),[i,a]=M.useState(""),[c,f]=M.useState(["shared"]),[d,h]=M.useState(""),[m,b]=M.useState(!1),x=async v=>{v.preventDefault(),h(""),b(!0);const N={name:t,description:i,access:c,createdBy:n?._id||"offline-user"};{const C={_id:Date.now().toString(),...N},T=localStorage.getItem("mockRooms"),_=T?JSON.parse(T).concat(C):[C];localStorage.setItem("mockRooms",JSON.stringify(_)),e?.(C),S(),b(!1);return}},S=()=>{r(""),a(""),f(["shared"])};return y.jsxs("form",{className:Ld.form,onSubmit:x,children:[y.jsx("h3",{children:"Create New Group"}),d&&y.jsx("p",{className:Ld.error,children:d}),y.jsx("input",{type:"text",placeholder:"Room name",value:t,onChange:v=>r(v.target.value),required:!0,disabled:m}),y.jsx("textarea",{placeholder:"Description",value:i,onChange:v=>a(v.target.value),required:!0,disabled:m}),y.jsxs("label",{children:["Access:",y.jsxs("select",{value:c[0],onChange:v=>f([v.target.value]),disabled:m,children:[y.jsx("option",{value:"shared",children:"Shared"}),y.jsx("option",{value:"faculty",children:"Faculty Only"}),y.jsx("option",{value:"learner",children:"Learner Only"})]})]}),y.jsx("button",{type:"submit",disabled:m,children:m?y.jsx("span",{className:Ld.spinner,"aria-label":"Loading"}):"Create"})]})}const i1=M.createContext(),ak=!1,ec={_id:"u1",name:"Admin Bongani",email:"admin@school.edu",role:"admin"},ok=({children:n})=>{const[e,t]=M.useState(ec),[r,i]=M.useState(ak),[a,c]=M.useState(null);M.useEffect(()=>{},[]);const f=async(S,v)=>{{console.warn(" Offline mode: simulating login."),localStorage.setItem("token","mock-token"),localStorage.setItem("userRole",ec.role),t(ec),c(null);return}},d=()=>{localStorage.removeItem("token"),localStorage.removeItem("userRole"),pa.defaults?.headers?.common&&delete pa.defaults.headers.common.Authorization,t(ec),c(null)},h=e?.role,m=h==="admin",b=h==="faculty",x=h==="learner";return y.jsx(i1.Provider,{value:{user:e,setUser:t,login:f,logout:d,loading:r,authError:a,isAdmin:m,isFaculty:b,isLearner:x},children:n})},ck=()=>M.useContext(i1),uk=[{_id:"r1",name:"Math Department",description:"Discuss curriculum updates"}];function l1({onSelect:n}){const{user:e}=ck(),[t,r]=M.useState([]),[i,a]=M.useState(!0),[c,f]=M.useState(!1),d=async()=>{{const m=localStorage.getItem("mockRooms");r(m?JSON.parse(m):uk),a(!1);return}};M.useEffect(()=>{d()},[]);const h=m=>{const b=[...t,m];r(b),f(!1),localStorage.setItem("mockRooms",JSON.stringify(b))};return y.jsxs("div",{className:ct.container,children:[y.jsx("div",{className:ct.header,children:y.jsx("button",{className:ct.createButton,onClick:()=>f(!c),children:c?"Cancel":" Create Group"})}),c&&e&&y.jsx(lk,{user:e,onCreated:h}),i?y.jsx("p",{children:"Loading rooms..."}):t.length===0?y.jsx("p",{className:ct.empty,children:"No rooms available. Create one to get started!"}):y.jsx("ul",{className:ct.roomList,children:t.map(m=>y.jsxs("li",{className:ct.roomItem,onClick:()=>n(m),children:[y.jsx("div",{className:ct.avatar,children:m.name.charAt(0).toUpperCase()}),y.jsxs("div",{className:ct.roomContent,children:[y.jsx("div",{className:ct.roomName,children:m.name}),y.jsx("div",{className:ct.roomDescription,children:m.description||"No description"})]})]},m._id))})]})}const fk="_container_1ds09_1",dk="_header_1ds09_13",hk="_backButton_1ds09_27",pk="_messages_1ds09_41",mk="_message_1ds09_41",gk="_self_1ds09_71",yk="_other_1ds09_81",bk="_sender_1ds09_91",xk="_text_1ds09_101",vk="_inputBar_1ds09_109",Sk="_input_1ds09_109",wk="_sendButton_1ds09_135",hn={container:fk,header:dk,backButton:hk,messages:pk,message:mk,self:gk,other:yk,sender:bk,text:xk,inputBar:vk,input:Sk,sendButton:wk};function a1({room:n,user:e,onBack:t}){const[r,i]=M.useState([]),[a,c]=M.useState(""),[f,d]=M.useState(!0),h=async()=>{try{const b=await Zr.get(`/chat/rooms/${n._id}/messages`);i(b.data)}catch(b){console.error(" Failed to fetch messages:",b)}finally{d(!1)}},m=async()=>{if(a.trim())try{const b=await Zr.post(`/chat/rooms/${n._id}/messages`,{senderId:e._id,senderName:e.name,text:a});i(x=>[...x,b.data]),c("")}catch(b){console.error(" Failed to send message:",b)}};return M.useEffect(()=>{h()},[n._id]),y.jsxs("div",{className:hn.container,children:[y.jsxs("div",{className:hn.header,children:[y.jsx("button",{onClick:t,className:hn.backButton,children:" Back"}),y.jsx("h3",{children:n.name})]}),y.jsx("div",{className:hn.messages,children:f?y.jsx("p",{children:"Loading messages..."}):r.map(b=>y.jsxs("div",{className:`${hn.message} ${b.senderId===e._id?hn.self:hn.other}`,children:[y.jsx("div",{className:hn.sender,children:b.senderName}),y.jsx("div",{className:hn.text,children:b.text})]},b._id))}),y.jsxs("div",{className:hn.inputBar,children:[y.jsx("input",{type:"text",value:a,onChange:b=>c(b.target.value),placeholder:"Type a message...",className:hn.input}),y.jsx("button",{onClick:m,className:hn.sendButton,children:"Send"})]})]})}const Nk=[{id:"dm1",name:"Thabo M.",avatar:"/avatars/thabo.png",lastMessage:"See you at 10am!",timestamp:"08:45"},{id:"dm2",name:"Zanele K.",avatar:"/avatars/zanele.png",lastMessage:"Got the notes, thanks ",timestamp:"Yesterday"},{id:"dm3",name:"Mr. Dlamini",avatar:"/avatars/dlamini.png",lastMessage:"Assignment feedback uploaded.",timestamp:"Mon"}];function Ck({onSelect:n}){return y.jsx("div",{className:ct.container,children:y.jsx("ul",{className:ct.roomList,children:Nk.map(e=>y.jsxs("li",{className:ct.roomItem,onClick:()=>n(e.id),children:[y.jsx("img",{src:e.avatar,alt:e.name,className:ct.avatar}),y.jsxs("div",{className:ct.roomContent,children:[y.jsx("div",{className:ct.roomName,children:e.name}),y.jsx("div",{className:ct.roomDescription,children:e.lastMessage})]}),y.jsx("div",{className:ct.timestamp,children:e.timestamp})]},e.id))})})}const Ek="_container_1yhjo_1",Tk="_messages_1yhjo_15",Mk="_bubble_1yhjo_33",kk="_incoming_1yhjo_47",Ok="_outgoing_1yhjo_57",Ak="_text_1yhjo_67",Dk="_timestamp_1yhjo_75",jk="_inputBar_1yhjo_89",rr={container:Ek,messages:Tk,bubble:Mk,incoming:kk,outgoing:Ok,text:Ak,timestamp:Dk,inputBar:jk};function Rk({roomId:n,currentUserId:e}){const[t,r]=M.useState([]),[i,a]=M.useState(""),[c,f]=M.useState(!0);M.useEffect(()=>{async function h(){try{const m=await Zr.get(`/dm/messages/${n}`);r(m.data)}catch(m){console.error("Failed to fetch messages:",m)}finally{f(!1)}}h()},[n]);async function d(){if(!i.trim())return;const h={roomId:n,senderId:e,content:i};try{const m=await Zr.post("/dm/messages",h);r(b=>[...b,m.data]),a("")}catch(m){console.error("Failed to send message:",m)}}return c?y.jsx("div",{className:rr.loading,children:"Loading conversation..."}):y.jsxs("div",{className:rr.container,children:[y.jsx("div",{className:rr.messages,children:t.map((h,m)=>y.jsxs("div",{className:`${rr.bubble} ${h.senderId===e?rr.outgoing:rr.incoming}`,children:[y.jsx("div",{className:rr.text,children:h.content}),y.jsx("div",{className:rr.timestamp,children:_k(h.timestamp)})]},m))}),y.jsxs("div",{className:rr.inputBar,children:[y.jsx("input",{type:"text",value:i,onChange:h=>a(h.target.value),placeholder:"Type a message..."}),y.jsx("button",{onClick:d,children:"Send"})]}),y.jsx("p",{className:"text-sm text-gray-500 italic mt-2",children:" Offline mode: messages are stored locally and wont sync across devices."})]})}function _k(n){return new Date(n).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}const Bk="_container_1rzxs_17",zk="_tabBar_1rzxs_37",Lk="_tabButton_1rzxs_61",Hk="_activeTab_1rzxs_103",Uk="_header_1rzxs_115",qk="_title_1rzxs_131",Vk="_button_1rzxs_143",Pk="_section_1rzxs_175",Ik="_subTabBar_1rzxs_185",$k="_subTab_1rzxs_185",Fk="_active_1rzxs_103",Yk="_chatHeader_1rzxs_243",Gk="_backButton_1rzxs_259",Kk="_chatTitle_1rzxs_277",at={container:Bk,tabBar:zk,tabButton:Lk,activeTab:Hk,header:Uk,title:qk,button:Vk,section:Pk,subTabBar:Ik,subTab:$k,active:Fk,chatHeader:Yk,backButton:Gk,chatTitle:Kk};function Jk(){const n={_id:"123",name:"John Doe",role:"faculty"},[e,t]=M.useState("announcements"),[r,i]=M.useState("rooms"),[a,c]=M.useState(null),[f,d]=M.useState(null),[h,m]=M.useState([]),[b,x]=M.useState(!1),[S,v]=M.useState(!0),N=_=>{t(_),c(null),d(null)},C=()=>{c(null),d(null)},T=async()=>{try{const _=await Zr.get("/announcements");m(_.data)}catch(_){console.error(" Failed to fetch announcements:",_)}finally{v(!1)}};return M.useEffect(()=>{T()},[]),y.jsxs("div",{className:at.container,children:[y.jsxs("div",{className:at.tabBar,children:[y.jsx("button",{className:`${at.tabButton} ${e==="announcements"?at.activeTab:""}`,onClick:()=>N("announcements"),children:" Announcements"}),y.jsx("button",{className:`${at.tabButton} ${e==="chat"?at.activeTab:""}`,onClick:()=>N("chat"),children:" Chat"})]}),e==="announcements"?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:at.header,children:[y.jsx("h2",{className:at.title,children:" Announcements"}),n.role==="faculty"&&y.jsx("button",{onClick:()=>x(_=>!_),className:at.button,children:b?" Cancel":" Create"})]}),b&&y.jsx("div",{className:at.section,children:y.jsx(UM,{user:n,onCreated:T})}),S?y.jsx("p",{children:"Loading announcements..."}):y.jsxs(y.Fragment,{children:[y.jsx(GM,{announcements:h}),y.jsx("p",{className:"text-sm text-gray-500 italic mt-4",children:" Offline mode: announcements are stored locally and wont persist across devices."})]})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:at.subTabBar,children:[y.jsx("button",{className:`${at.subTab} ${r==="rooms"?at.active:""}`,onClick:()=>{i("rooms"),c(null),d(null)},children:" Rooms"}),y.jsx("button",{className:`${at.subTab} ${r==="friends"?at.active:""}`,onClick:()=>{i("friends"),c(null),d(null)},children:" Friends"})]}),r==="rooms"?a?y.jsx(a1,{room:a,user:n,onBack:C}):y.jsx(l1,{onSelect:c}):f?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:at.chatHeader,children:[y.jsx("button",{onClick:C,className:at.backButton,children:" Back"}),y.jsx("h3",{className:at.chatTitle,children:"Direct Message"})]}),y.jsx(Rk,{roomId:f,currentUserId:n._id})]}):y.jsx(Ck,{onSelect:d})]})]})}function Hi({icon:n,label:e,value:t}){return y.jsxs("div",{className:"bg-white rounded-xl shadow p-6 flex items-center gap-4",children:[y.jsx("div",{className:"bg-indigo-100 p-3 rounded-full text-indigo-600",children:n}),y.jsxs("div",{children:[y.jsx("div",{className:"text-xl font-bold text-gray-800",children:t}),y.jsx("div",{className:"text-sm text-gray-500",children:e})]})]})}const Xk="_container_ptymx_1",Wk="_summaryGrid_ptymx_13",Qk="_tableWrapper_ptymx_27",Zk="_tableHeader_ptymx_41",eO="_searchWrapper_ptymx_55",tO="_searchIcon_ptymx_65",nO="_searchInput_ptymx_85",rO="_table_ptymx_27",sO="_tableRow_ptymx_127",iO="_statusActive_ptymx_145",lO="_statusInactive_ptymx_155",aO="_primaryButton_ptymx_165",oO="_secondaryButton_ptymx_197",cO="_dangerButton_ptymx_229",uO="_modalOverlay_ptymx_261",fO="_modal_ptymx_261",dO="_modalHeader_ptymx_305",hO="_modalForm_ptymx_319",pO="_modalFooter_ptymx_355",mO="_error_ptymx_369",He={container:Xk,summaryGrid:Wk,tableWrapper:Qk,tableHeader:Zk,searchWrapper:eO,searchIcon:tO,searchInput:nO,table:rO,tableRow:sO,statusActive:iO,statusInactive:lO,primaryButton:aO,secondaryButton:oO,dangerButton:cO,modalOverlay:uO,modal:fO,modalHeader:dO,modalForm:hO,modalFooter:pO,error:mO},I0=!1,gO=[{_id:"l1",name:"Thabo Mokoena",email:"thabo@school.edu",password:"123456",grade:"10",status:"Active",address:"123 Main St",allergies:"None",medicalConditions:"Asthma",emergencyContactName:"Nomsa Mokoena",emergencyContactNumber:"0821234567",medicalAid:"Discovery",parentName:"Nomsa Mokoena",relationship:"Mother",parentContact:"0821234567",parentEmail:"nomsa@family.com"},{_id:"l2",name:"Ayanda Nkosi",email:"ayanda@school.edu",password:"abcdef",grade:"9",status:"Inactive",address:"456 School Rd",allergies:"Peanuts",medicalConditions:"",emergencyContactName:"Sipho Nkosi",emergencyContactNumber:"0839876543",medicalAid:"",parentName:"Sipho Nkosi",relationship:"Father",parentContact:"0839876543",parentEmail:"sipho@family.com"}];function yO(){const[n,e]=M.useState([]),[t,r]=M.useState(""),[i,a]=M.useState(!1),[c,f]=M.useState(null),[d,h]=M.useState(1),[m,b]=M.useState(!1),[x,S]=M.useState({}),[v,N]=M.useState({name:"",email:"",password:"",grade:"",status:"Active",address:"",allergies:"",medicalConditions:"",emergencyContactName:"",emergencyContactNumber:"",medicalAid:"",parentName:"",relationship:"",parentContact:"",parentEmail:""}),[C,T]=M.useState(!1),[_,q]=M.useState(""),K=async()=>{{e(gO);return}};M.useEffect(()=>{K()},[]),M.useEffect(()=>{if(c){const z=n.find(J=>J._id===c);z&&S(z)}},[c,n]);const $=async z=>{z.preventDefault(),T(!0),q("");const J={...v,_id:Date.now().toString()};try{I0||e(le=>[...le,J]),N({name:"",email:"",password:"",grade:"",status:"Active",address:"",allergies:"",medicalConditions:"",emergencyContactName:"",emergencyContactNumber:"",medicalAid:"",parentName:"",relationship:"",parentContact:"",parentEmail:""}),a(!1),h(1)}catch(le){q(le.response?.data?.error||"Enrolment failed")}finally{T(!1)}},Z=async z=>{if(window.confirm("Are you sure you want to delete this learner?"))try{I0||e(J=>J.filter(le=>le._id!==z)),f(null)}catch(J){console.error("Failed to delete learner:",J)}},Y=n.filter(z=>z.name.toLowerCase().includes(t.toLowerCase()));return y.jsxs("div",{className:He.container,children:[y.jsxs("div",{className:He.summaryGrid,children:[y.jsx(Hi,{icon:y.jsx(n1,{className:"w-6 h-6"}),label:"Total Learners",value:n.length}),y.jsx(Hi,{icon:y.jsx(r1,{className:"w-6 h-6"}),label:"New This Term",value:"36"}),y.jsx(Hi,{icon:y.jsx(e1,{className:"w-6 h-6"}),label:"Withdrawals",value:"5"})]}),!c&&y.jsxs("div",{className:He.tableWrapper,children:[y.jsxs("div",{className:He.tableHeader,children:[y.jsx("h2",{children:"Manage Learners"}),y.jsx("button",{onClick:()=>a(!0),className:He.primaryButton,children:"+ Enrol New Learner"})]}),y.jsxs("div",{className:He.searchWrapper,children:[y.jsx(t1,{className:He.searchIcon}),y.jsx("input",{type:"text",placeholder:"Search learners...",value:t,onChange:z=>r(z.target.value),className:He.searchInput})]}),y.jsxs("table",{className:He.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Name"}),y.jsx("th",{children:"Email"}),y.jsx("th",{children:"Grade"}),y.jsx("th",{children:"Status"})]})}),y.jsx("tbody",{children:Y.map(z=>y.jsxs("tr",{className:He.tableRow,onClick:()=>f(z._id),children:[y.jsx("td",{children:z.name}),y.jsx("td",{children:z.email}),y.jsx("td",{children:z.grade}),y.jsx("td",{children:y.jsx("span",{className:z.status==="Active"?He.statusActive:He.statusInactive,children:z.status})})]},z._id))})]})]}),c&&y.jsxs("div",{className:He.tableWrapper,children:[y.jsx("button",{onClick:()=>{f(null),b(!1)},className:"mb-4 text-gray-500 hover:text-gray-700",children:" Back to Learners"}),y.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Learner Profile"}),y.jsx("div",{className:"space-y-2",children:[["Email","email"],["Password","password"],["Grade","grade"],["Status","status"],["Address","address"],["Allergies","allergies"],["Medical Conditions","medicalConditions"],["Emergency Contact Name","emergencyContactName"],["Emergency Contact Number","emergencyContactNumber"],["Medical Aid","medicalAid"],["Parent Name","parentName"],["Relationship","relationship"],["Parent Contact","parentContact"],["Parent Email","parentEmail"]].map(([z,J])=>y.jsxs("div",{children:[y.jsxs("strong",{children:[z,":"]})," ",J==="password"?m?y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"password",name:"password",value:x.password||"",onChange:le=>S({...x,password:le.target.value}),className:"border px-2 py-1 rounded text-sm w-full mt-1"}),y.jsx("small",{className:"text-gray-500 block",children:"Changing the password will update their login credentials."})]}):y.jsx("span",{className:"italic text-gray-500",children:"Hidden for security"}):m?y.jsx("input",{type:"text",name:J,value:x[J]||"",onChange:le=>S({...x,[J]:le.target.value}),className:"border px-2 py-1 rounded text-sm w-full mt-1"}):y.jsx("span",{children:x[J]})]},J))}),y.jsxs("div",{className:"mt-4 flex gap-2",children:[m?y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>{e(z=>z.map(J=>J._id===c?{...J,...x}:J)),b(!1)},className:He.primaryButton,children:"Save Changes"}),y.jsx("button",{onClick:()=>b(!1),className:He.secondaryButton,children:"Cancel"})]}):y.jsx("button",{onClick:()=>b(!0),className:He.primaryButton,children:"Edit Profile"}),y.jsx("button",{onClick:()=>Z(c),className:He.dangerButton,children:"Delete Learner"})]})]}),i&&y.jsx("div",{className:He.modalOverlay,children:y.jsxs("div",{className:He.modal,children:[y.jsxs("div",{className:He.modalHeader,children:[y.jsx("h3",{children:"Enrol New Learner"}),y.jsx("button",{onClick:()=>a(!1),children:y.jsx(tM,{className:"w-5 h-5 text-gray-500 hover:text-gray-700"})})]}),y.jsxs("form",{onSubmit:$,className:He.modalForm,children:[d===1&&y.jsxs(y.Fragment,{children:[y.jsx("label",{children:"Name"}),y.jsx("input",{type:"text",value:v.name,onChange:z=>N({...v,name:z.target.value}),required:!0}),y.jsx("label",{children:"Email"}),y.jsx("input",{type:"email",value:v.email,onChange:z=>N({...v,email:z.target.value}),required:!0}),y.jsx("label",{children:"Password"}),y.jsx("input",{type:"password",value:v.password,onChange:z=>N({...v,password:z.target.value}),required:!0}),y.jsx("label",{children:"Grade"}),y.jsx("input",{type:"text",value:v.grade,onChange:z=>N({...v,grade:z.target.value}),required:!0}),y.jsx("label",{children:"Status"}),y.jsxs("select",{value:v.status,onChange:z=>N({...v,status:z.target.value}),children:[y.jsx("option",{value:"Active",children:"Active"}),y.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),d===2&&y.jsxs(y.Fragment,{children:[y.jsx("label",{children:"Address"}),y.jsx("input",{type:"text",value:v.address,onChange:z=>N({...v,address:z.target.value})}),y.jsx("label",{children:"Allergies"}),y.jsx("input",{type:"text",value:v.allergies,onChange:z=>N({...v,allergies:z.target.value})}),y.jsx("label",{children:"Medical Conditions"}),y.jsx("input",{type:"text",value:v.medicalConditions,onChange:z=>N({...v,medicalConditions:z.target.value})}),y.jsx("label",{children:"Emergency Contact Name"}),y.jsx("input",{type:"text",value:v.emergencyContactName,onChange:z=>N({...v,emergencyContactName:z.target.value})}),y.jsx("label",{children:"Emergency Contact Number"}),y.jsx("input",{type:"text",value:v.emergencyContactNumber,onChange:z=>N({...v,emergencyContactNumber:z.target.value})}),y.jsx("label",{children:"Medical Aid"}),y.jsx("input",{type:"text",value:v.medicalAid,onChange:z=>N({...v,medicalAid:z.target.value})})]}),d===3&&y.jsxs(y.Fragment,{children:[y.jsx("label",{children:"Parent Name"}),y.jsx("input",{type:"text",value:v.parentName,onChange:z=>N({...v,parentName:z.target.value})}),y.jsx("label",{children:"Relationship"}),y.jsx("input",{type:"text",value:v.relationship,onChange:z=>N({...v,relationship:z.target.value})}),y.jsx("label",{children:"Parent Contact"}),y.jsx("input",{type:"text",value:v.parentContact,onChange:z=>N({...v,parentContact:z.target.value})}),y.jsx("label",{children:"Parent Email"}),y.jsx("input",{type:"email",value:v.parentEmail,onChange:z=>N({...v,parentEmail:z.target.value})})]}),_&&y.jsx("p",{className:He.error,children:_}),y.jsxs("div",{className:He.modalFooter,children:[d>1&&y.jsx("button",{type:"button",onClick:()=>h(z=>z-1),className:He.secondaryButton,children:"Back"}),d<3?y.jsx("button",{type:"button",onClick:()=>h(z=>z+1),className:He.primaryButton,children:"Next"}):y.jsx("button",{type:"submit",disabled:C,className:He.primaryButton,children:C?"Submitting...":"Submit"})]})]})]})})]})}function bt(n){this.content=n}bt.prototype={constructor:bt,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),a=r.content.slice();return i==-1?a.push(t||n,e):(a[i+1]=e,t&&(a[i]=t)),new bt(a)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new bt(t)},addToStart:function(n,e){return new bt([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new bt(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),a=r.find(n);return i.splice(a==-1?i.length:a,0,e,t),new bt(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=bt.from(n),n.size?new bt(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=bt.from(n),n.size?new bt(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=bt.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};bt.from=function(n){if(n instanceof bt)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new bt(e)};function o1(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),a=e.child(r);if(i==a){t+=i.nodeSize;continue}if(!i.sameMarkup(a))return t;if(i.isText&&i.text!=a.text){for(let c=0;i.text[c]==a.text[c];c++)t++;return t}if(i.content.size||a.content.size){let c=o1(i.content,a.content,t+1);if(c!=null)return c}t+=i.nodeSize}}function c1(n,e,t,r){for(let i=n.childCount,a=e.childCount;;){if(i==0||a==0)return i==a?null:{a:t,b:r};let c=n.child(--i),f=e.child(--a),d=c.nodeSize;if(c==f){t-=d,r-=d;continue}if(!c.sameMarkup(f))return{a:t,b:r};if(c.isText&&c.text!=f.text){let h=0,m=Math.min(c.text.length,f.text.length);for(;h<m&&c.text[c.text.length-h-1]==f.text[f.text.length-h-1];)h++,t--,r--;return{a:t,b:r}}if(c.content.size||f.content.size){let h=c1(c.content,f.content,t-1,r-1);if(h)return h}t-=d,r-=d}}class G{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,a){for(let c=0,f=0;f<t;c++){let d=this.content[c],h=f+d.nodeSize;if(h>e&&r(d,i+f,a||null,c)!==!1&&d.content.size){let m=f+1;d.nodesBetween(Math.max(0,e-m),Math.min(d.content.size,t-m),r,i+m)}f=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let a="",c=!0;return this.nodesBetween(e,t,(f,d)=>{let h=f.isText?f.text.slice(Math.max(e,d)-d,t-d):f.isLeaf?i?typeof i=="function"?i(f):i:f.type.spec.leafText?f.type.spec.leafText(f):"":"";f.isBlock&&(f.isLeaf&&h||f.isTextblock)&&r&&(c?c=!1:a+=r),a+=h},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),a=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),a=1);a<e.content.length;a++)i.push(e.content[a]);return new G(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let a=0,c=0;c<t;a++){let f=this.content[a],d=c+f.nodeSize;d>e&&((c<e||d>t)&&(f.isText?f=f.cut(Math.max(0,e-c),Math.min(f.text.length,t-c)):f=f.cut(Math.max(0,e-c-1),Math.min(f.content.size,t-c-1))),r.push(f),i+=f.nodeSize),c=d}return new G(r,i)}cutByIndex(e,t){return e==t?G.empty:e==0&&t==this.content.length?this:new G(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),a=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new G(i,a)}addToStart(e){return new G([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new G(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return o1(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return c1(this,e,t,r)}findIndex(e,t=-1){if(e==0)return tc(0,e);if(e==this.size)return tc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let a=this.child(r),c=i+a.nodeSize;if(c>=e)return c==e||t>0?tc(r+1,c):tc(r,i);i=c}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return G.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new G(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return G.empty;let t,r=0;for(let i=0;i<e.length;i++){let a=e[i];r+=a.nodeSize,i&&a.isText&&e[i-1].sameMarkup(a)?(t||(t=e.slice(0,i)),t[t.length-1]=a.withText(t[t.length-1].text+a.text)):t&&t.push(a)}return new G(t||e,r)}static from(e){if(!e)return G.empty;if(e instanceof G)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new G([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}G.empty=new G([],0);const Hd={index:0,offset:0};function tc(n,e){return Hd.index=n,Hd.offset=e,Hd}function wc(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!wc(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!wc(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let ze=class mh{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let a=e[i];if(this.eq(a))return e;if(this.type.excludes(a.type))t||(t=e.slice(0,i));else{if(a.type.excludes(this.type))return e;!r&&a.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(a)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&wc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return mh.none;if(e instanceof mh)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};ze.none=[];class Nc extends Error{}class Q{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=f1(this.content,e+this.openStart,t);return r&&new Q(r,this.openStart,this.openEnd)}removeBetween(e,t){return new Q(u1(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Q.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Q(G.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let a=e.firstChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.firstChild)r++;for(let a=e.lastChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.lastChild)i++;return new Q(e,r,i)}}Q.empty=new Q(G.empty,0,0);function u1(n,e,t){let{index:r,offset:i}=n.findIndex(e),a=n.maybeChild(r),{index:c,offset:f}=n.findIndex(t);if(i==e||a.isText){if(f!=t&&!n.child(c).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=c)throw new RangeError("Removing non-flat range");return n.replaceChild(r,a.copy(u1(a.content,e-i-1,t-i-1)))}function f1(n,e,t,r){let{index:i,offset:a}=n.findIndex(e),c=n.maybeChild(i);if(a==e||c.isText)return n.cut(0,e).append(t).append(n.cut(e));let f=f1(c.content,e-a-1,t);return f&&n.replaceChild(i,c.copy(f))}function bO(n,e,t){if(t.openStart>n.depth)throw new Nc("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Nc("Inconsistent open depths");return d1(n,e,t,0)}function d1(n,e,t,r){let i=n.index(r),a=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let c=d1(n,e,t,r+1);return a.copy(a.content.replaceChild(i,c))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let c=n.parent,f=c.content;return Rs(c,f.cut(0,n.parentOffset).append(t.content).append(f.cut(e.parentOffset)))}else{let{start:c,end:f}=xO(t,n);return Rs(a,p1(n,c,f,e,r))}else return Rs(a,Cc(n,e,r))}function h1(n,e){if(!e.type.compatibleContent(n.type))throw new Nc("Cannot join "+e.type.name+" onto "+n.type.name)}function gh(n,e,t){let r=n.node(t);return h1(r,e.node(t)),r}function js(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function oa(n,e,t,r){let i=(e||n).node(t),a=0,c=e?e.index(t):i.childCount;n&&(a=n.index(t),n.depth>t?a++:n.textOffset&&(js(n.nodeAfter,r),a++));for(let f=a;f<c;f++)js(i.child(f),r);e&&e.depth==t&&e.textOffset&&js(e.nodeBefore,r)}function Rs(n,e){return n.type.checkContent(e),n.copy(e)}function p1(n,e,t,r,i){let a=n.depth>i&&gh(n,e,i+1),c=r.depth>i&&gh(t,r,i+1),f=[];return oa(null,n,i,f),a&&c&&e.index(i)==t.index(i)?(h1(a,c),js(Rs(a,p1(n,e,t,r,i+1)),f)):(a&&js(Rs(a,Cc(n,e,i+1)),f),oa(e,t,i,f),c&&js(Rs(c,Cc(t,r,i+1)),f)),oa(r,null,i,f),new G(f)}function Cc(n,e,t){let r=[];if(oa(null,n,t,r),n.depth>t){let i=gh(n,e,t+1);js(Rs(i,Cc(n,e,t+1)),r)}return oa(e,null,t,r),new G(r)}function xO(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let a=t-1;a>=0;a--)i=e.node(a).copy(G.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class ma{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let a=0;a<e;a++)i+=r.child(a).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return ze.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let f=r;r=i,i=f}let a=r.marks;for(var c=0;c<a.length;c++)a[c].type.spec.inclusive===!1&&(!i||!a[c].isInSet(i.marks))&&(a=a[c--].removeFromSet(a));return a}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var a=0;a<r.length;a++)r[a].type.spec.inclusive===!1&&(!i||!r[a].isInSet(i.marks))&&(r=r[a--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new Ec(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,a=t;for(let c=e;;){let{index:f,offset:d}=c.content.findIndex(a),h=a-d;if(r.push(c,f,i+d),!h||(c=c.child(f),c.isText))break;a=h-1,i+=d+1}return new ma(t,r,a)}static resolveCached(e,t){let r=$0.get(e);if(r)for(let a=0;a<r.elts.length;a++){let c=r.elts[a];if(c.pos==t)return c}else $0.set(e,r=new vO);let i=r.elts[r.i]=ma.resolve(e,t);return r.i=(r.i+1)%SO,i}}class vO{constructor(){this.elts=[],this.i=0}}const SO=12,$0=new WeakMap;class Ec{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const wO=Object.create(null);let Kr=class yh{constructor(e,t,r,i=ze.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||G.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&wc(this.attrs,t||e.defaultAttrs||wO)&&ze.sameSet(this.marks,r||ze.none)}copy(e=null){return e==this.content?this:new yh(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new yh(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return Q.empty;let i=this.resolve(e),a=this.resolve(t),c=r?0:i.sharedDepth(t),f=i.start(c),h=i.node(c).content.cut(i.pos-f,a.pos-f);return new Q(h,i.depth-c,a.depth-c)}replace(e,t,r){return bO(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return ma.resolveCached(this,e)}resolveNoCache(e){return ma.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,a=>(r.isInSet(a.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),m1(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=G.empty,i=0,a=r.childCount){let c=this.contentMatchAt(e).matchFragment(r,i,a),f=c&&c.matchFragment(this.content,t);if(!f||!f.validEnd)return!1;for(let d=i;d<a;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let a=this.contentMatchAt(e).matchType(r),c=a&&a.matchFragment(this.content,t);return c?c.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=ze.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!ze.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=G.fromJSON(e,t.content),a=e.nodeType(t.type).create(t.attrs,i,r);return a.type.checkAttrs(a.attrs),a}};Kr.prototype.text=void 0;class Tc extends Kr{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):m1(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Tc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Tc(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function m1(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Hs{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new NO(e,t);if(r.next==null)return Hs.empty;let i=g1(r);r.next&&r.err("Unexpected trailing text");let a=AO(OO(i));return DO(a,r),a}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let a=t;i&&a<r;a++)i=i.matchType(e.child(a).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function a(c,f){let d=c.matchFragment(e,r);if(d&&(!t||d.validEnd))return G.from(f.map(h=>h.createAndFill()));for(let h=0;h<c.next.length;h++){let{type:m,next:b}=c.next[h];if(!(m.isText||m.hasRequiredAttrs())&&i.indexOf(b)==-1){i.push(b);let x=a(b,f.concat(m));if(x)return x}}return null}return a(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),a=i.match;if(a.matchType(e)){let c=[];for(let f=i;f.type;f=f.via)c.push(f.type);return c.reverse()}for(let c=0;c<a.next.length;c++){let{type:f,next:d}=a.next[c];!f.isLeaf&&!f.hasRequiredAttrs()&&!(f.name in t)&&(!i.type||d.validEnd)&&(r.push({match:f.contentMatch,type:f,via:i}),t[f.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let a=i+(r.validEnd?"*":" ")+" ";for(let c=0;c<r.next.length;c++)a+=(c?", ":"")+r.next[c].type.name+"->"+e.indexOf(r.next[c].next);return a}).join(`
`)}}Hs.empty=new Hs(!0);class NO{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function g1(n){let e=[];do e.push(CO(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function CO(n){let e=[];do e.push(EO(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function EO(n){let e=kO(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=TO(n,e);else break;return e}function F0(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function TO(n,e){let t=F0(n),r=t;return n.eat(",")&&(n.next!="}"?r=F0(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function MO(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let a in t){let c=t[a];c.isInGroup(e)&&i.push(c)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function kO(n){if(n.eat("(")){let e=g1(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=MO(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function OO(n){let e=[[]];return i(a(n,0),t()),e;function t(){return e.push([])-1}function r(c,f,d){let h={term:d,to:f};return e[c].push(h),h}function i(c,f){c.forEach(d=>d.to=f)}function a(c,f){if(c.type=="choice")return c.exprs.reduce((d,h)=>d.concat(a(h,f)),[]);if(c.type=="seq")for(let d=0;;d++){let h=a(c.exprs[d],f);if(d==c.exprs.length-1)return h;i(h,f=t())}else if(c.type=="star"){let d=t();return r(f,d),i(a(c.expr,d),d),[r(d)]}else if(c.type=="plus"){let d=t();return i(a(c.expr,f),d),i(a(c.expr,d),d),[r(d)]}else{if(c.type=="opt")return[r(f)].concat(a(c.expr,f));if(c.type=="range"){let d=f;for(let h=0;h<c.min;h++){let m=t();i(a(c.expr,d),m),d=m}if(c.max==-1)i(a(c.expr,d),d);else for(let h=c.min;h<c.max;h++){let m=t();r(d,m),i(a(c.expr,d),m),d=m}return[r(d)]}else{if(c.type=="name")return[r(f,void 0,c.value)];throw new Error("Unknown expr type")}}}}function y1(n,e){return e-n}function Y0(n,e){let t=[];return r(e),t.sort(y1);function r(i){let a=n[i];if(a.length==1&&!a[0].term)return r(a[0].to);t.push(i);for(let c=0;c<a.length;c++){let{term:f,to:d}=a[c];!f&&t.indexOf(d)==-1&&r(d)}}}function AO(n){let e=Object.create(null);return t(Y0(n,0));function t(r){let i=[];r.forEach(c=>{n[c].forEach(({term:f,to:d})=>{if(!f)return;let h;for(let m=0;m<i.length;m++)i[m][0]==f&&(h=i[m][1]);Y0(n,d).forEach(m=>{h||i.push([f,h=[]]),h.indexOf(m)==-1&&h.push(m)})})});let a=e[r.join(",")]=new Hs(r.indexOf(n.length-1)>-1);for(let c=0;c<i.length;c++){let f=i[c][1].sort(y1);a.next.push({type:i[c][0],next:e[f.join(",")]||t(f)})}return a}}function DO(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],a=!i.validEnd,c=[];for(let f=0;f<i.next.length;f++){let{type:d,next:h}=i.next[f];c.push(d.name),a&&!(d.isText||d.hasRequiredAttrs())&&(a=!1),r.indexOf(h)==-1&&r.push(h)}a&&e.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function b1(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function x1(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let a=n[r];if(a.hasDefault)i=a.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function v1(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let a=n[i];a.validate&&a.validate(e[i])}}function S1(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new RO(n,r,e[r]);return t}let G0=class w1{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=S1(e,r.attrs),this.defaultAttrs=b1(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Hs.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:x1(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Kr(this,this.computeAttrs(e),G.from(t),ze.setFrom(r))}createChecked(e=null,t,r){return t=G.from(t),this.checkContent(t),new Kr(this,this.computeAttrs(e),t,ze.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=G.from(t),t.size){let c=this.contentMatch.fillBefore(t);if(!c)return null;t=c.append(t)}let i=this.contentMatch.matchFragment(t),a=i&&i.fillBefore(G.empty,!0);return a?new Kr(this,e,t.append(a),ze.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){v1(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:ze.none:e}static compile(e,t){let r=Object.create(null);e.forEach((a,c)=>r[a]=new w1(a,t,c));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let a in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function jO(n,e,t){let r=t.split("|");return i=>{let a=i===null?"null":typeof i;if(r.indexOf(a)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${a}`)}}class RO{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?jO(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Yc{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=S1(e,i.attrs),this.excluded=null;let a=b1(this.attrs);this.instance=a?new ze(this,a):null}create(e=null){return!e&&this.instance?this.instance:new ze(this,x1(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((a,c)=>r[a]=new Yc(a,i++,t,c)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){v1(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class N1{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=bt.from(e.nodes),t.marks=bt.from(e.marks||{}),this.nodes=G0.compile(this.spec.nodes,this),this.marks=Yc.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let a=this.nodes[i],c=a.spec.content||"",f=a.spec.marks;if(a.contentMatch=r[c]||(r[c]=Hs.parse(c,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=f=="_"?null:f?K0(this,f.split(" ")):f==""||!a.inlineContent?[]:null}for(let i in this.marks){let a=this.marks[i],c=a.spec.excludes;a.excluded=c==null?[a]:c==""?[]:K0(this,c.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof G0){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new Tc(r,r.defaultAttrs,e,ze.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Kr.fromJSON(this,e)}markFromJSON(e){return ze.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function K0(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],a=n.marks[i],c=a;if(a)t.push(a);else for(let f in n.marks){let d=n.marks[f];(i=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(i)>-1)&&t.push(c=d)}if(!c)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function _O(n){return n.tag!=null}function BO(n){return n.style!=null}class Jr{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(_O(i))this.tags.push(i);else if(BO(i)){let a=/[^=]*/.exec(i.style)[0];r.indexOf(a)<0&&r.push(a),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let a=e.nodes[i.node];return a.contentMatch.matchType(a)})}parse(e,t={}){let r=new X0(this,t,!1);return r.addAll(e,ze.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new X0(this,t,!0);return r.addAll(e,ze.none,t.from,t.to),Q.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let a=this.tags[i];if(HO(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||t.matchesContext(a.context))){if(a.getAttrs){let c=a.getAttrs(e);if(c===!1)continue;a.attrs=c||void 0}return a}}}matchStyle(e,t,r,i){for(let a=i?this.styles.indexOf(i)+1:0;a<this.styles.length;a++){let c=this.styles[a],f=c.style;if(!(f.indexOf(e)!=0||c.context&&!r.matchesContext(c.context)||f.length>e.length&&(f.charCodeAt(e.length)!=61||f.slice(e.length+1)!=t))){if(c.getAttrs){let d=c.getAttrs(t);if(d===!1)continue;c.attrs=d||void 0}return c}}}static schemaRules(e){let t=[];function r(i){let a=i.priority==null?50:i.priority,c=0;for(;c<t.length;c++){let f=t[c];if((f.priority==null?50:f.priority)<a)break}t.splice(c,0,i)}for(let i in e.marks){let a=e.marks[i].spec.parseDOM;a&&a.forEach(c=>{r(c=W0(c)),c.mark||c.ignore||c.clearMark||(c.mark=i)})}for(let i in e.nodes){let a=e.nodes[i].spec.parseDOM;a&&a.forEach(c=>{r(c=W0(c)),c.node||c.ignore||c.mark||(c.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Jr(e,Jr.schemaRules(e)))}}const C1={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},zO={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},E1={ol:!0,ul:!0},ga=1,bh=2,ca=4;function J0(n,e,t){return e!=null?(e?ga:0)|(e==="full"?bh:0):n&&n.whitespace=="pre"?ga|bh:t&~ca}class nc{constructor(e,t,r,i,a,c){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=c,this.content=[],this.activeMarks=ze.none,this.match=a||(c&ca?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(G.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ga)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let a=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-i[0].length))}}let t=G.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(G.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!C1.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class X0{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,a,c=J0(null,t.preserveWhitespace,0)|(r?ca:0);i?a=new nc(i.type,i.attrs,ze.none,!0,t.topMatch||i.type.contentMatch,c):r?a=new nc(null,null,ze.none,!0,null,c):a=new nc(e.schema.topNodeType,null,ze.none,!0,null,c),this.nodes=[a],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,a=i.options&bh?"full":this.localPreserveWS||(i.options&ga)>0;if(a==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(a)a!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let c=i.content[i.content.length-1],f=e.previousSibling;(!c||f&&f.nodeName=="BR"||c.isText&&/[ \t\r\n\u000c]$/.test(c.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let c=e.nodeName.toLowerCase(),f;E1.hasOwnProperty(c)&&this.parser.normalizeLists&&LO(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(f=this.parser.matchTag(e,this,r));e:if(d?d.ignore:zO.hasOwnProperty(c))this.findInside(e),this.ignoreFallback(e,t);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let h,m=this.needsBlock;if(C1.hasOwnProperty(c))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),h=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let b=d&&d.skip?t:this.readStyles(e,t);b&&this.addAll(e,b),h&&this.sync(a),this.needsBlock=m}else{let h=this.readStyles(e,t);h&&this.addElementByRule(e,d,h,d.consuming===!1?f:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let a=this.parser.matchedStyles[i],c=r.getPropertyValue(a);if(c)for(let f=void 0;;){let d=this.parser.matchStyle(a,c,this,f);if(!d)break;if(d.ignore)return null;if(d.clearMark?t=t.filter(h=>!d.clearMark(h)):t=t.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)f=d;else break}}return t}addElementByRule(e,t,r,i){let a,c;if(t.node)if(c=this.parser.schema.nodes[t.node],c.isLeaf)this.insertNode(c.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(c,t.attrs||null,r,t.preserveWhitespace);d&&(a=!0,r=d)}else{let d=this.parser.schema.marks[t.mark];r=r.concat(d.create(t.attrs))}let f=this.top;if(c&&c.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof t.contentElement=="string"?d=e.querySelector(t.contentElement):typeof t.contentElement=="function"?d=t.contentElement(e):t.contentElement&&(d=t.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}a&&this.sync(f)&&this.open--}addAll(e,t,r,i){let a=r||0;for(let c=r?e.childNodes[r]:e.firstChild,f=i==null?null:e.childNodes[i];c!=f;c=c.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(c,t);this.findAtPoint(e,a)}findPlace(e,t,r){let i,a;for(let c=this.open,f=0;c>=0;c--){let d=this.nodes[c],h=d.findWrapping(e);if(h&&(!i||i.length>h.length+f)&&(i=h,a=d,!h.length))break;if(d.solid){if(r)break;f+=2}}if(!i)return null;this.sync(a);for(let c=0;c<i.length;c++)t=this.enterInner(i[c],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(t=this.enterInner(a,null,t))}let i=this.findPlace(e,t,r);if(i){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let c=ze.none;for(let f of i.concat(e.marks))(a.type?a.type.allowsMarkType(f.type):Q0(f.type,e.type))&&(c=f.addToSet(c));return a.content.push(e.mark(c)),!0}return!1}enter(e,t,r,i){let a=this.findPlace(e.create(t),r,!1);return a&&(a=this.enterInner(e,t,r,!0,i)),a}enterInner(e,t,r,i=!1,a){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(e);let f=J0(e,a,c.options);c.options&ca&&c.content.length==0&&(f|=ca);let d=ze.none;return r=r.filter(h=>(c.type?c.type.allowsMarkType(h.type):Q0(h.type,e))?(d=h.addToSet(d),!1):!0),this.nodes.push(new nc(e,t,d,i,null,f)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=ga)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),a=-(r?r.depth+1:0)+(i?0:1),c=(f,d)=>{for(;f>=0;f--){let h=t[f];if(h==""){if(f==t.length-1||f==0)continue;for(;d>=a;d--)if(c(f-1,d))return!0;return!1}else{let m=d>0||d==0&&i?this.nodes[d].type:r&&d>=a?r.node(d-a).type:null;if(!m||m.name!=h&&!m.isInGroup(h))return!1;d--}}return!0};return c(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function LO(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&E1.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function HO(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function W0(n){let e={};for(let t in n)e[t]=n[t];return e}function Q0(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let a=[],c=f=>{a.push(f);for(let d=0;d<f.edgeCount;d++){let{type:h,next:m}=f.edge(d);if(h==e||a.indexOf(m)<0&&c(m))return!0}};if(c(i.contentMatch))return!0}}class Fs{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Ud(t).createDocumentFragment());let i=r,a=[];return e.forEach(c=>{if(a.length||c.marks.length){let f=0,d=0;for(;f<a.length&&d<c.marks.length;){let h=c.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(a[f][0])||h.type.spec.spanning===!1)break;f++,d++}for(;f<a.length;)i=a.pop()[1];for(;d<c.marks.length;){let h=c.marks[d++],m=this.serializeMark(h,c.isInline,t);m&&(a.push([h,i]),i.appendChild(m.dom),i=m.contentDOM||m.dom)}}i.appendChild(this.serializeNodeInner(c,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=pc(Ud(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let a=this.serializeMark(e.marks[i],e.isInline,t);a&&((a.contentDOM||a.dom).appendChild(r),r=a.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&pc(Ud(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return pc(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Fs(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Z0(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return Z0(e.marks)}}function Z0(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function Ud(n){return n.document||window.document}const eb=new WeakMap;function UO(n){let e=eb.get(n);return e===void 0&&eb.set(n,e=qO(n)),e}function qO(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function pc(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],a;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(a=UO(r))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=i.indexOf(" ");c>0&&(t=i.slice(0,c),i=i.slice(c+1));let f,d=t?n.createElementNS(t,i):n.createElement(i),h=e[1],m=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){m=2;for(let b in h)if(h[b]!=null){let x=b.indexOf(" ");x>0?d.setAttributeNS(b.slice(0,x),b.slice(x+1),h[b]):d.setAttribute(b,h[b])}}for(let b=m;b<e.length;b++){let x=e[b];if(x===0){if(b<e.length-1||b>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:S,contentDOM:v}=pc(n,x,t,r);if(d.appendChild(S),v){if(f)throw new RangeError("Multiple content holes");f=v}}}return{dom:d,contentDOM:f}}const T1=65535,M1=Math.pow(2,16);function VO(n,e){return n+e*M1}function tb(n){return n&T1}function PO(n){return(n-(n&T1))/M1}const k1=1,O1=2,mc=4,A1=8;class xh{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&A1)>0}get deletedBefore(){return(this.delInfo&(k1|mc))>0}get deletedAfter(){return(this.delInfo&(O1|mc))>0}get deletedAcross(){return(this.delInfo&mc)>0}}class tn{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&tn.empty)return tn.empty}recover(e){let t=0,r=tb(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+PO(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,a=this.inverted?2:1,c=this.inverted?1:2;for(let f=0;f<this.ranges.length;f+=3){let d=this.ranges[f]-(this.inverted?i:0);if(d>e)break;let h=this.ranges[f+a],m=this.ranges[f+c],b=d+h;if(e<=b){let x=h?e==d?-1:e==b?1:t:t,S=d+i+(x<0?0:m);if(r)return S;let v=e==(t<0?d:b)?null:VO(f/3,e-d),N=e==d?O1:e==b?k1:mc;return(t<0?e!=d:e!=b)&&(N|=A1),new xh(S,N,v)}i+=m-h}return r?e+i:new xh(e+i,0,null)}touches(e,t){let r=0,i=tb(t),a=this.inverted?2:1,c=this.inverted?1:2;for(let f=0;f<this.ranges.length;f+=3){let d=this.ranges[f]-(this.inverted?r:0);if(d>e)break;let h=this.ranges[f+a],m=d+h;if(e<=m&&f==i*3)return!0;r+=this.ranges[f+c]-h}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,a=0;i<this.ranges.length;i+=3){let c=this.ranges[i],f=c-(this.inverted?a:0),d=c+(this.inverted?0:a),h=this.ranges[i+t],m=this.ranges[i+r];e(f,f+h,d,d+m),a+=m-h}}invert(){return new tn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?tn.empty:new tn(e<0?[0,-e,0]:[0,0,e])}}tn.empty=new tn([]);class ya{constructor(e,t,r=0,i=e?e.length:0){this.mirror=t,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new ya(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new ya;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let a=this.from;a<this.to;a++){let c=this._maps[a],f=c.mapResult(e,t);if(f.recover!=null){let d=this.getMirror(a);if(d!=null&&d>a&&d<this.to){a=d,e=this._maps[d].recover(f.recover);continue}}i|=f.delInfo,e=f.pos}return r?e:new xh(e,i,null)}}const qd=Object.create(null);class kt{getMap(){return tn.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=qd[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in qd)throw new RangeError("Duplicate use of step JSON ID "+e);return qd[e]=t,t.prototype.jsonID=e,t}}class Ze{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Ze(e,null)}static fail(e){return new Ze(null,e)}static fromReplace(e,t,r,i){try{return Ze.ok(e.replace(t,r,i))}catch(a){if(a instanceof Nc)return Ze.fail(a.message);throw a}}}function Gh(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let a=n.child(i);a.content.size&&(a=a.copy(Gh(a.content,e,a))),a.isInline&&(a=e(a,t,i)),r.push(a)}return G.fromArray(r)}class Fr extends kt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),a=new Q(Gh(t.content,(c,f)=>!c.isAtom||!f.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),i),t.openStart,t.openEnd);return Ze.fromReplace(e,this.from,this.to,a)}invert(){return new _n(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Fr(t.pos,r.pos,this.mark)}merge(e){return e instanceof Fr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Fr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Fr(t.from,t.to,e.markFromJSON(t.mark))}}kt.jsonID("addMark",Fr);class _n extends kt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new Q(Gh(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return Ze.fromReplace(e,this.from,this.to,r)}invert(){return new Fr(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new _n(t.pos,r.pos,this.mark)}merge(e){return e instanceof _n&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new _n(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new _n(t.from,t.to,e.markFromJSON(t.mark))}}kt.jsonID("removeMark",_n);class Yr extends kt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ze.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Ze.fromReplace(e,this.pos,this.pos+1,new Q(G.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new Yr(this.pos,t.marks[i]);return new Yr(this.pos,this.mark)}}return new Us(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Yr(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Yr(t.pos,e.markFromJSON(t.mark))}}kt.jsonID("addNodeMark",Yr);class Us extends kt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ze.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Ze.fromReplace(e,this.pos,this.pos+1,new Q(G.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Yr(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Us(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Us(t.pos,e.markFromJSON(t.mark))}}kt.jsonID("removeNodeMark",Us);class ut extends kt{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&vh(e,this.from,this.to)?Ze.fail("Structure replace would overwrite content"):Ze.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new tn([this.from,this.to-this.from,this.slice.size])}invert(e){return new ut(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new ut(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ut)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?Q.empty:new Q(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ut(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?Q.empty:new Q(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ut(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ut(t.from,t.to,Q.fromJSON(e,t.slice),!!t.structure)}}kt.jsonID("replace",ut);class ft extends kt{constructor(e,t,r,i,a,c,f=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=a,this.insert=c,this.structure=f}apply(e){if(this.structure&&(vh(e,this.from,this.gapFrom)||vh(e,this.gapTo,this.to)))return Ze.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Ze.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Ze.fromReplace(e,this.from,this.to,r):Ze.fail("Content does not fit in gap")}getMap(){return new tn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new ft(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||a>r.pos?null:new ft(t.pos,r.pos,i,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ft(t.from,t.to,t.gapFrom,t.gapTo,Q.fromJSON(e,t.slice),t.insert,!!t.structure)}}kt.jsonID("replaceAround",ft);function vh(n,e,t){let r=n.resolve(e),i=t-e,a=r.depth;for(;i>0&&a>0&&r.indexAfter(a)==r.node(a).childCount;)a--,i--;if(i>0){let c=r.node(a).maybeChild(r.indexAfter(a));for(;i>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,i--}}return!1}function IO(n,e,t,r){let i=[],a=[],c,f;n.doc.nodesBetween(e,t,(d,h,m)=>{if(!d.isInline)return;let b=d.marks;if(!r.isInSet(b)&&m.type.allowsMarkType(r.type)){let x=Math.max(h,e),S=Math.min(h+d.nodeSize,t),v=r.addToSet(b);for(let N=0;N<b.length;N++)b[N].isInSet(v)||(c&&c.to==x&&c.mark.eq(b[N])?c.to=S:i.push(c=new _n(x,S,b[N])));f&&f.to==x?f.to=S:a.push(f=new Fr(x,S,r))}}),i.forEach(d=>n.step(d)),a.forEach(d=>n.step(d))}function $O(n,e,t,r){let i=[],a=0;n.doc.nodesBetween(e,t,(c,f)=>{if(!c.isInline)return;a++;let d=null;if(r instanceof Yc){let h=c.marks,m;for(;m=r.isInSet(h);)(d||(d=[])).push(m),h=m.removeFromSet(h)}else r?r.isInSet(c.marks)&&(d=[r]):d=c.marks;if(d&&d.length){let h=Math.min(f+c.nodeSize,t);for(let m=0;m<d.length;m++){let b=d[m],x;for(let S=0;S<i.length;S++){let v=i[S];v.step==a-1&&b.eq(i[S].style)&&(x=v)}x?(x.to=h,x.step=a):i.push({style:b,from:Math.max(f,e),to:h,step:a})}}}),i.forEach(c=>n.step(new _n(c.from,c.to,c.style)))}function Kh(n,e,t,r=t.contentMatch,i=!0){let a=n.doc.nodeAt(e),c=[],f=e+1;for(let d=0;d<a.childCount;d++){let h=a.child(d),m=f+h.nodeSize,b=r.matchType(h.type);if(!b)c.push(new ut(f,m,Q.empty));else{r=b;for(let x=0;x<h.marks.length;x++)t.allowsMarkType(h.marks[x].type)||n.step(new _n(f,m,h.marks[x]));if(i&&h.isText&&t.whitespace!="pre"){let x,S=/\r?\n|\r/g,v;for(;x=S.exec(h.text);)v||(v=new Q(G.from(t.schema.text(" ",t.allowedMarks(h.marks))),0,0)),c.push(new ut(f+x.index,f+x.index+x[0].length,v))}}f=m}if(!r.validEnd){let d=r.fillBefore(G.empty,!0);n.replace(f,f,new Q(d,0,0))}for(let d=c.length-1;d>=0;d--)n.step(c[d])}function FO(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Xi(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),a=n.$from.index(r),c=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(a,c,t))return r;if(r==0||i.type.spec.isolating||!FO(i,a,c))break}return null}function YO(n,e,t){let{$from:r,$to:i,depth:a}=e,c=r.before(a+1),f=i.after(a+1),d=c,h=f,m=G.empty,b=0;for(let v=a,N=!1;v>t;v--)N||r.index(v)>0?(N=!0,m=G.from(r.node(v).copy(m)),b++):d--;let x=G.empty,S=0;for(let v=a,N=!1;v>t;v--)N||i.after(v+1)<i.end(v)?(N=!0,x=G.from(i.node(v).copy(x)),S++):h++;n.step(new ft(d,h,c,f,new Q(m.append(x),b,S),m.size-b,!0))}function Jh(n,e,t=null,r=n){let i=GO(n,e),a=i&&KO(r,e);return a?i.map(nb).concat({type:e,attrs:t}).concat(a.map(nb)):null}function nb(n){return{type:n,attrs:null}}function GO(n,e){let{parent:t,startIndex:r,endIndex:i}=n,a=t.contentMatchAt(r).findWrapping(e);if(!a)return null;let c=a.length?a[0]:e;return t.canReplaceWith(r,i,c)?a:null}function KO(n,e){let{parent:t,startIndex:r,endIndex:i}=n,a=t.child(r),c=e.contentMatch.findWrapping(a.type);if(!c)return null;let d=(c.length?c[c.length-1]:e).contentMatch;for(let h=r;d&&h<i;h++)d=d.matchType(t.child(h).type);return!d||!d.validEnd?null:c}function JO(n,e,t){let r=G.empty;for(let c=t.length-1;c>=0;c--){if(r.size){let f=t[c].type.contentMatch.matchFragment(r);if(!f||!f.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=G.from(t[c].type.create(t[c].attrs,r))}let i=e.start,a=e.end;n.step(new ft(i,a,i,a,new Q(r,0,0),t.length,!0))}function XO(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=n.steps.length;n.doc.nodesBetween(e,t,(c,f)=>{let d=typeof i=="function"?i(c):i;if(c.isTextblock&&!c.hasMarkup(r,d)&&WO(n.doc,n.mapping.slice(a).map(f),r)){let h=null;if(r.schema.linebreakReplacement){let S=r.whitespace=="pre",v=!!r.contentMatch.matchType(r.schema.linebreakReplacement);S&&!v?h=!1:!S&&v&&(h=!0)}h===!1&&j1(n,c,f,a),Kh(n,n.mapping.slice(a).map(f,1),r,void 0,h===null);let m=n.mapping.slice(a),b=m.map(f,1),x=m.map(f+c.nodeSize,1);return n.step(new ft(b,x,b+1,x-1,new Q(G.from(r.create(d,null,c.marks)),0,0),1,!0)),h===!0&&D1(n,c,f,a),!1}})}function D1(n,e,t,r){e.forEach((i,a)=>{if(i.isText){let c,f=/\r?\n|\r/g;for(;c=f.exec(i.text);){let d=n.mapping.slice(r).map(t+1+a+c.index);n.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function j1(n,e,t,r){e.forEach((i,a)=>{if(i.type==i.type.schema.linebreakReplacement){let c=n.mapping.slice(r).map(t+1+a);n.replaceWith(c,c+1,e.type.schema.text(`
`))}})}function WO(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function QO(n,e,t,r,i){let a=n.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");t||(t=a.type);let c=t.create(r,null,i||a.marks);if(a.isLeaf)return n.replaceWith(e,e+a.nodeSize,c);if(!t.validContent(a.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new ft(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new Q(G.from(c),0,0),1,!0))}function or(n,e,t=1,r){let i=n.resolve(e),a=i.depth-t,c=r&&r[r.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!c.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let h=i.depth-1,m=t-2;h>a;h--,m--){let b=i.node(h),x=i.index(h);if(b.type.spec.isolating)return!1;let S=b.content.cutByIndex(x,b.childCount),v=r&&r[m+1];v&&(S=S.replaceChild(0,v.type.create(v.attrs)));let N=r&&r[m]||b;if(!b.canReplace(x+1,b.childCount)||!N.type.validContent(S))return!1}let f=i.indexAfter(a),d=r&&r[0];return i.node(a).canReplaceWith(f,f,d?d.type:i.node(a+1).type)}function ZO(n,e,t=1,r){let i=n.doc.resolve(e),a=G.empty,c=G.empty;for(let f=i.depth,d=i.depth-t,h=t-1;f>d;f--,h--){a=G.from(i.node(f).copy(a));let m=r&&r[h];c=G.from(m?m.type.create(m.attrs,c):i.node(f).copy(c))}n.step(new ut(e,e,new Q(a.append(c),t,t),!0))}function ts(n,e){let t=n.resolve(e),r=t.index();return R1(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function e2(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let a=e.child(i),c=a.type==r?n.type.schema.nodes.text:a.type;if(t=t.matchType(c),!t||!n.type.allowsMarks(a.marks))return!1}return t.validEnd}function R1(n,e){return!!(n&&e&&!n.isLeaf&&e2(n,e))}function Gc(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let a,c,f=r.index(i);if(i==r.depth?(a=r.nodeBefore,c=r.nodeAfter):t>0?(a=r.node(i+1),f++,c=r.node(i).maybeChild(f)):(a=r.node(i).maybeChild(f-1),c=r.node(i+1)),a&&!a.isTextblock&&R1(a,c)&&r.node(i).canReplace(f,f+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function t2(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,a=n.doc.resolve(e-t),c=a.node().type;if(i&&c.inlineContent){let m=c.whitespace=="pre",b=!!c.contentMatch.matchType(i);m&&!b?r=!1:!m&&b&&(r=!0)}let f=n.steps.length;if(r===!1){let m=n.doc.resolve(e+t);j1(n,m.node(),m.before(),f)}c.inlineContent&&Kh(n,e+t-1,c,a.node().contentMatchAt(a.index()),r==null);let d=n.mapping.slice(f),h=d.map(e-t);if(n.step(new ut(h,d.map(e+t,-1),Q.empty,!0)),r===!0){let m=n.doc.resolve(h);D1(n,m.node(),m.before(),n.steps.length)}return n}function n2(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let a=r.index(i);if(r.node(i).canReplaceWith(a,a,t))return r.before(i+1);if(a>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let a=r.indexAfter(i);if(r.node(i).canReplaceWith(a,a,t))return r.after(i+1);if(a<r.node(i).childCount)return null}return null}function _1(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let a=0;a<t.openStart;a++)i=i.firstChild.content;for(let a=1;a<=(t.openStart==0&&t.size?2:1);a++)for(let c=r.depth;c>=0;c--){let f=c==r.depth?0:r.pos<=(r.start(c+1)+r.end(c+1))/2?-1:1,d=r.index(c)+(f>0?1:0),h=r.node(c),m=!1;if(a==1)m=h.canReplace(d,d,i);else{let b=h.contentMatchAt(d).findWrapping(i.firstChild.type);m=b&&h.canReplaceWith(d,d,b[0])}if(m)return f==0?r.pos:f<0?r.before(c+1):r.after(c+1)}return null}function Kc(n,e,t=e,r=Q.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),a=n.resolve(t);return B1(i,a,r)?new ut(e,t,r):new r2(i,a,r).fit()}function B1(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class r2{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=G.empty;for(let i=0;i<=e.depth;i++){let a=e.node(i);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=G.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let a=this.placed,c=r.depth,f=i.depth;for(;c&&f&&a.childCount==1;)a=a.firstChild.content,c--,f--;let d=new Q(a,c,f);return e>-1?new ft(r.pos,e,this.$to.pos,this.$to.end(),d,t):d.size||r.pos!=this.$to.pos?new ut(r.pos,i.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let a=t.firstChild;if(t.childCount>1&&(i=0),a.type.spec.isolating&&i<=r){e=r;break}t=a.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,a=null;r?(a=Vd(this.unplaced.content,r-1).firstChild,i=a.content):i=this.unplaced.content;let c=i.firstChild;for(let f=this.depth;f>=0;f--){let{type:d,match:h}=this.frontier[f],m,b=null;if(t==1&&(c?h.matchType(c.type)||(b=h.fillBefore(G.from(c),!1)):a&&d.compatibleContent(a.type)))return{sliceDepth:r,frontierDepth:f,parent:a,inject:b};if(t==2&&c&&(m=h.findWrapping(c.type)))return{sliceDepth:r,frontierDepth:f,parent:a,wrap:m};if(a&&h.matchType(a.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=Vd(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Q(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=Vd(e,t);if(i.childCount<=1&&t>0){let a=e.size-t<=t+i.size;this.unplaced=new Q(ia(e,t-1,1),t-1,a?t-1:r)}else this.unplaced=new Q(ia(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:a}){for(;this.depth>t;)this.closeFrontierNode();if(a)for(let N=0;N<a.length;N++)this.openFrontierNode(a[N]);let c=this.unplaced,f=r?r.content:c.content,d=c.openStart-e,h=0,m=[],{match:b,type:x}=this.frontier[t];if(i){for(let N=0;N<i.childCount;N++)m.push(i.child(N));b=b.matchFragment(i)}let S=f.size+e-(c.content.size-c.openEnd);for(;h<f.childCount;){let N=f.child(h),C=b.matchType(N.type);if(!C)break;h++,(h>1||d==0||N.content.size)&&(b=C,m.push(z1(N.mark(x.allowedMarks(N.marks)),h==1?d:0,h==f.childCount?S:-1)))}let v=h==f.childCount;v||(S=-1),this.placed=la(this.placed,t,G.from(m)),this.frontier[t].match=b,v&&S<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let N=0,C=f;N<S;N++){let T=C.lastChild;this.frontier.push({type:T.type,match:T.contentMatchAt(T.childCount)}),C=T.content}this.unplaced=v?e==0?Q.empty:new Q(ia(c.content,e-1,1),e-1,S<0?c.openEnd:e-1):new Q(ia(c.content,e,h),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Pd(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],a=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),c=Pd(e,t,i,r,a);if(c){for(let f=t-1;f>=0;f--){let{match:d,type:h}=this.frontier[f],m=Pd(e,f,h,d,!0);if(!m||m.childCount)continue e}return{depth:t,fit:c,move:a?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=la(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),a=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,a)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=la(this.placed,this.depth,G.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(G.empty,!0);t.childCount&&(this.placed=la(this.placed,this.frontier.length,t))}}function ia(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(ia(n.firstChild.content,e-1,t)))}function la(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(la(n.lastChild.content,e-1,t)))}function Vd(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function z1(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,z1(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(G.empty,!0)))),n.copy(r)}function Pd(n,e,t,r,i){let a=n.node(e),c=i?n.indexAfter(e):n.index(e);if(c==a.childCount&&!t.compatibleContent(a.type))return null;let f=r.fillBefore(a.content,!0,c);return f&&!s2(t,a.content,c)?f:null}function s2(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function i2(n){return n.spec.defining||n.spec.definingForContent}function l2(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),a=n.doc.resolve(t);if(B1(i,a,r))return n.step(new ut(e,t,r));let c=H1(i,n.doc.resolve(t));c[c.length-1]==0&&c.pop();let f=-(i.depth+1);c.unshift(f);for(let x=i.depth,S=i.pos-1;x>0;x--,S--){let v=i.node(x).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;c.indexOf(x)>-1?f=x:i.before(x)==S&&c.splice(1,0,-x)}let d=c.indexOf(f),h=[],m=r.openStart;for(let x=r.content,S=0;;S++){let v=x.firstChild;if(h.push(v),S==r.openStart)break;x=v.content}for(let x=m-1;x>=0;x--){let S=h[x],v=i2(S.type);if(v&&!S.sameMarkup(i.node(Math.abs(f)-1)))m=x;else if(v||!S.type.isTextblock)break}for(let x=r.openStart;x>=0;x--){let S=(x+m+1)%(r.openStart+1),v=h[S];if(v)for(let N=0;N<c.length;N++){let C=c[(N+d)%c.length],T=!0;C<0&&(T=!1,C=-C);let _=i.node(C-1),q=i.index(C-1);if(_.canReplaceWith(q,q,v.type,v.marks))return n.replace(i.before(C),T?a.after(C):t,new Q(L1(r.content,0,r.openStart,S),S,r.openEnd))}}let b=n.steps.length;for(let x=c.length-1;x>=0&&(n.replace(e,t,r),!(n.steps.length>b));x--){let S=c[x];S<0||(e=i.before(S),t=a.after(S))}}function L1(n,e,t,r,i){if(e<t){let a=n.firstChild;n=n.replaceChild(0,a.copy(L1(a.content,e+1,t,r,a)))}if(e>r){let a=i.contentMatchAt(0),c=a.fillBefore(n).append(n);n=c.append(a.matchFragment(c).fillBefore(G.empty,!0))}return n}function a2(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=n2(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new Q(G.from(r),0,0))}function o2(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),a=H1(r,i);for(let c=0;c<a.length;c++){let f=a[c],d=c==a.length-1;if(d&&f==0||r.node(f).type.contentMatch.validEnd)return n.delete(r.start(f),i.end(f));if(f>0&&(d||r.node(f-1).canReplace(r.index(f-1),i.indexAfter(f-1))))return n.delete(r.before(f),i.after(f))}for(let c=1;c<=r.depth&&c<=i.depth;c++)if(e-r.start(c)==r.depth-c&&t>r.end(c)&&i.end(c)-t!=i.depth-c&&r.start(c-1)==i.start(c-1)&&r.node(c-1).canReplace(r.index(c-1),i.index(c-1)))return n.delete(r.before(c),t);n.delete(e,t)}function H1(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let a=n.start(i);if(a<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(a==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==a-1)&&t.push(i)}return t}class Ui extends kt{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ze.fail("No node at attribute step's position");let r=Object.create(null);for(let a in t.attrs)r[a]=t.attrs[a];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return Ze.fromReplace(e,this.pos,this.pos+1,new Q(G.from(i),0,t.isLeaf?0:1))}getMap(){return tn.empty}invert(e){return new Ui(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ui(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ui(t.pos,t.attr,t.value)}}kt.jsonID("attr",Ui);class ba extends kt{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Ze.ok(r)}getMap(){return tn.empty}invert(e){return new ba(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ba(t.attr,t.value)}}kt.jsonID("docAttr",ba);let Vi=class extends Error{};Vi=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Vi.prototype=Object.create(Error.prototype);Vi.prototype.constructor=Vi;Vi.prototype.name="TransformError";class c2{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ya}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Vi(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=Q.empty){let i=Kc(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new Q(G.from(r),0,0))}delete(e,t){return this.replace(e,t,Q.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return l2(this,e,t,r),this}replaceRangeWith(e,t,r){return a2(this,e,t,r),this}deleteRange(e,t){return o2(this,e,t),this}lift(e,t){return YO(this,e,t),this}join(e,t=1){return t2(this,e,t),this}wrap(e,t){return JO(this,e,t),this}setBlockType(e,t=e,r,i=null){return XO(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return QO(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new Ui(e,t,r)),this}setDocAttribute(e,t){return this.step(new ba(e,t)),this}addNodeMark(e,t){return this.step(new Yr(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof ze)t.isInSet(r.marks)&&this.step(new Us(e,t));else{let i=r.marks,a,c=[];for(;a=t.isInSet(i);)c.push(new Us(e,a)),i=a.removeFromSet(i);for(let f=c.length-1;f>=0;f--)this.step(c[f])}return this}split(e,t=1,r){return ZO(this,e,t,r),this}addMark(e,t,r){return IO(this,e,t,r),this}removeMark(e,t,r){return $O(this,e,t,r),this}clearIncompatible(e,t,r){return Kh(this,e,t,r),this}}const Id=Object.create(null);class ye{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new u2(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Q.empty){let r=t.content.lastChild,i=null;for(let f=0;f<t.openEnd;f++)i=r,r=r.lastChild;let a=e.steps.length,c=this.ranges;for(let f=0;f<c.length;f++){let{$from:d,$to:h}=c[f],m=e.mapping.slice(a);e.replaceRange(m.map(d.pos),m.map(h.pos),f?Q.empty:t),f==0&&ib(e,a,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:c,$to:f}=i[a],d=e.mapping.slice(r),h=d.map(c.pos),m=d.map(f.pos);a?e.deleteRange(h,m):(e.replaceRangeWith(h,m,t),ib(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new he(e):_i(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let a=e.depth-1;a>=0;a--){let c=t<0?_i(e.node(0),e.node(a),e.before(a+1),e.index(a),t,r):_i(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,t,r);if(c)return c}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new nn(e.node(0))}static atStart(e){return _i(e,e,0,0,1)||new nn(e)}static atEnd(e){return _i(e,e,e.content.size,e.childCount,-1)||new nn(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Id[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Id)throw new RangeError("Duplicate use of selection JSON ID "+e);return Id[e]=t,t.prototype.jsonID=e,t}getBookmark(){return he.between(this.$anchor,this.$head).getBookmark()}}ye.prototype.visible=!0;class u2{constructor(e,t){this.$from=e,this.$to=t}}let rb=!1;function sb(n){!rb&&!n.parent.inlineContent&&(rb=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class he extends ye{constructor(e,t=e){sb(e),sb(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return ye.near(r);let i=e.resolve(t.map(this.anchor));return new he(i.parent.inlineContent?i:r,r)}replace(e,t=Q.empty){if(super.replace(e,t),t==Q.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof he&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Jc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new he(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let a=ye.findFrom(t,r,!0)||ye.findFrom(t,-r,!0);if(a)t=a.$head;else return ye.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(ye.findFrom(e,-r,!0)||ye.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new he(e,t)}}ye.jsonID("text",he);class Jc{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Jc(e.map(this.anchor),e.map(this.head))}resolve(e){return he.between(e.resolve(this.anchor),e.resolve(this.head))}}class ie extends ye{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),a=e.resolve(i);return r?ye.near(a):new ie(a)}content(){return new Q(G.from(this.node),0,0)}eq(e){return e instanceof ie&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Xh(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ie(e.resolve(t.anchor))}static create(e,t){return new ie(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ie.prototype.visible=!1;ye.jsonID("node",ie);class Xh{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Jc(r,r):new Xh(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&ie.isSelectable(r)?new ie(t):ye.near(t)}}class nn extends ye{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Q.empty){if(t==Q.empty){e.delete(0,e.doc.content.size);let r=ye.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new nn(e)}map(e){return new nn(e)}eq(e){return e instanceof nn}getBookmark(){return f2}}ye.jsonID("all",nn);const f2={map(){return this},resolve(n){return new nn(n)}};function _i(n,e,t,r,i,a=!1){if(e.inlineContent)return he.create(n,t);for(let c=r-(i>0?0:1);i>0?c<e.childCount:c>=0;c+=i){let f=e.child(c);if(f.isAtom){if(!a&&ie.isSelectable(f))return ie.create(n,t-(i<0?f.nodeSize:0))}else{let d=_i(n,f,t+i,i<0?f.childCount:0,i,a);if(d)return d}t+=f.nodeSize*i}return null}function ib(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof ut||i instanceof ft))return;let a=n.mapping.maps[r],c;a.forEach((f,d,h,m)=>{c==null&&(c=m)}),n.setSelection(ye.near(n.doc.resolve(c),t))}const lb=1,rc=2,ab=4;class d2 extends c2{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|lb)&~rc,this.storedMarks=null,this}get selectionSet(){return(this.updated&lb)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=rc,this}ensureMarks(e){return ze.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&rc)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~rc,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||ze.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let a=this.storedMarks;if(!a){let c=this.doc.resolve(t);a=r==t?c.marks():c.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,a)),this.selection.empty||this.setSelection(ye.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=ab,this}get scrolledIntoView(){return(this.updated&ab)>0}}function ob(n,e){return!e||!n?n:n.bind(e)}class aa{constructor(e,t,r){this.name=e,this.init=ob(t.init,r),this.apply=ob(t.apply,r)}}const h2=[new aa("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new aa("selection",{init(n,e){return n.selection||ye.atStart(e.doc)},apply(n){return n.selection}}),new aa("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new aa("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class $d{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=h2.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new aa(r.key,r.spec.state,r))})}}class zi{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let a=!1;for(let c=0;c<this.config.plugins.length;c++){let f=this.config.plugins[c];if(f.spec.appendTransaction){let d=i?i[c].n:0,h=i?i[c].state:this,m=d<t.length&&f.spec.appendTransaction.call(f,d?t.slice(d):t,h,r);if(m&&r.filterTransaction(m,c)){if(m.setMeta("appendedTransaction",e),!i){i=[];for(let b=0;b<this.config.plugins.length;b++)i.push(b<c?{state:r,n:t.length}:{state:this,n:0})}t.push(m),r=r.applyInner(m),a=!0}i&&(i[c]={state:r,n:t.length})}}if(!a)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new zi(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let a=r[i];t[a.name]=a.apply(e,this[a.name],this,t)}return t}get tr(){return new d2(this)}static create(e){let t=new $d(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new zi(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new $d(this.schema,e.plugins),r=t.fields,i=new zi(t);for(let a=0;a<r.length;a++){let c=r[a].name;i[c]=this.hasOwnProperty(c)?this[c]:r[a].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],a=i.spec.state;a&&a.toJSON&&(t[r]=a.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new $d(e.schema,e.plugins),a=new zi(i);return i.fields.forEach(c=>{if(c.name=="doc")a.doc=Kr.fromJSON(e.schema,t.doc);else if(c.name=="selection")a.selection=ye.fromJSON(a.doc,t.selection);else if(c.name=="storedMarks")t.storedMarks&&(a.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let f in r){let d=r[f],h=d.spec.state;if(d.key==c.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(t,f)){a[c.name]=h.fromJSON.call(d,e,t[f],a);return}}a[c.name]=c.init(e,a)}}),a}}function U1(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=U1(i,e,{})),t[r]=i}return t}class $t{constructor(e){this.spec=e,this.props={},e.props&&U1(e.props,this,this.props),this.key=e.key?e.key.key:q1("plugin")}getState(e){return e[this.key]}}const Fd=Object.create(null);function q1(n){return n in Fd?n+"$"+ ++Fd[n]:(Fd[n]=0,n+"$")}class qn{constructor(e="key"){this.key=q1(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const xt=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Pi=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let Sh=null;const ir=function(n,e,t){let r=Sh||(Sh=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},p2=function(){Sh=null},qs=function(n,e,t,r){return t&&(cb(n,e,t,r,-1)||cb(n,e,t,r,1))},m2=/^(img|br|input|textarea|hr)$/i;function cb(n,e,t,r,i){for(var a;;){if(n==t&&e==r)return!0;if(e==(i<0?0:mn(n))){let c=n.parentNode;if(!c||c.nodeType!=1||Aa(n)||m2.test(n.nodeName)||n.contentEditable=="false")return!1;e=xt(n)+(i<0?0:1),n=c}else if(n.nodeType==1){let c=n.childNodes[e+(i<0?-1:0)];if(c.nodeType==1&&c.contentEditable=="false")if(!((a=c.pmViewDesc)===null||a===void 0)&&a.ignoreForSelection)e+=i;else return!1;else n=c,e=i<0?mn(n):0}else return!1}}function mn(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function g2(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=mn(n)}else if(n.parentNode&&!Aa(n))e=xt(n),n=n.parentNode;else return null}}function y2(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Aa(n))e=xt(n)+1,n=n.parentNode;else return null}}function b2(n,e,t){for(let r=e==0,i=e==mn(n);r||i;){if(n==t)return!0;let a=xt(n);if(n=n.parentNode,!n)return!1;r=r&&a==0,i=i&&a==mn(n)}}function Aa(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Xc=function(n){return n.focusNode&&qs(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Es(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function x2(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function v2(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(mn(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(mn(r.startContainer),r.startOffset)}}}const zn=typeof navigator<"u"?navigator:null,ub=typeof document<"u"?document:null,ns=zn&&zn.userAgent||"",wh=/Edge\/(\d+)/.exec(ns),V1=/MSIE \d/.exec(ns),Nh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ns),It=!!(V1||Nh||wh),Xr=V1?document.documentMode:Nh?+Nh[1]:wh?+wh[1]:0,Nn=!It&&/gecko\/(\d+)/i.test(ns);Nn&&+(/Firefox\/(\d+)/.exec(ns)||[0,0])[1];const Ch=!It&&/Chrome\/(\d+)/.exec(ns),Mt=!!Ch,P1=Ch?+Ch[1]:0,Dt=!It&&!!zn&&/Apple Computer/.test(zn.vendor),Ii=Dt&&(/Mobile\/\w+/.test(ns)||!!zn&&zn.maxTouchPoints>2),pn=Ii||(zn?/Mac/.test(zn.platform):!1),S2=zn?/Win/.test(zn.platform):!1,lr=/Android \d/.test(ns),Da=!!ub&&"webkitFontSmoothing"in ub.documentElement.style,w2=Da?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function N2(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function sr(n,e){return typeof n=="number"?n:n[e]}function C2(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function fb(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,a=n.dom.ownerDocument;for(let c=t||n.dom;c;){if(c.nodeType!=1){c=Pi(c);continue}let f=c,d=f==a.body,h=d?N2(a):C2(f),m=0,b=0;if(e.top<h.top+sr(r,"top")?b=-(h.top-e.top+sr(i,"top")):e.bottom>h.bottom-sr(r,"bottom")&&(b=e.bottom-e.top>h.bottom-h.top?e.top+sr(i,"top")-h.top:e.bottom-h.bottom+sr(i,"bottom")),e.left<h.left+sr(r,"left")?m=-(h.left-e.left+sr(i,"left")):e.right>h.right-sr(r,"right")&&(m=e.right-h.right+sr(i,"right")),m||b)if(d)a.defaultView.scrollBy(m,b);else{let S=f.scrollLeft,v=f.scrollTop;b&&(f.scrollTop+=b),m&&(f.scrollLeft+=m);let N=f.scrollLeft-S,C=f.scrollTop-v;e={left:e.left-N,top:e.top-C,right:e.right-N,bottom:e.bottom-C}}let x=d?"fixed":getComputedStyle(c).position;if(/^(fixed|sticky)$/.test(x))break;c=x=="absolute"?c.offsetParent:Pi(c)}}function E2(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let a=(e.left+e.right)/2,c=t+1;c<Math.min(innerHeight,e.bottom);c+=5){let f=n.root.elementFromPoint(a,c);if(!f||f==n.dom||!n.dom.contains(f))continue;let d=f.getBoundingClientRect();if(d.top>=t-20){r=f,i=d.top;break}}return{refDOM:r,refTop:i,stack:I1(n.dom)}}function I1(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Pi(r));return e}function T2({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;$1(t,r==0?0:r-e)}function $1(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:a}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=a&&(r.scrollLeft=a)}}let Di=null;function M2(n){if(n.setActive)return n.setActive();if(Di)return n.focus(Di);let e=I1(n);n.focus(Di==null?{get preventScroll(){return Di={preventScroll:!0},!0}}:void 0),Di||(Di=!1,$1(e,0))}function F1(n,e){let t,r=2e8,i,a=0,c=e.top,f=e.top,d,h;for(let m=n.firstChild,b=0;m;m=m.nextSibling,b++){let x;if(m.nodeType==1)x=m.getClientRects();else if(m.nodeType==3)x=ir(m).getClientRects();else continue;for(let S=0;S<x.length;S++){let v=x[S];if(v.top<=c&&v.bottom>=f){c=Math.max(v.bottom,c),f=Math.min(v.top,f);let N=v.left>e.left?v.left-e.left:v.right<e.left?e.left-v.right:0;if(N<r){t=m,r=N,i=N&&t.nodeType==3?{left:v.right<e.left?v.right:v.left,top:e.top}:e,m.nodeType==1&&N&&(a=b+(e.left>=(v.left+v.right)/2?1:0));continue}}else v.top>e.top&&!d&&v.left<=e.left&&v.right>=e.left&&(d=m,h={left:Math.max(v.left,Math.min(v.right,e.left)),top:v.top});!t&&(e.left>=v.right&&e.top>=v.top||e.left>=v.left&&e.top>=v.bottom)&&(a=b+1)}}return!t&&d&&(t=d,i=h,r=0),t&&t.nodeType==3?k2(t,i):!t||r&&t.nodeType==1?{node:n,offset:a}:F1(t,i)}function k2(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let a=Vr(r,1);if(a.top!=a.bottom&&Wh(e,a))return{node:n,offset:i+(e.left>=(a.left+a.right)/2?1:0)}}return{node:n,offset:0}}function Wh(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function O2(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function A2(n,e,t){let{node:r,offset:i}=F1(e,t),a=-1;if(r.nodeType==1&&!r.firstChild){let c=r.getBoundingClientRect();a=c.left!=c.right&&t.left>(c.left+c.right)/2?1:-1}return n.docView.posFromDOM(r,i,a)}function D2(n,e,t,r){let i=-1;for(let a=e,c=!1;a!=n.dom;){let f=n.docView.nearestDesc(a,!0),d;if(!f)return null;if(f.dom.nodeType==1&&(f.node.isBlock&&f.parent||!f.contentDOM)&&((d=f.dom.getBoundingClientRect()).width||d.height)&&(f.node.isBlock&&f.parent&&(!c&&d.left>r.left||d.top>r.top?i=f.posBefore:(!c&&d.right<r.left||d.bottom<r.top)&&(i=f.posAfter),c=!0),!f.contentDOM&&i<0&&!f.node.isText))return(f.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?f.posBefore:f.posAfter;a=f.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function Y1(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),a=i;;){let c=n.childNodes[a];if(c.nodeType==1){let f=c.getClientRects();for(let d=0;d<f.length;d++){let h=f[d];if(Wh(e,h))return Y1(c,e,h)}}if((a=(a+1)%r)==i)break}return n}function j2(n,e){let t=n.dom.ownerDocument,r,i=0,a=v2(t,e.left,e.top);a&&({node:r,offset:i}=a);let c=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),f;if(!c||!n.dom.contains(c.nodeType!=1?c.parentNode:c)){let h=n.dom.getBoundingClientRect();if(!Wh(e,h)||(c=Y1(n.dom,e,h),!c))return null}if(Dt)for(let h=c;r&&h;h=Pi(h))h.draggable&&(r=void 0);if(c=O2(c,e),r){if(Nn&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let m=r.childNodes[i],b;m.nodeName=="IMG"&&(b=m.getBoundingClientRect()).right<=e.left&&b.bottom>e.top&&i++}let h;Da&&i&&r.nodeType==1&&(h=r.childNodes[i-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?f=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(f=D2(n,r,i,e))}f==null&&(f=A2(n,c,e));let d=n.docView.nearestDesc(c,!0);return{pos:f,inside:d?d.posAtStart-d.border:-1}}function db(n){return n.top<n.bottom||n.left<n.right}function Vr(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(db(r))return r}return Array.prototype.find.call(t,db)||n.getBoundingClientRect()}const R2=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function G1(n,e,t){let{node:r,offset:i,atom:a}=n.docView.domFromPos(e,t<0?-1:1),c=Da||Nn;if(r.nodeType==3)if(c&&(R2.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let d=Vr(ir(r,i,i),t);if(Nn&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let h=Vr(ir(r,i-1,i-1),-1);if(h.top==d.top){let m=Vr(ir(r,i,i+1),-1);if(m.top!=d.top)return na(m,m.left<h.left)}}return d}else{let d=i,h=i,m=t<0?1:-1;return t<0&&!i?(h++,m=-1):t>=0&&i==r.nodeValue.length?(d--,m=1):t<0?d--:h++,na(Vr(ir(r,d,h),m),m<0)}if(!n.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&i&&(t<0||i==mn(r))){let d=r.childNodes[i-1];if(d.nodeType==1)return Yd(d.getBoundingClientRect(),!1)}if(a==null&&i<mn(r)){let d=r.childNodes[i];if(d.nodeType==1)return Yd(d.getBoundingClientRect(),!0)}return Yd(r.getBoundingClientRect(),t>=0)}if(a==null&&i&&(t<0||i==mn(r))){let d=r.childNodes[i-1],h=d.nodeType==3?ir(d,mn(d)-(c?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return na(Vr(h,1),!1)}if(a==null&&i<mn(r)){let d=r.childNodes[i];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?ir(d,0,c?0:1):d.nodeType==1?d:null:null;if(h)return na(Vr(h,-1),!0)}return na(Vr(r.nodeType==3?ir(r):r,-t),t>=0)}function na(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Yd(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function K1(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function _2(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return K1(n,e,()=>{let{node:a}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let f=n.docView.nearestDesc(a,!0);if(!f)break;if(f.node.isBlock){a=f.contentDOM||f.dom;break}a=f.dom.parentNode}let c=G1(n,i.pos,1);for(let f=a.firstChild;f;f=f.nextSibling){let d;if(f.nodeType==1)d=f.getClientRects();else if(f.nodeType==3)d=ir(f,0,f.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let m=d[h];if(m.bottom>m.top+1&&(t=="up"?c.top-m.top>(m.bottom-c.top)*2:m.bottom-c.bottom>(c.bottom-m.top)*2))return!1}}return!0})}const B2=/[\u0590-\u08ac]/;function z2(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,a=!i,c=i==r.parent.content.size,f=n.domSelection();return f?!B2.test(r.parent.textContent)||!f.modify?t=="left"||t=="backward"?a:c:K1(n,e,()=>{let{focusNode:d,focusOffset:h,anchorNode:m,anchorOffset:b}=n.domSelectionRange(),x=f.caretBidiLevel;f.modify("move",t,"character");let S=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:v,focusOffset:N}=n.domSelectionRange(),C=v&&!S.contains(v.nodeType==1?v:v.parentNode)||d==v&&h==N;try{f.collapse(m,b),d&&(d!=m||h!=b)&&f.extend&&f.extend(d,h)}catch{}return x!=null&&(f.caretBidiLevel=x),C}):r.pos==r.start()||r.pos==r.end()}let hb=null,pb=null,mb=!1;function L2(n,e,t){return hb==e&&pb==t?mb:(hb=e,pb=t,mb=t=="up"||t=="down"?_2(n,e,t):z2(n,e,t))}const yn=0,gb=1,ks=2,Ln=3;class ja{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=yn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let a,c;if(e==this.contentDOM)a=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((c=a.pmViewDesc)&&c.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(c)+c.size:this.posAtStart}else{let a,c;if(e==this.contentDOM)a=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((c=a.pmViewDesc)&&c.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(c):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>xt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!1;break}if(a.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!0;break}if(a.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let a=this.getDesc(i),c;if(a&&(!t||a.node))if(r&&(c=a.nodeDOM)&&!(c.nodeType==1?c.contains(e.nodeType==1?e:e.parentNode):c==e))r=!1;else return a}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let a=this.getDesc(i);if(a)return a.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],a=r+i.size;if(r==e&&a!=r){for(;!i.border&&i.children.length;)for(let c=0;c<i.children.length;c++){let f=i.children[c];if(f.size){i=f;break}}return i}if(e<a)return i.descAt(e-r-i.border);r=a}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let a=0;r<this.children.length;r++){let c=this.children[r],f=a+c.size;if(f>e||c instanceof X1){i=e-a;break}a=f}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let a;r&&!(a=this.children[r-1]).size&&a instanceof J1&&a.side>=0;r--);if(t<=0){let a,c=!0;for(;a=r?this.children[r-1]:null,!(!a||a.dom.parentNode==this.contentDOM);r--,c=!1);return a&&t&&c&&!a.border&&!a.domAtom?a.domFromPos(a.size,t):{node:this.contentDOM,offset:a?xt(a.dom)+1:0}}else{let a,c=!0;for(;a=r<this.children.length?this.children[r]:null,!(!a||a.dom.parentNode==this.contentDOM);r++,c=!1);return a&&c&&!a.border&&!a.domAtom?a.domFromPos(0,t):{node:this.contentDOM,offset:a?xt(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,a=-1;for(let c=r,f=0;;f++){let d=this.children[f],h=c+d.size;if(i==-1&&e<=h){let m=c+d.border;if(e>=m&&t<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,t,m);e=c;for(let b=f;b>0;b--){let x=this.children[b-1];if(x.size&&x.dom.parentNode==this.contentDOM&&!x.emptyChildAt(1)){i=xt(x.dom)+1;break}e-=x.size}i==-1&&(i=0)}if(i>-1&&(h>t||f==this.children.length-1)){t=h;for(let m=f+1;m<this.children.length;m++){let b=this.children[m];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(-1)){a=xt(b.dom);break}t+=b.size}a==-1&&(a=this.contentDOM.childNodes.length);break}c=h}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let a=Math.min(e,t),c=Math.max(e,t);for(let S=0,v=0;S<this.children.length;S++){let N=this.children[S],C=v+N.size;if(a>v&&c<C)return N.setSelection(e-v-N.border,t-v-N.border,r,i);v=C}let f=this.domFromPos(e,e?-1:1),d=t==e?f:this.domFromPos(t,t?-1:1),h=r.root.getSelection(),m=r.domSelectionRange(),b=!1;if((Nn||Dt)&&e==t){let{node:S,offset:v}=f;if(S.nodeType==3){if(b=!!(v&&S.nodeValue[v-1]==`
`),b&&v==S.nodeValue.length)for(let N=S,C;N;N=N.parentNode){if(C=N.nextSibling){C.nodeName=="BR"&&(f=d={node:C.parentNode,offset:xt(C)+1});break}let T=N.pmViewDesc;if(T&&T.node&&T.node.isBlock)break}}else{let N=S.childNodes[v-1];b=N&&(N.nodeName=="BR"||N.contentEditable=="false")}}if(Nn&&m.focusNode&&m.focusNode!=d.node&&m.focusNode.nodeType==1){let S=m.focusNode.childNodes[m.focusOffset];S&&S.contentEditable=="false"&&(i=!0)}if(!(i||b&&Dt)&&qs(f.node,f.offset,m.anchorNode,m.anchorOffset)&&qs(d.node,d.offset,m.focusNode,m.focusOffset))return;let x=!1;if((h.extend||e==t)&&!b){h.collapse(f.node,f.offset);try{e!=t&&h.extend(d.node,d.offset),x=!0}catch{}}if(!x){if(e>t){let v=f;f=d,d=v}let S=document.createRange();S.setEnd(d.node,d.offset),S.setStart(f.node,f.offset),h.removeAllRanges(),h.addRange(S)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let a=this.children[i],c=r+a.size;if(r==c?e<=c&&t>=r:e<c&&t>r){let f=r+a.border,d=c-a.border;if(e>=f&&t<=d){this.dirty=e==r||t==c?ks:gb,e==f&&t==d&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=Ln:a.markDirty(e-f,t-f);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?ks:Ln}r=c}this.dirty=ks}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?ks:gb;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class J1 extends ja{constructor(e,t,r,i){let a,c=t.type.toDOM;if(typeof c=="function"&&(c=c(r,()=>{if(!a)return i;if(a.parent)return a.parent.posBeforeChild(a)})),!t.type.spec.raw){if(c.nodeType!=1){let f=document.createElement("span");f.appendChild(c),c=f}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(e,[],c,null),this.widget=t,this.widget=t,a=this}matchesWidget(e){return this.dirty==yn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class H2 extends ja{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Vs extends ja{constructor(e,t,r,i,a){super(e,[],r,i),this.mark=t,this.spec=a}static create(e,t,r,i){let a=i.nodeViews[t.type.name],c=a&&a(t,i,r);return(!c||!c.dom)&&(c=Fs.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new Vs(e,t,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&Ln||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ln&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=yn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=yn}}slice(e,t,r){let i=Vs.create(this.parent,this.mark,!0,r),a=this.children,c=this.size;t<c&&(a=Th(a,t,c,r)),e>0&&(a=Th(a,0,e,r));for(let f=0;f<a.length;f++)a[f].parent=i;return i.children=a,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Wr extends ja{constructor(e,t,r,i,a,c,f,d,h){super(e,[],a,c),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=f}static create(e,t,r,i,a,c){let f=a.nodeViews[t.type.name],d,h=f&&f(t,a,()=>{if(!d)return c;if(d.parent)return d.parent.posBeforeChild(d)},r,i),m=h&&h.dom,b=h&&h.contentDOM;if(t.isText){if(!m)m=document.createTextNode(t.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:b}=Fs.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!b&&!t.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),t.type.spec.draggable&&(m.draggable=!0));let x=m;return m=Z1(m,r,t),h?d=new U2(e,t,r,i,m,b||null,x,h,a,c+1):t.isText?new Wc(e,t,r,i,m,x,a):new Wr(e,t,r,i,m,b||null,x,a,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>G.empty)}return e}matchesNode(e,t,r){return this.dirty==yn&&e.eq(this.node)&&Mc(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,a=e.composing?this.localCompositionInfo(e,t):null,c=a&&a.pos>-1?a:null,f=a&&a.pos<0,d=new V2(this,c&&c.node,e);$2(this.node,this.innerDeco,(h,m,b)=>{h.spec.marks?d.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!b&&d.syncToMarks(m==this.node.childCount?ze.none:this.node.child(m).marks,r,e),d.placeWidget(h,e,i)},(h,m,b,x)=>{d.syncToMarks(h.marks,r,e);let S;d.findNodeMatch(h,m,b,x)||f&&e.state.selection.from>i&&e.state.selection.to<i+h.nodeSize&&(S=d.findIndexWithChild(a.node))>-1&&d.updateNodeAt(h,m,b,S,e)||d.updateNextNode(h,m,b,e,x,i)||d.addNode(h,m,b,e,i),i+=h.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==ks)&&(c&&this.protectLocalComposition(e,c),W1(this.contentDOM,this.children,e),Ii&&F2(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof he)||r<t||i>t+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let c=a.nodeValue,f=Y2(this.node.content,c,r-t,i-t);return f<0?null:{node:a,pos:f,text:c}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let a=t;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let c=new H2(this,a,t,i);e.input.compositionNodes.push(c),this.children=Th(this.children,r,r+i.length,e,c)}update(e,t,r,i){return this.dirty==Ln||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=yn}updateOuterDeco(e){if(Mc(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Q1(this.dom,this.nodeDOM,Eh(this.outerDeco,this.node,t),Eh(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function yb(n,e,t,r,i){Z1(r,e,n);let a=new Wr(void 0,n,e,t,r,r,r,i,0);return a.contentDOM&&a.updateChildren(i,0),a}class Wc extends Wr{constructor(e,t,r,i,a,c,f){super(e,t,r,i,a,null,c,f,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==Ln||this.dirty!=yn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=yn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=yn,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),a=document.createTextNode(i.text);return new Wc(this.parent,i,this.outerDeco,this.innerDeco,a,a,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Ln)}get domAtom(){return!1}isText(e){return this.node.text==e}}class X1 extends ja{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==yn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class U2 extends Wr{constructor(e,t,r,i,a,c,f,d,h,m){super(e,t,r,i,a,c,f,h,m),this.spec=d}update(e,t,r,i){if(this.dirty==Ln)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,t,r);return a&&this.updateInner(e,t,r,i),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function W1(n,e,t){let r=n.firstChild,i=!1;for(let a=0;a<e.length;a++){let c=e[a],f=c.dom;if(f.parentNode==n){for(;f!=r;)r=bb(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(f,r);if(c instanceof Vs){let d=r?r.previousSibling:n.lastChild;W1(c.contentDOM,c.children,t),r=d?d.nextSibling:n.firstChild}}for(;r;)r=bb(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const ua=function(n){n&&(this.nodeName=n)};ua.prototype=Object.create(null);const Os=[new ua];function Eh(n,e,t){if(n.length==0)return Os;let r=t?Os[0]:new ua,i=[r];for(let a=0;a<n.length;a++){let c=n[a].type.attrs;if(c){c.nodeName&&i.push(r=new ua(c.nodeName));for(let f in c){let d=c[f];d!=null&&(t&&i.length==1&&i.push(r=new ua(e.isInline?"span":"div")),f=="class"?r.class=(r.class?r.class+" ":"")+d:f=="style"?r.style=(r.style?r.style+";":"")+d:f!="nodeName"&&(r[f]=d))}}}return i}function Q1(n,e,t,r){if(t==Os&&r==Os)return e;let i=e;for(let a=0;a<r.length;a++){let c=r[a],f=t[a];if(a){let d;f&&f.nodeName==c.nodeName&&i!=n&&(d=i.parentNode)&&d.nodeName.toLowerCase()==c.nodeName||(d=document.createElement(c.nodeName),d.pmIsDeco=!0,d.appendChild(i),f=Os[0]),i=d}q2(i,f||Os[0],c)}return i}function q2(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let a=0;a<r.length;a++)i.indexOf(r[a])==-1&&n.classList.remove(r[a]);for(let a=0;a<i.length;a++)r.indexOf(i[a])==-1&&n.classList.add(i[a]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function Z1(n,e,t){return Q1(n,n,Os,Eh(e,t,n.nodeType!=1))}function Mc(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function bb(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class V2{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=P2(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,a=this.stack.length>>1,c=Math.min(a,e.length);for(;i<c&&(i==a-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<a;)this.destroyRest(),this.top.dirty=yn,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let f=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let h=this.top.children[d];if(h.matchesMark(e[a])&&!this.isLocked(h.dom)){f=d;break}}if(f>-1)f>this.index&&(this.changed=!0,this.destroyBetween(this.index,f)),this.top=this.top.children[this.index];else{let d=Vs.create(this.top,e[a],t,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,a++}}findNodeMatch(e,t,r,i){let a=-1,c;if(i>=this.preMatch.index&&(c=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&c.matchesNode(e,t,r))a=this.top.children.indexOf(c,this.index);else for(let f=this.index,d=Math.min(this.top.children.length,f+5);f<d;f++){let h=this.top.children[f];if(h.matchesNode(e,t,r)&&!this.preMatch.matched.has(h)){a=f;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,t,r,i,a){let c=this.top.children[i];return c.dirty==Ln&&c.dom==c.contentDOM&&(c.dirty=ks),c.update(e,t,r,a)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,a,c){for(let f=this.index;f<this.top.children.length;f++){let d=this.top.children[f];if(d instanceof Wr){let h=this.preMatch.matched.get(d);if(h!=null&&h!=a)return!1;let m=d.dom,b,x=this.isLocked(m)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=Ln&&Mc(t,d.outerDeco));if(!x&&d.update(e,t,r,i))return this.destroyBetween(this.index,f),d.dom!=m&&(this.changed=!0),this.index++,!0;if(!x&&(b=this.recreateWrapper(d,e,t,r,i,c)))return this.destroyBetween(this.index,f),this.top.children[this.index]=b,b.contentDOM&&(b.dirty=ks,b.updateChildren(i,c+1),b.dirty=yn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,a,c){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Mc(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let f=Wr.create(this.top,t,r,i,a,c);if(f.contentDOM){f.children=e.children,e.children=[];for(let d of f.children)d.parent=f}return e.destroy(),f}addNode(e,t,r,i,a){let c=Wr.create(this.top,e,t,r,i,a);c.contentDOM&&c.updateChildren(i,a+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let a=new J1(this.top,e,t,r);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Vs;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Wc)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Dt||Mt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new X1(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function P2(n,e){let t=e,r=t.children.length,i=n.childCount,a=new Map,c=[];e:for(;i>0;){let f;for(;;)if(r){let h=t.children[r-1];if(h instanceof Vs)t=h,r=h.children.length;else{f=h,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let d=f.node;if(d){if(d!=n.child(i-1))break;--i,a.set(f,i),c.push(f)}}return{index:i,matched:a,matches:c.reverse()}}function I2(n,e){return n.type.side-e.type.side}function $2(n,e,t,r){let i=e.locals(n),a=0;if(i.length==0){for(let h=0;h<n.childCount;h++){let m=n.child(h);r(m,i,e.forChild(a,m),h),a+=m.nodeSize}return}let c=0,f=[],d=null;for(let h=0;;){let m,b;for(;c<i.length&&i[c].to==a;){let C=i[c++];C.widget&&(m?(b||(b=[m])).push(C):m=C)}if(m)if(b){b.sort(I2);for(let C=0;C<b.length;C++)t(b[C],h,!!d)}else t(m,h,!!d);let x,S;if(d)S=-1,x=d,d=null;else if(h<n.childCount)S=h,x=n.child(h++);else break;for(let C=0;C<f.length;C++)f[C].to<=a&&f.splice(C--,1);for(;c<i.length&&i[c].from<=a&&i[c].to>a;)f.push(i[c++]);let v=a+x.nodeSize;if(x.isText){let C=v;c<i.length&&i[c].from<C&&(C=i[c].from);for(let T=0;T<f.length;T++)f[T].to<C&&(C=f[T].to);C<v&&(d=x.cut(C-a),x=x.cut(0,C-a),v=C,S=-1)}else for(;c<i.length&&i[c].to<v;)c++;let N=x.isInline&&!x.isLeaf?f.filter(C=>!C.inline):f.slice();r(x,N,e.forChild(a,x),S),a=v}}function F2(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function Y2(n,e,t,r){for(let i=0,a=0;i<n.childCount&&a<=r;){let c=n.child(i++),f=a;if(a+=c.nodeSize,!c.isText)continue;let d=c.text;for(;i<n.childCount;){let h=n.child(i++);if(a+=h.nodeSize,!h.isText)break;d+=h.text}if(a>=t){if(a>=r&&d.slice(r-e.length-f,r-f)==e)return r-e.length;let h=f<r?d.lastIndexOf(e,r-f-1):-1;if(h>=0&&h+e.length+f>=t)return f+h;if(t==r&&d.length>=r+e.length-f&&d.slice(r-f,r-f+e.length)==e)return r}}return-1}function Th(n,e,t,r,i){let a=[];for(let c=0,f=0;c<n.length;c++){let d=n[c],h=f,m=f+=d.size;h>=t||m<=e?a.push(d):(h<e&&a.push(d.slice(0,e-h,r)),i&&(a.push(i),i=void 0),m>t&&a.push(d.slice(t-h,d.size,r)))}return a}function Qh(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),a=i&&i.size==0,c=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(c<0)return null;let f=r.resolve(c),d,h;if(Xc(t)){for(d=c;i&&!i.node;)i=i.parent;let b=i.node;if(i&&b.isAtom&&ie.isSelectable(b)&&i.parent&&!(b.isInline&&b2(t.focusNode,t.focusOffset,i.dom))){let x=i.posBefore;h=new ie(c==x?f:r.resolve(x))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let b=c,x=c;for(let S=0;S<t.rangeCount;S++){let v=t.getRangeAt(S);b=Math.min(b,n.docView.posFromDOM(v.startContainer,v.startOffset,1)),x=Math.max(x,n.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(b<0)return null;[d,c]=x==n.state.selection.anchor?[x,b]:[b,x],f=r.resolve(c)}else d=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(d<0)return null}let m=r.resolve(d);if(!h){let b=e=="pointer"||n.state.selection.head<f.pos&&!a?1:-1;h=Zh(n,m,f,b)}return h}function ev(n){return n.editable?n.hasFocus():nv(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function cr(n,e=!1){let t=n.state.selection;if(tv(n,t),!!ev(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Mt){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&qs(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)K2(n);else{let{anchor:r,head:i}=t,a,c;xb&&!(t instanceof he)&&(t.$from.parent.inlineContent||(a=vb(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(c=vb(n,t.to))),n.docView.setSelection(r,i,n,e),xb&&(a&&Sb(a),c&&Sb(c)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&G2(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const xb=Dt||Mt&&P1<63;function vb(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,a=r?t.childNodes[r-1]:null;if(Dt&&i&&i.contentEditable=="false")return Gd(i);if((!i||i.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(i)return Gd(i);if(a)return Gd(a)}}function Gd(n){return n.contentEditable="true",Dt&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function Sb(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function G2(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!ev(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function K2(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,i=r.nodeName=="IMG";i?t.setStart(r.parentNode,xt(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&It&&Xr<=11&&(r.disabled=!0,r.disabled=!1)}function tv(n,e){if(e instanceof ie){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(wb(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else wb(n)}function wb(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Zh(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||he.between(e,t,r)}function Nb(n){return n.editable&&!n.hasFocus()?!1:nv(n)}function nv(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function J2(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return qs(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Mh(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),a=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return a&&ye.findFrom(a,e)}function Pr(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function Cb(n,e,t){let r=n.state.selection;if(r instanceof he)if(t.indexOf("s")>-1){let{$head:i}=r,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let c=n.state.doc.resolve(i.pos+a.nodeSize*(e<0?-1:1));return Pr(n,new he(r.$anchor,c))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=Mh(n.state,e);return i&&i instanceof ie?Pr(n,i):!1}else if(!(pn&&t.indexOf("m")>-1)){let i=r.$head,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,c;if(!a||a.isText)return!1;let f=e<0?i.pos-a.nodeSize:i.pos;return a.isAtom||(c=n.docView.descAt(f))&&!c.contentDOM?ie.isSelectable(a)?Pr(n,new ie(e<0?n.state.doc.resolve(i.pos-a.nodeSize):i)):Da?Pr(n,new he(n.state.doc.resolve(e<0?f:f+a.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ie&&r.node.isInline)return Pr(n,new he(e>0?r.$to:r.$from));{let i=Mh(n.state,e);return i?Pr(n,i):!1}}}function kc(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function fa(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function ji(n,e){return e<0?X2(n):W2(n)}function X2(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,a,c=!1;for(Nn&&t.nodeType==1&&r<kc(t)&&fa(t.childNodes[r],-1)&&(c=!0);;)if(r>0){if(t.nodeType!=1)break;{let f=t.childNodes[r-1];if(fa(f,-1))i=t,a=--r;else if(f.nodeType==3)t=f,r=t.nodeValue.length;else break}}else{if(rv(t))break;{let f=t.previousSibling;for(;f&&fa(f,-1);)i=t.parentNode,a=xt(f),f=f.previousSibling;if(f)t=f,r=kc(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}c?kh(n,t,r):i&&kh(n,i,a)}function W2(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=kc(t),a,c;for(;;)if(r<i){if(t.nodeType!=1)break;let f=t.childNodes[r];if(fa(f,1))a=t,c=++r;else break}else{if(rv(t))break;{let f=t.nextSibling;for(;f&&fa(f,1);)a=f.parentNode,c=xt(f)+1,f=f.nextSibling;if(f)t=f,r=0,i=kc(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}a&&kh(n,a,c)}function rv(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function Q2(n,e){for(;n&&e==n.childNodes.length&&!Aa(n);)e=xt(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function Z2(n,e){for(;n&&!e&&!Aa(n);)e=xt(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function kh(n,e,t){if(e.nodeType!=3){let a,c;(c=Q2(e,t))?(e=c,t=0):(a=Z2(e,t))&&(e=a,t=a.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Xc(r)){let a=document.createRange();a.setEnd(e,t),a.setStart(e,t),r.removeAllRanges(),r.addRange(a)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&cr(n)},50)}function Eb(n,e){let t=n.state.doc.resolve(e);if(!(Mt||S2)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let a=n.coordsAtPos(e-1),c=(a.top+a.bottom)/2;if(c>i.top&&c<i.bottom&&Math.abs(a.left-i.left)>1)return a.left<i.left?"ltr":"rtl"}if(e<t.end()){let a=n.coordsAtPos(e+1),c=(a.top+a.bottom)/2;if(c>i.top&&c<i.bottom&&Math.abs(a.left-i.left)>1)return a.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function Tb(n,e,t){let r=n.state.selection;if(r instanceof he&&!r.empty||t.indexOf("s")>-1||pn&&t.indexOf("m")>-1)return!1;let{$from:i,$to:a}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let c=Mh(n.state,e);if(c&&c instanceof ie)return Pr(n,c)}if(!i.parent.inlineContent){let c=e<0?i:a,f=r instanceof nn?ye.near(c,e):ye.findFrom(c,e);return f?Pr(n,f):!1}return!1}function Mb(n,e){if(!(n.state.selection instanceof he))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(a&&!a.isText){let c=n.state.tr;return e<0?c.delete(t.pos-a.nodeSize,t.pos):c.delete(t.pos,t.pos+a.nodeSize),n.dispatch(c),!0}return!1}function kb(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function eA(n){if(!Dt||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;kb(n,r,"true"),setTimeout(()=>kb(n,r,"false"),20)}return!1}function tA(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function nA(n,e){let t=e.keyCode,r=tA(e);if(t==8||pn&&t==72&&r=="c")return Mb(n,-1)||ji(n,-1);if(t==46&&!e.shiftKey||pn&&t==68&&r=="c")return Mb(n,1)||ji(n,1);if(t==13||t==27)return!0;if(t==37||pn&&t==66&&r=="c"){let i=t==37?Eb(n,n.state.selection.from)=="ltr"?-1:1:-1;return Cb(n,i,r)||ji(n,i)}else if(t==39||pn&&t==70&&r=="c"){let i=t==39?Eb(n,n.state.selection.from)=="ltr"?1:-1:1;return Cb(n,i,r)||ji(n,i)}else{if(t==38||pn&&t==80&&r=="c")return Tb(n,-1,r)||ji(n,-1);if(t==40||pn&&t==78&&r=="c")return eA(n)||Tb(n,1,r)||ji(n,1);if(r==(pn?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function ep(n,e){n.someProp("transformCopied",S=>{e=S(e,n)});let t=[],{content:r,openStart:i,openEnd:a}=e;for(;i>1&&a>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,a--;let S=r.firstChild;t.push(S.type.name,S.attrs!=S.type.defaultAttrs?S.attrs:null),r=S.content}let c=n.someProp("clipboardSerializer")||Fs.fromSchema(n.state.schema),f=cv(),d=f.createElement("div");d.appendChild(c.serializeFragment(r,{document:f}));let h=d.firstChild,m,b=0;for(;h&&h.nodeType==1&&(m=ov[h.nodeName.toLowerCase()]);){for(let S=m.length-1;S>=0;S--){let v=f.createElement(m[S]);for(;d.firstChild;)v.appendChild(d.firstChild);d.appendChild(v),b++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${i} ${a}${b?` -${b}`:""} ${JSON.stringify(t)}`);let x=n.someProp("clipboardTextSerializer",S=>S(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:x,slice:e}}function sv(n,e,t,r,i){let a=i.parent.type.spec.code,c,f;if(!t&&!e)return null;let d=e&&(r||a||!t);if(d){if(n.someProp("transformPastedText",x=>{e=x(e,a||r,n)}),a)return e?new Q(G.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Q.empty;let b=n.someProp("clipboardTextParser",x=>x(e,i,r,n));if(b)f=b;else{let x=i.marks(),{schema:S}=n.state,v=Fs.fromSchema(S);c=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(N=>{let C=c.appendChild(document.createElement("p"));N&&C.appendChild(v.serializeNode(S.text(N,x)))})}}else n.someProp("transformPastedHTML",b=>{t=b(t,n)}),c=lA(t),Da&&aA(c);let h=c&&c.querySelector("[data-pm-slice]"),m=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let b=+m[3];b>0;b--){let x=c.firstChild;for(;x&&x.nodeType!=1;)x=x.nextSibling;if(!x)break;c=x}if(f||(f=(n.someProp("clipboardParser")||n.someProp("domParser")||Jr.fromSchema(n.state.schema)).parseSlice(c,{preserveWhitespace:!!(d||m),context:i,ruleFromNode(x){return x.nodeName=="BR"&&!x.nextSibling&&x.parentNode&&!rA.test(x.parentNode.nodeName)?{ignore:!0}:null}})),m)f=oA(Ob(f,+m[1],+m[2]),m[4]);else if(f=Q.maxOpen(sA(f.content,i),!0),f.openStart||f.openEnd){let b=0,x=0;for(let S=f.content.firstChild;b<f.openStart&&!S.type.spec.isolating;b++,S=S.firstChild);for(let S=f.content.lastChild;x<f.openEnd&&!S.type.spec.isolating;x++,S=S.lastChild);f=Ob(f,b,x)}return n.someProp("transformPasted",b=>{f=b(f,n)}),f}const rA=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function sA(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),a,c=[];if(n.forEach(f=>{if(!c)return;let d=i.findWrapping(f.type),h;if(!d)return c=null;if(h=c.length&&a.length&&lv(d,a,f,c[c.length-1],0))c[c.length-1]=h;else{c.length&&(c[c.length-1]=av(c[c.length-1],a.length));let m=iv(f,d);c.push(m),i=i.matchType(m.type),a=d}}),c)return G.from(c)}return n}function iv(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,G.from(n));return n}function lv(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let a=lv(n,e,t,r.lastChild,i+1);if(a)return r.copy(r.content.replaceChild(r.childCount-1,a));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(G.from(iv(t,n,i+1))))}}function av(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,av(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(G.empty,!0);return n.copy(t.append(r))}function Oh(n,e,t,r,i,a){let c=e<0?n.firstChild:n.lastChild,f=c.content;return n.childCount>1&&(a=0),i<r-1&&(f=Oh(f,e,t,r,i+1,a)),i>=t&&(f=e<0?c.contentMatchAt(0).fillBefore(f,a<=i).append(f):f.append(c.contentMatchAt(c.childCount).fillBefore(G.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,c.copy(f))}function Ob(n,e,t){return e<n.openStart&&(n=new Q(Oh(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new Q(Oh(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const ov={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Ab=null;function cv(){return Ab||(Ab=document.implementation.createHTMLDocument("title"))}let Kd=null;function iA(n){let e=window.trustedTypes;return e?(Kd||(Kd=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Kd.createHTML(n)):n}function lA(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=cv().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&ov[r[1].toLowerCase()])&&(n=i.map(a=>"<"+a+">").join("")+n+i.map(a=>"</"+a+">").reverse().join("")),t.innerHTML=iA(n),i)for(let a=0;a<i.length;a++)t=t.querySelector(i[a])||t;return t}function aA(n){let e=n.querySelectorAll(Mt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function oA(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:a,openEnd:c}=n;for(let f=r.length-2;f>=0;f-=2){let d=t.nodes[r[f]];if(!d||d.hasRequiredAttrs())break;i=G.from(d.create(r[f+1],i)),a++,c++}return new Q(i,a,c)}const jt={},Rt={},cA={touchstart:!0,touchmove:!0};class uA{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function fA(n){for(let e in jt){let t=jt[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{hA(n,r)&&!tp(n,r)&&(n.editable||!(r.type in Rt))&&t(n,r)},cA[e]?{passive:!0}:void 0)}Dt&&n.dom.addEventListener("input",()=>null),Ah(n)}function Gr(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function dA(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Ah(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>tp(n,r))})}function tp(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function hA(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function pA(n,e){!tp(n,e)&&jt[e.type]&&(n.editable||!(e.type in Rt))&&jt[e.type](n,e)}Rt.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!fv(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(lr&&Mt&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Ii&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,Es(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||nA(n,t)?t.preventDefault():Gr(n,"key")};Rt.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Rt.keypress=(n,e)=>{let t=e;if(fv(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||pn&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof he)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode),a=()=>n.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",c=>c(n,r.$from.pos,r.$to.pos,i,a))&&n.dispatch(a()),t.preventDefault()}};function Qc(n){return{left:n.clientX,top:n.clientY}}function mA(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function np(n,e,t,r,i){if(r==-1)return!1;let a=n.state.doc.resolve(r);for(let c=a.depth+1;c>0;c--)if(n.someProp(e,f=>c>a.depth?f(n,t,a.nodeAfter,a.before(c),i,!0):f(n,t,a.node(c),a.before(c),i,!1)))return!0;return!1}function qi(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function gA(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&ie.isSelectable(r)?(qi(n,new ie(t)),!0):!1}function yA(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof ie&&(r=t.node);let a=n.state.doc.resolve(e);for(let c=a.depth+1;c>0;c--){let f=c>a.depth?a.nodeAfter:a.node(c);if(ie.isSelectable(f)){r&&t.$from.depth>0&&c>=t.$from.depth&&a.before(t.$from.depth+1)==t.$from.pos?i=a.before(t.$from.depth):i=a.before(c);break}}return i!=null?(qi(n,ie.create(n.state.doc,i)),!0):!1}function bA(n,e,t,r,i){return np(n,"handleClickOn",e,t,r)||n.someProp("handleClick",a=>a(n,e,r))||(i?yA(n,t):gA(n,t))}function xA(n,e,t,r){return np(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function vA(n,e,t,r){return np(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||SA(n,t,r)}function SA(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(qi(n,he.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let a=i.depth+1;a>0;a--){let c=a>i.depth?i.nodeAfter:i.node(a),f=i.before(a);if(c.inlineContent)qi(n,he.create(r,f+1,f+1+c.content.size));else if(ie.isSelectable(c))qi(n,ie.create(r,f));else continue;return!0}}function rp(n){return Oc(n)}const uv=pn?"metaKey":"ctrlKey";jt.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=rp(n),i=Date.now(),a="singleClick";i-n.input.lastClick.time<500&&mA(t,n.input.lastClick)&&!t[uv]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?a="doubleClick":n.input.lastClick.type=="doubleClick"&&(a="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:a,button:t.button};let c=n.posAtCoords(Qc(t));c&&(a=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new wA(n,c,t,!!r)):(a=="doubleClick"?xA:vA)(n,c.pos,c.inside,t)?t.preventDefault():Gr(n,"pointer"))};class wA{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[uv],this.allowDefault=r.shiftKey;let a,c;if(t.inside>-1)a=e.state.doc.nodeAt(t.inside),c=t.inside;else{let m=e.state.doc.resolve(t.pos);a=m.parent,c=m.depth?m.before():0}const f=i?null:r.target,d=f?e.docView.nearestDesc(f,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:h}=e.state;(r.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||h instanceof ie&&h.from<=c&&h.to>c)&&(this.mightDrag={node:a,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Nn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Gr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>cr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Qc(e))),this.updateAllowDefault(e),this.allowDefault||!t?Gr(this.view,"pointer"):bA(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Dt&&this.mightDrag&&!this.mightDrag.node.isAtom||Mt&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(qi(this.view,ye.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Gr(this.view,"pointer")}move(e){this.updateAllowDefault(e),Gr(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}jt.touchstart=n=>{n.input.lastTouch=Date.now(),rp(n),Gr(n,"pointer")};jt.touchmove=n=>{n.input.lastTouch=Date.now(),Gr(n,"pointer")};jt.contextmenu=n=>rp(n);function fv(n,e){return n.composing?!0:Dt&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const NA=lr?5e3:-1;Rt.compositionstart=Rt.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof he&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),Oc(n,!0),n.markCursor=null;else if(Oc(n,!e.selection.empty),Nn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,a=r.focusOffset;i&&i.nodeType==1&&a!=0;){let c=a<0?i.lastChild:i.childNodes[a-1];if(!c)break;if(c.nodeType==3){let f=n.domSelection();f&&f.collapse(c,c.nodeValue.length);break}else i=c,a=-1}}n.input.composing=!0}dv(n,NA)};Rt.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,dv(n,20))};function dv(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Oc(n),e))}function hv(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=EA());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function CA(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=g2(e.focusNode,e.focusOffset),r=y2(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,a=n.domObserver.lastChangedTextNode;if(t==a||r==a)return a;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let c=t.pmViewDesc;if(!(!c||!c.isText(t.nodeValue)))return r}}return t||r}function EA(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Oc(n,e=!1){if(!(lr&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),hv(n),e||n.docView&&n.docView.dirty){let t=Qh(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function TA(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const xa=It&&Xr<15||Ii&&w2<604;jt.copy=Rt.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let a=xa?null:t.clipboardData,c=r.content(),{dom:f,text:d}=ep(n,c);a?(t.preventDefault(),a.clearData(),a.setData("text/html",f.innerHTML),a.setData("text/plain",d)):TA(n,f),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function MA(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function kA(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?va(n,r.value,null,i,e):va(n,r.textContent,r.innerHTML,i,e)},50)}function va(n,e,t,r,i){let a=sv(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",d=>d(n,i,a||Q.empty)))return!0;if(!a)return!1;let c=MA(a),f=c?n.state.tr.replaceSelectionWith(c,r):n.state.tr.replaceSelection(a);return n.dispatch(f.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function pv(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Rt.paste=(n,e)=>{let t=e;if(n.composing&&!lr)return;let r=xa?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&va(n,pv(r),r.getData("text/html"),i,t)?t.preventDefault():kA(n,t)};class mv{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const OA=pn?"altKey":"ctrlKey";function gv(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[OA]}jt.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,a=i.empty?null:n.posAtCoords(Qc(t)),c;if(!(a&&a.pos>=i.from&&a.pos<=(i instanceof ie?i.to-1:i.to))){if(r&&r.mightDrag)c=ie.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let b=n.docView.nearestDesc(t.target,!0);b&&b.node.type.spec.draggable&&b!=n.docView&&(c=ie.create(n.state.doc,b.posBefore))}}let f=(c||n.state.selection).content(),{dom:d,text:h,slice:m}=ep(n,f);(!t.dataTransfer.files.length||!Mt||P1>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(xa?"Text":"text/html",d.innerHTML),t.dataTransfer.effectAllowed="copyMove",xa||t.dataTransfer.setData("text/plain",h),n.dragging=new mv(m,gv(n,t),c)};jt.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Rt.dragover=Rt.dragenter=(n,e)=>e.preventDefault();Rt.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(Qc(t));if(!i)return;let a=n.state.doc.resolve(i.pos),c=r&&r.slice;c?n.someProp("transformPasted",v=>{c=v(c,n)}):c=sv(n,pv(t.dataTransfer),xa?null:t.dataTransfer.getData("text/html"),!1,a);let f=!!(r&&gv(n,t));if(n.someProp("handleDrop",v=>v(n,t,c||Q.empty,f))){t.preventDefault();return}if(!c)return;t.preventDefault();let d=c?_1(n.state.doc,a.pos,c):a.pos;d==null&&(d=a.pos);let h=n.state.tr;if(f){let{node:v}=r;v?v.replace(h):h.deleteSelection()}let m=h.mapping.map(d),b=c.openStart==0&&c.openEnd==0&&c.content.childCount==1,x=h.doc;if(b?h.replaceRangeWith(m,m,c.content.firstChild):h.replaceRange(m,m,c),h.doc.eq(x))return;let S=h.doc.resolve(m);if(b&&ie.isSelectable(c.content.firstChild)&&S.nodeAfter&&S.nodeAfter.sameMarkup(c.content.firstChild))h.setSelection(new ie(S));else{let v=h.mapping.map(d);h.mapping.maps[h.mapping.maps.length-1].forEach((N,C,T,_)=>v=_),h.setSelection(Zh(n,S,h.doc.resolve(v)))}n.focus(),n.dispatch(h.setMeta("uiEvent","drop"))};jt.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&cr(n)},20))};jt.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};jt.beforeinput=(n,e)=>{if(Mt&&lr&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",a=>a(n,Es(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in Rt)jt[n]=Rt[n];function Sa(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Ac{constructor(e,t){this.toDOM=e,this.spec=t||_s,this.side=this.spec.side||0}map(e,t,r,i){let{pos:a,deleted:c}=e.mapResult(t.from+i,this.side<0?-1:1);return c?null:new gn(a-r,a-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Ac&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Sa(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Qr{constructor(e,t){this.attrs=e,this.spec=t||_s}map(e,t,r,i){let a=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,c=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return a>=c?null:new gn(a,c,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Qr&&Sa(this.attrs,e.attrs)&&Sa(this.spec,e.spec)}static is(e){return e.type instanceof Qr}destroy(){}}class sp{constructor(e,t){this.attrs=e,this.spec=t||_s}map(e,t,r,i){let a=e.mapResult(t.from+i,1);if(a.deleted)return null;let c=e.mapResult(t.to+i,-1);return c.deleted||c.pos<=a.pos?null:new gn(a.pos-r,c.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),a;return i==t.from&&!(a=e.child(r)).isText&&i+a.nodeSize==t.to}eq(e){return this==e||e instanceof sp&&Sa(this.attrs,e.attrs)&&Sa(this.spec,e.spec)}destroy(){}}class gn{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new gn(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new gn(e,e,new Ac(t,r))}static inline(e,t,r,i){return new gn(e,t,new Qr(r,i))}static node(e,t,r,i){return new gn(e,t,new sp(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Qr}get widget(){return this.type instanceof Ac}}const Bi=[],_s={};class nt{constructor(e,t){this.local=e.length?e:Bi,this.children=t.length?t:Bi}static create(e,t){return t.length?Dc(t,e,0,_s):Et}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,a){for(let c=0;c<this.local.length;c++){let f=this.local[c];f.from<=t&&f.to>=e&&(!a||a(f.spec))&&r.push(f.copy(f.from+i,f.to+i))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<t&&this.children[c+1]>e){let f=this.children[c]+1;this.children[c+2].findInner(e-f,t-f,r,i+f,a)}}map(e,t,r){return this==Et||e.maps.length==0?this:this.mapInner(e,t,0,0,r||_s)}mapInner(e,t,r,i,a){let c;for(let f=0;f<this.local.length;f++){let d=this.local[f].map(e,r,i);d&&d.type.valid(t,d)?(c||(c=[])).push(d):a.onRemove&&a.onRemove(this.local[f].spec)}return this.children.length?AA(this.children,c||[],e,t,r,i,a):c?new nt(c.sort(Bs),Bi):Et}add(e,t){return t.length?this==Et?nt.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,a=0;e.forEach((f,d)=>{let h=d+r,m;if(m=bv(t,f,h)){for(i||(i=this.children.slice());a<i.length&&i[a]<d;)a+=3;i[a]==d?i[a+2]=i[a+2].addInner(f,m,h+1):i.splice(a,0,d,d+f.nodeSize,Dc(m,f,h+1,_s)),a+=3}});let c=yv(a?xv(t):t,-r);for(let f=0;f<c.length;f++)c[f].type.valid(e,c[f])||c.splice(f--,1);return new nt(c.length?this.local.concat(c).sort(Bs):this.local,i||this.children)}remove(e){return e.length==0||this==Et?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let a=0;a<r.length;a+=3){let c,f=r[a]+t,d=r[a+1]+t;for(let m=0,b;m<e.length;m++)(b=e[m])&&b.from>f&&b.to<d&&(e[m]=null,(c||(c=[])).push(b));if(!c)continue;r==this.children&&(r=this.children.slice());let h=r[a+2].removeInner(c,f+1);h!=Et?r[a+2]=h:(r.splice(a,3),a-=3)}if(i.length){for(let a=0,c;a<e.length;a++)if(c=e[a])for(let f=0;f<i.length;f++)i[f].eq(c,t)&&(i==this.local&&(i=this.local.slice()),i.splice(f--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new nt(i,r):Et}forChild(e,t){if(this==Et)return this;if(t.isLeaf)return nt.empty;let r,i;for(let f=0;f<this.children.length;f+=3)if(this.children[f]>=e){this.children[f]==e&&(r=this.children[f+2]);break}let a=e+1,c=a+t.content.size;for(let f=0;f<this.local.length;f++){let d=this.local[f];if(d.from<c&&d.to>a&&d.type instanceof Qr){let h=Math.max(a,d.from)-a,m=Math.min(c,d.to)-a;h<m&&(i||(i=[])).push(d.copy(h,m))}}if(i){let f=new nt(i.sort(Bs),Bi);return r?new $r([f,r]):f}return r||Et}eq(e){if(this==e)return!0;if(!(e instanceof nt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return ip(this.localsInner(e))}localsInner(e){if(this==Et)return Bi;if(e.inlineContent||!this.local.some(Qr.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Qr||t.push(this.local[r]);return t}forEachSet(e){e(this)}}nt.empty=new nt([],[]);nt.removeOverlap=ip;const Et=nt.empty;class $r{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,_s));return $r.from(r)}forChild(e,t){if(t.isLeaf)return nt.empty;let r=[];for(let i=0;i<this.members.length;i++){let a=this.members[i].forChild(e,t);a!=Et&&(a instanceof $r?r=r.concat(a.members):r.push(a))}return $r.from(r)}eq(e){if(!(e instanceof $r)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let a=this.members[i].localsInner(e);if(a.length)if(!t)t=a;else{r&&(t=t.slice(),r=!1);for(let c=0;c<a.length;c++)t.push(a[c])}}return t?ip(r?t:t.sort(Bs)):Bi}static from(e){switch(e.length){case 0:return Et;case 1:return e[0];default:return new $r(e.every(t=>t instanceof nt)?e:e.reduce((t,r)=>t.concat(r instanceof nt?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function AA(n,e,t,r,i,a,c){let f=n.slice();for(let h=0,m=a;h<t.maps.length;h++){let b=0;t.maps[h].forEach((x,S,v,N)=>{let C=N-v-(S-x);for(let T=0;T<f.length;T+=3){let _=f[T+1];if(_<0||x>_+m-b)continue;let q=f[T]+m-b;S>=q?f[T+1]=x<=q?-2:-1:x>=m&&C&&(f[T]+=C,f[T+1]+=C)}b+=C}),m=t.maps[h].map(m,-1)}let d=!1;for(let h=0;h<f.length;h+=3)if(f[h+1]<0){if(f[h+1]==-2){d=!0,f[h+1]=-1;continue}let m=t.map(n[h]+a),b=m-i;if(b<0||b>=r.content.size){d=!0;continue}let x=t.map(n[h+1]+a,-1),S=x-i,{index:v,offset:N}=r.content.findIndex(b),C=r.maybeChild(v);if(C&&N==b&&N+C.nodeSize==S){let T=f[h+2].mapInner(t,C,m+1,n[h]+a+1,c);T!=Et?(f[h]=b,f[h+1]=S,f[h+2]=T):(f[h+1]=-2,d=!0)}else d=!0}if(d){let h=DA(f,n,e,t,i,a,c),m=Dc(h,r,0,c);e=m.local;for(let b=0;b<f.length;b+=3)f[b+1]<0&&(f.splice(b,3),b-=3);for(let b=0,x=0;b<m.children.length;b+=3){let S=m.children[b];for(;x<f.length&&f[x]<S;)x+=3;f.splice(x,0,m.children[b],m.children[b+1],m.children[b+2])}}return new nt(e.sort(Bs),f)}function yv(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new gn(i.from+e,i.to+e,i.type))}return t}function DA(n,e,t,r,i,a,c){function f(d,h){for(let m=0;m<d.local.length;m++){let b=d.local[m].map(r,i,h);b?t.push(b):c.onRemove&&c.onRemove(d.local[m].spec)}for(let m=0;m<d.children.length;m+=3)f(d.children[m+2],d.children[m]+h+1)}for(let d=0;d<n.length;d+=3)n[d+1]==-1&&f(n[d+2],e[d]+a+1);return t}function bv(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let a=0,c;a<n.length;a++)(c=n[a])&&c.from>t&&c.to<r&&((i||(i=[])).push(c),n[a]=null);return i}function xv(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Dc(n,e,t,r){let i=[],a=!1;e.forEach((f,d)=>{let h=bv(n,f,d+t);if(h){a=!0;let m=Dc(h,f,t+d+1,r);m!=Et&&i.push(d,d+f.nodeSize,m)}});let c=yv(a?xv(n):n,-t).sort(Bs);for(let f=0;f<c.length;f++)c[f].type.valid(e,c[f])||(r.onRemove&&r.onRemove(c[f].spec),c.splice(f--,1));return c.length||i.length?new nt(c,i):Et}function Bs(n,e){return n.from-e.from||n.to-e.to}function ip(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let a=e[i];if(a.from==r.from){a.to!=r.to&&(e==n&&(e=n.slice()),e[i]=a.copy(a.from,r.to),Db(e,i+1,a.copy(r.to,a.to)));continue}else{a.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,a.from),Db(e,i,r.copy(a.from,r.to)));break}}}return e}function Db(n,e,t){for(;e<n.length&&Bs(t,n[e])>0;)e++;n.splice(e,0,t)}function Jd(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Et&&e.push(r)}),n.cursorWrapper&&e.push(nt.create(n.state.doc,[n.cursorWrapper.deco])),$r.from(e)}const jA={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},RA=It&&Xr<=11;class _A{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class BA{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new _A,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);It&&Xr<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),RA&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,jA)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Nb(this.view)){if(this.suppressingSelectionUpdates)return cr(this.view);if(It&&Xr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&qs(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let a=e.focusNode;a;a=Pi(a))t.add(a);for(let a=e.anchorNode;a;a=Pi(a))if(t.has(a)){r=a;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Nb(e)&&!this.ignoreSelectionChange(r),a=-1,c=-1,f=!1,d=[];if(e.editable)for(let m=0;m<t.length;m++){let b=this.registerMutation(t[m],d);b&&(a=a<0?b.from:Math.min(b.from,a),c=c<0?b.to:Math.max(b.to,c),b.typeOver&&(f=!0))}if(Nn&&d.length){let m=d.filter(b=>b.nodeName=="BR");if(m.length==2){let[b,x]=m;b.parentNode&&b.parentNode.parentNode==x.parentNode?x.remove():b.remove()}else{let{focusNode:b}=this.currentSelection;for(let x of m){let S=x.parentNode;S&&S.nodeName=="LI"&&(!b||HA(e,b)!=S)&&x.remove()}}}let h=null;a<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Xc(r)&&(h=Qh(e))&&h.eq(ye.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,cr(e),this.currentSelection.set(r),e.scrollToSelection()):(a>-1||i)&&(a>-1&&(e.docView.markDirty(a,c),zA(e)),this.handleDOMChange(a,c,f,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||cr(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let b=e.addedNodes[m];t.push(b),b.nodeType==3&&(this.lastChangedTextNode=b)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,a=e.nextSibling;if(It&&Xr<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:b,nextSibling:x}=e.addedNodes[m];(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(i=b),(!x||Array.prototype.indexOf.call(e.addedNodes,x)<0)&&(a=x)}let c=i&&i.parentNode==e.target?xt(i)+1:0,f=r.localPosFromDOM(e.target,c,-1),d=a&&a.parentNode==e.target?xt(a):e.target.childNodes.length,h=r.localPosFromDOM(e.target,d,1);return{from:f,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let jb=new WeakMap,Rb=!1;function zA(n){if(!jb.has(n)&&(jb.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Nn,Rb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Rb=!0}}function _b(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,a=e.endOffset,c=n.domAtPos(n.state.selection.anchor);return qs(c.node,c.offset,i,a)&&([t,r,i,a]=[i,a,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:a}}function LA(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return _b(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?_b(n,t):null}function HA(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function UA(n,e,t){let{node:r,fromOffset:i,toOffset:a,from:c,to:f}=n.docView.parseRange(e,t),d=n.domSelectionRange(),h,m=d.anchorNode;if(m&&n.dom.contains(m.nodeType==1?m:m.parentNode)&&(h=[{node:m,offset:d.anchorOffset}],Xc(d)||h.push({node:d.focusNode,offset:d.focusOffset})),Mt&&n.input.lastKeyCode===8)for(let C=a;C>i;C--){let T=r.childNodes[C-1],_=T.pmViewDesc;if(T.nodeName=="BR"&&!_){a=C;break}if(!_||_.size)break}let b=n.state.doc,x=n.someProp("domParser")||Jr.fromSchema(n.state.schema),S=b.resolve(c),v=null,N=x.parse(r,{topNode:S.parent,topMatch:S.parent.contentMatchAt(S.index()),topOpen:!0,from:i,to:a,preserveWhitespace:S.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:qA,context:S});if(h&&h[0].pos!=null){let C=h[0].pos,T=h[1]&&h[1].pos;T==null&&(T=C),v={anchor:C+c,head:T+c}}return{doc:N,sel:v,from:c,to:f}}function qA(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Dt&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Dt&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const VA=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function PA(n,e,t,r,i){let a=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let z=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,J=Qh(n,z);if(J&&!n.state.selection.eq(J)){if(Mt&&lr&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",re=>re(n,Es(13,"Enter"))))return;let le=n.state.tr.setSelection(J);z=="pointer"?le.setMeta("pointer",!0):z=="key"&&le.scrollIntoView(),a&&le.setMeta("composition",a),n.dispatch(le)}return}let c=n.state.doc.resolve(e),f=c.sharedDepth(t);e=c.before(f+1),t=n.state.doc.resolve(t).after(f+1);let d=n.state.selection,h=UA(n,e,t),m=n.state.doc,b=m.slice(h.from,h.to),x,S;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(x=n.state.selection.to,S="end"):(x=n.state.selection.from,S="start"),n.input.lastKeyCode=null;let v=FA(b.content,h.doc.content,h.from,x,S);if(v&&n.input.domChangeCount++,(Ii&&n.input.lastIOSEnter>Date.now()-225||lr)&&i.some(z=>z.nodeType==1&&!VA.test(z.nodeName))&&(!v||v.endA>=v.endB)&&n.someProp("handleKeyDown",z=>z(n,Es(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!v)if(r&&d instanceof he&&!d.empty&&d.$head.sameParent(d.$anchor)&&!n.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))v={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let z=Bb(n,n.state.doc,h.sel);if(z&&!z.eq(n.state.selection)){let J=n.state.tr.setSelection(z);a&&J.setMeta("composition",a),n.dispatch(J)}}return}n.state.selection.from<n.state.selection.to&&v.start==v.endB&&n.state.selection instanceof he&&(v.start>n.state.selection.from&&v.start<=n.state.selection.from+2&&n.state.selection.from>=h.from?v.start=n.state.selection.from:v.endA<n.state.selection.to&&v.endA>=n.state.selection.to-2&&n.state.selection.to<=h.to&&(v.endB+=n.state.selection.to-v.endA,v.endA=n.state.selection.to)),It&&Xr<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>h.from&&h.doc.textBetween(v.start-h.from-1,v.start-h.from+1)==" "&&(v.start--,v.endA--,v.endB--);let N=h.doc.resolveNoCache(v.start-h.from),C=h.doc.resolveNoCache(v.endB-h.from),T=m.resolve(v.start),_=N.sameParent(C)&&N.parent.inlineContent&&T.end()>=v.endA,q;if((Ii&&n.input.lastIOSEnter>Date.now()-225&&(!_||i.some(z=>z.nodeName=="DIV"||z.nodeName=="P"))||!_&&N.pos<h.doc.content.size&&(!N.sameParent(C)||!N.parent.inlineContent)&&!/\S/.test(h.doc.textBetween(N.pos,C.pos,"",""))&&(q=ye.findFrom(h.doc.resolve(N.pos+1),1,!0))&&q.head>N.pos)&&n.someProp("handleKeyDown",z=>z(n,Es(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>v.start&&$A(m,v.start,v.endA,N,C)&&n.someProp("handleKeyDown",z=>z(n,Es(8,"Backspace")))){lr&&Mt&&n.domObserver.suppressSelectionUpdates();return}Mt&&v.endB==v.start&&(n.input.lastChromeDelete=Date.now()),lr&&!_&&N.start()!=C.start()&&C.parentOffset==0&&N.depth==C.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==v.endA&&(v.endB-=2,C=h.doc.resolveNoCache(v.endB-h.from),setTimeout(()=>{n.someProp("handleKeyDown",function(z){return z(n,Es(13,"Enter"))})},20));let K=v.start,$=v.endA,Z=z=>{let J=z||n.state.tr.replace(K,$,h.doc.slice(v.start-h.from,v.endB-h.from));if(h.sel){let le=Bb(n,J.doc,h.sel);le&&!(Mt&&n.composing&&le.empty&&(v.start!=v.endB||n.input.lastChromeDelete<Date.now()-100)&&(le.head==K||le.head==J.mapping.map($)-1)||It&&le.empty&&le.head==K)&&J.setSelection(le)}return a&&J.setMeta("composition",a),J.scrollIntoView()},Y;if(_){if(N.pos==C.pos){It&&Xr<=11&&N.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>cr(n),20));let z=Z(n.state.tr.delete(K,$)),J=m.resolve(v.start).marksAcross(m.resolve(v.endA));J&&z.ensureMarks(J),n.dispatch(z)}else if(v.endA==v.endB&&(Y=IA(N.parent.content.cut(N.parentOffset,C.parentOffset),T.parent.content.cut(T.parentOffset,v.endA-T.start())))){let z=Z(n.state.tr);Y.type=="add"?z.addMark(K,$,Y.mark):z.removeMark(K,$,Y.mark),n.dispatch(z)}else if(N.parent.child(N.index()).isText&&N.index()==C.index()-(C.textOffset?0:1)){let z=N.parent.textBetween(N.parentOffset,C.parentOffset),J=()=>Z(n.state.tr.insertText(z,K,$));n.someProp("handleTextInput",le=>le(n,K,$,z,J))||n.dispatch(J())}}else n.dispatch(Z())}function Bb(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Zh(n,e.resolve(t.anchor),e.resolve(t.head))}function IA(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,a=r,c,f,d;for(let m=0;m<r.length;m++)i=r[m].removeFromSet(i);for(let m=0;m<t.length;m++)a=t[m].removeFromSet(a);if(i.length==1&&a.length==0)f=i[0],c="add",d=m=>m.mark(f.addToSet(m.marks));else if(i.length==0&&a.length==1)f=a[0],c="remove",d=m=>m.mark(f.removeFromSet(m.marks));else return null;let h=[];for(let m=0;m<e.childCount;m++)h.push(d(e.child(m)));if(G.from(h).eq(n))return{mark:f,type:c}}function $A(n,e,t,r,i){if(t-e<=i.pos-r.pos||Xd(r,!0,!1)<i.pos)return!1;let a=n.resolve(e);if(!r.parent.isTextblock){let f=a.nodeAfter;return f!=null&&t==e+f.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let c=n.resolve(Xd(a,!0,!0));return!c.parent.isTextblock||c.pos>t||Xd(c,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(c.parent.content)}function Xd(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let a=n.node(r).maybeChild(n.indexAfter(r));for(;a&&!a.isLeaf;)a=a.firstChild,i++}return i}function FA(n,e,t,r,i){let a=n.findDiffStart(e,t);if(a==null)return null;let{a:c,b:f}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let d=Math.max(0,a-Math.min(c,f));r-=c+d-a}if(c<a&&n.size<e.size){let d=r<=a&&r>=c?a-r:0;a-=d,a&&a<e.size&&zb(e.textBetween(a-1,a+1))&&(a+=d?1:-1),f=a+(f-c),c=a}else if(f<a){let d=r<=a&&r>=f?a-r:0;a-=d,a&&a<n.size&&zb(n.textBetween(a-1,a+1))&&(a+=d?1:-1),c=a+(c-f),f=a}return{start:a,endA:c,endB:f}}function zb(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class vv{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new uA,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Vb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Ub(this),Hb(this),this.nodeViews=qb(this),this.docView=yb(this.state.doc,Lb(this),Jd(this),this.dom,this),this.domObserver=new BA(this,(r,i,a,c)=>PA(this,r,i,a,c)),this.domObserver.start(),fA(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Ah(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Vb),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,a=!1,c=!1;e.storedMarks&&this.composing&&(hv(this),c=!0),this.state=e;let f=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(f||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let S=qb(this);GA(S,this.nodeViews)&&(this.nodeViews=S,a=!0)}(f||t.handleDOMEvents!=this._props.handleDOMEvents)&&Ah(this),this.editable=Ub(this),Hb(this);let d=Jd(this),h=Lb(this),m=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",b=a||!this.docView.matchesNode(e.doc,h,d);(b||!e.selection.eq(i.selection))&&(c=!0);let x=m=="preserve"&&c&&this.dom.style.overflowAnchor==null&&E2(this);if(c){this.domObserver.stop();let S=b&&(It||Mt)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&YA(i.selection,e.selection);if(b){let v=Mt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=CA(this)),(a||!this.docView.update(e.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=yb(e.doc,h,d,this.dom,this)),v&&!this.trackWrites&&(S=!0)}S||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&J2(this))?cr(this,S):(tv(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():x&&T2(x)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof ie){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&fb(this,t.getBoundingClientRect(),e)}else fb(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let a=r.from+(this.state.doc.content.size-t.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==r.node&&(i=a)}this.dragging=new mv(e.slice,e.move,i<0?void 0:ie.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let c=0;c<this.directPlugins.length;c++){let f=this.directPlugins[c].props[e];if(f!=null&&(i=t?t(f):f))return i}let a=this.state.plugins;if(a)for(let c=0;c<a.length;c++){let f=a[c].props[e];if(f!=null&&(i=t?t(f):f))return i}}hasFocus(){if(It){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&M2(this.dom),cr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return j2(this,e)}coordsAtPos(e,t=1){return G1(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return L2(this,t||this.state,e)}pasteHTML(e,t){return va(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return va(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return ep(this,e)}destroy(){this.docView&&(dA(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Jd(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,p2())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return pA(this,e)}domSelectionRange(){let e=this.domSelection();return e?Dt&&this.root.nodeType===11&&x2(this.dom.ownerDocument)==this.dom&&LA(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}vv.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function Lb(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[gn.node(0,n.state.doc.content.size,e)]}function Hb(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:gn.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function Ub(n){return!n.someProp("editable",e=>e(n.state)===!1)}function YA(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function qb(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function GA(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function Vb(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var es={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},jc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},KA=typeof navigator<"u"&&/Mac/.test(navigator.platform),JA=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var vt=0;vt<10;vt++)es[48+vt]=es[96+vt]=String(vt);for(var vt=1;vt<=24;vt++)es[vt+111]="F"+vt;for(var vt=65;vt<=90;vt++)es[vt]=String.fromCharCode(vt+32),jc[vt]=String.fromCharCode(vt);for(var Wd in es)jc.hasOwnProperty(Wd)||(jc[Wd]=es[Wd]);function XA(n){var e=KA&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||JA&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?jc:es)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const WA=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),QA=typeof navigator<"u"&&/Win/.test(navigator.platform);function ZA(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,a,c;for(let f=0;f<e.length-1;f++){let d=e[f];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))WA?c=!0:i=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),c&&(t="Meta-"+t),a&&(t="Shift-"+t),t}function eD(n){let e=Object.create(null);for(let t in n)e[ZA(t)]=n[t];return e}function Qd(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function tD(n){return new $t({props:{handleKeyDown:Sv(n)}})}function Sv(n){let e=eD(n);return function(t,r){let i=XA(r),a,c=e[Qd(i,r)];if(c&&c(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let f=e[Qd(i,r,!1)];if(f&&f(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(QA&&r.ctrlKey&&r.altKey)&&(a=es[r.keyCode])&&a!=i){let f=e[Qd(a,r)];if(f&&f(t.state,t.dispatch,t))return!0}}return!1}}const lp=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function wv(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const Nv=(n,e,t)=>{let r=wv(n,t);if(!r)return!1;let i=ap(r);if(!i){let c=r.blockRange(),f=c&&Xi(c);return f==null?!1:(e&&e(n.tr.lift(c,f).scrollIntoView()),!0)}let a=i.nodeBefore;if(jv(n,i,e,-1))return!0;if(r.parent.content.size==0&&($i(a,"end")||ie.isSelectable(a)))for(let c=r.depth;;c--){let f=Kc(n.doc,r.before(c),r.after(c),Q.empty);if(f&&f.slice.size<f.to-f.from){if(e){let d=n.tr.step(f);d.setSelection($i(a,"end")?ye.findFrom(d.doc.resolve(d.mapping.map(i.pos,-1)),-1):ie.create(d.doc,i.pos-a.nodeSize)),e(d.scrollIntoView())}return!0}if(c==1||r.node(c-1).childCount>1)break}return a.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0):!1},nD=(n,e,t)=>{let r=wv(n,t);if(!r)return!1;let i=ap(r);return i?Cv(n,i,e):!1},rD=(n,e,t)=>{let r=Tv(n,t);if(!r)return!1;let i=op(r);return i?Cv(n,i,e):!1};function Cv(n,e,t){let r=e.nodeBefore,i=r,a=e.pos-1;for(;!i.isTextblock;a--){if(i.type.spec.isolating)return!1;let m=i.lastChild;if(!m)return!1;i=m}let c=e.nodeAfter,f=c,d=e.pos+1;for(;!f.isTextblock;d++){if(f.type.spec.isolating)return!1;let m=f.firstChild;if(!m)return!1;f=m}let h=Kc(n.doc,a,d,Q.empty);if(!h||h.from!=a||h instanceof ut&&h.slice.size>=d-a)return!1;if(t){let m=n.tr.step(h);m.setSelection(he.create(m.doc,a)),t(m.scrollIntoView())}return!0}function $i(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const Ev=(n,e,t)=>{let{$head:r,empty:i}=n.selection,a=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;a=ap(r)}let c=a&&a.nodeBefore;return!c||!ie.isSelectable(c)?!1:(e&&e(n.tr.setSelection(ie.create(n.doc,a.pos-c.nodeSize)).scrollIntoView()),!0)};function ap(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function Tv(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const Mv=(n,e,t)=>{let r=Tv(n,t);if(!r)return!1;let i=op(r);if(!i)return!1;let a=i.nodeAfter;if(jv(n,i,e,1))return!0;if(r.parent.content.size==0&&($i(a,"start")||ie.isSelectable(a))){let c=Kc(n.doc,r.before(),r.after(),Q.empty);if(c&&c.slice.size<c.to-c.from){if(e){let f=n.tr.step(c);f.setSelection($i(a,"start")?ye.findFrom(f.doc.resolve(f.mapping.map(i.pos)),1):ie.create(f.doc,f.mapping.map(i.pos))),e(f.scrollIntoView())}return!0}}return a.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0):!1},kv=(n,e,t)=>{let{$head:r,empty:i}=n.selection,a=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;a=op(r)}let c=a&&a.nodeAfter;return!c||!ie.isSelectable(c)?!1:(e&&e(n.tr.setSelection(ie.create(n.doc,a.pos)).scrollIntoView()),!0)};function op(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const sD=(n,e)=>{let t=n.selection,r=t instanceof ie,i;if(r){if(t.node.isTextblock||!ts(n.doc,t.from))return!1;i=t.from}else if(i=Gc(n.doc,t.from,-1),i==null)return!1;if(e){let a=n.tr.join(i);r&&a.setSelection(ie.create(a.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(a.scrollIntoView())}return!0},iD=(n,e)=>{let t=n.selection,r;if(t instanceof ie){if(t.node.isTextblock||!ts(n.doc,t.to))return!1;r=t.to}else if(r=Gc(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},lD=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),a=i&&Xi(i);return a==null?!1:(e&&e(n.tr.lift(i,a).scrollIntoView()),!0)},Ov=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function cp(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const aD=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),a=t.indexAfter(-1),c=cp(i.contentMatchAt(a));if(!c||!i.canReplaceWith(a,a,c))return!1;if(e){let f=t.after(),d=n.tr.replaceWith(f,f,c.createAndFill());d.setSelection(ye.near(d.doc.resolve(f),1)),e(d.scrollIntoView())}return!0},Av=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof nn||r.parent.inlineContent||i.parent.inlineContent)return!1;let a=cp(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let c=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,f=n.tr.insert(c,a.createAndFill());f.setSelection(he.create(f.doc,c+1)),e(f.scrollIntoView())}return!0},Dv=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let a=t.before();if(or(n.doc,a))return e&&e(n.tr.split(a).scrollIntoView()),!0}let r=t.blockRange(),i=r&&Xi(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)};function oD(n){return(e,t)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof ie&&e.selection.node.isBlock)return!r.parentOffset||!or(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let a=[],c,f,d=!1,h=!1;for(let S=r.depth;;S--)if(r.node(S).isBlock){d=r.end(S)==r.pos+(r.depth-S),h=r.start(S)==r.pos-(r.depth-S),f=cp(r.node(S-1).contentMatchAt(r.indexAfter(S-1))),a.unshift(d&&f?{type:f}:null),c=S;break}else{if(S==1)return!1;a.unshift(null)}let m=e.tr;(e.selection instanceof he||e.selection instanceof nn)&&m.deleteSelection();let b=m.mapping.map(r.pos),x=or(m.doc,b,a.length,a);if(x||(a[0]=f?{type:f}:null,x=or(m.doc,b,a.length,a)),!x)return!1;if(m.split(b,a.length,a),!d&&h&&r.node(c).type!=f){let S=m.mapping.map(r.before(c)),v=m.doc.resolve(S);f&&r.node(c-1).canReplaceWith(v.index(),v.index()+1,f)&&m.setNodeMarkup(m.mapping.map(r.before(c)),f)}return t&&t(m.scrollIntoView()),!0}}const cD=oD(),uD=(n,e)=>{let{$from:t,to:r}=n.selection,i,a=t.sharedDepth(r);return a==0?!1:(i=t.before(a),e&&e(n.tr.setSelection(ie.create(n.doc,i))),!0)};function fD(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,a=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(a-1,a)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(i.isTextblock||ts(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function jv(n,e,t,r){let i=e.nodeBefore,a=e.nodeAfter,c,f,d=i.type.spec.isolating||a.type.spec.isolating;if(!d&&fD(n,e,t))return!0;let h=!d&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(c=(f=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&f.matchType(c[0]||a.type).validEnd){if(t){let S=e.pos+a.nodeSize,v=G.empty;for(let T=c.length-1;T>=0;T--)v=G.from(c[T].create(null,v));v=G.from(i.copy(v));let N=n.tr.step(new ft(e.pos-1,S,e.pos,S,new Q(v,1,0),c.length,!0)),C=N.doc.resolve(S+2*c.length);C.nodeAfter&&C.nodeAfter.type==i.type&&ts(N.doc,C.pos)&&N.join(C.pos),t(N.scrollIntoView())}return!0}let m=a.type.spec.isolating||r>0&&d?null:ye.findFrom(e,1),b=m&&m.$from.blockRange(m.$to),x=b&&Xi(b);if(x!=null&&x>=e.depth)return t&&t(n.tr.lift(b,x).scrollIntoView()),!0;if(h&&$i(a,"start",!0)&&$i(i,"end")){let S=i,v=[];for(;v.push(S),!S.isTextblock;)S=S.lastChild;let N=a,C=1;for(;!N.isTextblock;N=N.firstChild)C++;if(S.canReplace(S.childCount,S.childCount,N.content)){if(t){let T=G.empty;for(let q=v.length-1;q>=0;q--)T=G.from(v[q].copy(T));let _=n.tr.step(new ft(e.pos-v.length,e.pos+a.nodeSize,e.pos+C,e.pos+a.nodeSize-C,new Q(T,v.length,0),0,!0));t(_.scrollIntoView())}return!0}}return!1}function Rv(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return i.node(a).isTextblock?(t&&t(e.tr.setSelection(he.create(e.doc,n<0?i.start(a):i.end(a)))),!0):!1}}const dD=Rv(-1),hD=Rv(1);function pD(n,e=null){return function(t,r){let{$from:i,$to:a}=t.selection,c=i.blockRange(a),f=c&&Jh(c,n,e);return f?(r&&r(t.tr.wrap(c,f).scrollIntoView()),!0):!1}}function Pb(n,e=null){return function(t,r){let i=!1;for(let a=0;a<t.selection.ranges.length&&!i;a++){let{$from:{pos:c},$to:{pos:f}}=t.selection.ranges[a];t.doc.nodesBetween(c,f,(d,h)=>{if(i)return!1;if(!(!d.isTextblock||d.hasMarkup(n,e)))if(d.type==n)i=!0;else{let m=t.doc.resolve(h),b=m.index();i=m.parent.canReplaceWith(b,b+1,n)}})}if(!i)return!1;if(r){let a=t.tr;for(let c=0;c<t.selection.ranges.length;c++){let{$from:{pos:f},$to:{pos:d}}=t.selection.ranges[c];a.setBlockType(f,d,n,e)}r(a.scrollIntoView())}return!0}}function up(...n){return function(e,t,r){for(let i=0;i<n.length;i++)if(n[i](e,t,r))return!0;return!1}}up(lp,Nv,Ev);up(lp,Mv,kv);up(Ov,Av,Dv,cD);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function mD(n,e=null){return function(t,r){let{$from:i,$to:a}=t.selection,c=i.blockRange(a);if(!c)return!1;let f=r?t.tr:null;return gD(f,c,n,e)?(r&&r(f.scrollIntoView()),!0):!1}}function gD(n,e,t,r=null){let i=!1,a=e,c=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=c.resolve(e.start-2);a=new Ec(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new Ec(e.$from,c.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let f=Jh(a,t,r,e);return f?(n&&yD(n,e,f,i,t),!0):!1}function yD(n,e,t,r,i){let a=G.empty;for(let m=t.length-1;m>=0;m--)a=G.from(t[m].type.create(t[m].attrs,a));n.step(new ft(e.start-(r?2:0),e.end,e.start,e.end,new Q(a,0,0),t.length,!0));let c=0;for(let m=0;m<t.length;m++)t[m].type==i&&(c=m+1);let f=t.length-c,d=e.start+t.length-(r?2:0),h=e.parent;for(let m=e.startIndex,b=e.endIndex,x=!0;m<b;m++,x=!1)!x&&or(n.doc,d,f)&&(n.split(d,f),d+=2*f),d+=h.child(m).nodeSize;return n}function bD(n){return function(e,t){let{$from:r,$to:i}=e.selection,a=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==n);return a?t?r.node(a.depth-1).type==n?xD(e,t,n,a):vD(e,t,a):!0:!1}}function xD(n,e,t,r){let i=n.tr,a=r.end,c=r.$to.end(r.depth);a<c&&(i.step(new ft(a-1,c,a,c,new Q(G.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new Ec(i.doc.resolve(r.$from.pos),i.doc.resolve(c),r.depth));const f=Xi(r);if(f==null)return!1;i.lift(r,f);let d=i.doc.resolve(i.mapping.map(a,-1)-1);return ts(i.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&i.join(d.pos),e(i.scrollIntoView()),!0}function vD(n,e,t){let r=n.tr,i=t.parent;for(let S=t.end,v=t.endIndex-1,N=t.startIndex;v>N;v--)S-=i.child(v).nodeSize,r.delete(S-1,S+1);let a=r.doc.resolve(t.start),c=a.nodeAfter;if(r.mapping.map(t.end)!=t.start+a.nodeAfter.nodeSize)return!1;let f=t.startIndex==0,d=t.endIndex==i.childCount,h=a.node(-1),m=a.index(-1);if(!h.canReplace(m+(f?0:1),m+1,c.content.append(d?G.empty:G.from(i))))return!1;let b=a.pos,x=b+c.nodeSize;return r.step(new ft(b-(f?1:0),x+(d?1:0),b+1,x-1,new Q((f?G.empty:G.from(i.copy(G.empty))).append(d?G.empty:G.from(i.copy(G.empty))),f?0:1,d?0:1),f?0:1)),e(r.scrollIntoView()),!0}function SD(n){return function(e,t){let{$from:r,$to:i}=e.selection,a=r.blockRange(i,h=>h.childCount>0&&h.firstChild.type==n);if(!a)return!1;let c=a.startIndex;if(c==0)return!1;let f=a.parent,d=f.child(c-1);if(d.type!=n)return!1;if(t){let h=d.lastChild&&d.lastChild.type==f.type,m=G.from(h?n.create():null),b=new Q(G.from(n.create(null,G.from(f.type.create(null,m)))),h?3:1,0),x=a.start,S=a.end;t(e.tr.step(new ft(x-(h?3:1),S,x,S,b,1,!0)).scrollIntoView())}return!0}}function Zc(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:a}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return a},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,a=t.storedMarks,t}}}class eu{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:a}=r,c=this.buildProps(a);return Object.fromEntries(Object.entries(e).map(([f,d])=>[f,(...m)=>{const b=d(...m)(c);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(a),b}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:a}=this,{view:c}=i,f=[],d=!!e,h=e||a.tr,m=()=>(!d&&t&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&c.dispatch(h),f.every(x=>x===!0)),b={...Object.fromEntries(Object.entries(r).map(([x,S])=>[x,(...N)=>{const C=this.buildProps(h,t),T=S(...N)(C);return f.push(T),b}])),run:m};return b}createCan(e){const{rawCommands:t,state:r}=this,i=!1,a=e||r.tr,c=this.buildProps(a,i);return{...Object.fromEntries(Object.entries(t).map(([d,h])=>[d,(...m)=>h(...m)({...c,dispatch:void 0})])),chain:()=>this.createChain(a,i)}}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:a}=this,{view:c}=i,f={tr:e,editor:i,view:c,state:Zc({state:a,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([d,h])=>[d,(...m)=>h(...m)(f)]))}};return f}}class wD{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(i=>i!==t):delete this.callbacks[e]),this}once(e,t){const r=(...i)=>{this.off(e,r),t.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function ne(n,e,t){return n.config[e]===void 0&&n.parent?ne(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?ne(n.parent,e,t):null}):n.config[e]}function tu(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function _v(n){const e=[],{nodeExtensions:t,markExtensions:r}=tu(n),i=[...t,...r],a={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(c=>{const f={name:c.name,options:c.options,storage:c.storage,extensions:i},d=ne(c,"addGlobalAttributes",f);if(!d)return;d().forEach(m=>{m.types.forEach(b=>{Object.entries(m.attributes).forEach(([x,S])=>{e.push({type:b,name:x,attribute:{...a,...S}})})})})}),i.forEach(c=>{const f={name:c.name,options:c.options,storage:c.storage},d=ne(c,"addAttributes",f);if(!d)return;const h=d();Object.entries(h).forEach(([m,b])=>{const x={...a,...b};typeof x?.default=="function"&&(x.default=x.default()),x?.isRequired&&x?.default===void 0&&delete x.default,e.push({type:c.name,name:m,attribute:x})})}),e}function ht(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function pt(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,a])=>{if(!r[i]){r[i]=a;return}if(i==="class"){const f=a?String(a).split(" "):[],d=r[i]?r[i].split(" "):[],h=f.filter(m=>!d.includes(m));r[i]=[...d,...h].join(" ")}else if(i==="style"){const f=a?a.split(";").map(m=>m.trim()).filter(Boolean):[],d=r[i]?r[i].split(";").map(m=>m.trim()).filter(Boolean):[],h=new Map;d.forEach(m=>{const[b,x]=m.split(":").map(S=>S.trim());h.set(b,x)}),f.forEach(m=>{const[b,x]=m.split(":").map(S=>S.trim());h.set(b,x)}),r[i]=Array.from(h.entries()).map(([m,b])=>`${m}: ${b}`).join("; ")}else r[i]=a}),r},{})}function Dh(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>pt(t,r),{})}function Bv(n){return typeof n=="function"}function xe(n,e=void 0,...t){return Bv(n)?e?n.bind(e)(...t):n(...t):n}function ND(n={}){return Object.keys(n).length===0&&n.constructor===Object}function CD(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function Ib(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((a,c)=>{const f=c.attribute.parseHTML?c.attribute.parseHTML(t):CD(t.getAttribute(c.name));return f==null?a:{...a,[c.name]:f}},{});return{...r,...i}}}}function $b(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&ND(t)?!1:t!=null))}function ED(n,e){var t;const r=_v(n),{nodeExtensions:i,markExtensions:a}=tu(n),c=(t=i.find(h=>ne(h,"topNode")))===null||t===void 0?void 0:t.name,f=Object.fromEntries(i.map(h=>{const m=r.filter(T=>T.type===h.name),b={name:h.name,options:h.options,storage:h.storage,editor:e},x=n.reduce((T,_)=>{const q=ne(_,"extendNodeSchema",b);return{...T,...q?q(h):{}}},{}),S=$b({...x,content:xe(ne(h,"content",b)),marks:xe(ne(h,"marks",b)),group:xe(ne(h,"group",b)),inline:xe(ne(h,"inline",b)),atom:xe(ne(h,"atom",b)),selectable:xe(ne(h,"selectable",b)),draggable:xe(ne(h,"draggable",b)),code:xe(ne(h,"code",b)),whitespace:xe(ne(h,"whitespace",b)),linebreakReplacement:xe(ne(h,"linebreakReplacement",b)),defining:xe(ne(h,"defining",b)),isolating:xe(ne(h,"isolating",b)),attrs:Object.fromEntries(m.map(T=>{var _;return[T.name,{default:(_=T?.attribute)===null||_===void 0?void 0:_.default}]}))}),v=xe(ne(h,"parseHTML",b));v&&(S.parseDOM=v.map(T=>Ib(T,m)));const N=ne(h,"renderHTML",b);N&&(S.toDOM=T=>N({node:T,HTMLAttributes:Dh(T,m)}));const C=ne(h,"renderText",b);return C&&(S.toText=C),[h.name,S]})),d=Object.fromEntries(a.map(h=>{const m=r.filter(C=>C.type===h.name),b={name:h.name,options:h.options,storage:h.storage,editor:e},x=n.reduce((C,T)=>{const _=ne(T,"extendMarkSchema",b);return{...C,..._?_(h):{}}},{}),S=$b({...x,inclusive:xe(ne(h,"inclusive",b)),excludes:xe(ne(h,"excludes",b)),group:xe(ne(h,"group",b)),spanning:xe(ne(h,"spanning",b)),code:xe(ne(h,"code",b)),attrs:Object.fromEntries(m.map(C=>{var T;return[C.name,{default:(T=C?.attribute)===null||T===void 0?void 0:T.default}]}))}),v=xe(ne(h,"parseHTML",b));v&&(S.parseDOM=v.map(C=>Ib(C,m)));const N=ne(h,"renderHTML",b);return N&&(S.toDOM=C=>N({mark:C,HTMLAttributes:Dh(C,m)})),[h.name,S]}));return new N1({topNode:c,nodes:f,marks:d})}function Zd(n,e){return e.nodes[n]||e.marks[n]||null}function Fb(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function fp(n,e){const t=Fs.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}const TD=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,a,c,f)=>{var d,h;const m=((h=(d=i.type.spec).toText)===null||h===void 0?void 0:h.call(d,{node:i,pos:a,parent:c,index:f}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?m:m.slice(0,Math.max(0,r-a))}),t};function dp(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class nu{constructor(e){this.find=e.find,this.handler=e.handler}}const MD=(n,e)=>{if(dp(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function sc(n){var e;const{editor:t,from:r,to:i,text:a,rules:c,plugin:f}=n,{view:d}=t;if(d.composing)return!1;const h=d.state.doc.resolve(r);if(h.parent.type.spec.code||!((e=h.nodeBefore||h.nodeAfter)===null||e===void 0)&&e.marks.find(x=>x.type.spec.code))return!1;let m=!1;const b=TD(h)+a;return c.forEach(x=>{if(m)return;const S=MD(b,x.find);if(!S)return;const v=d.state.tr,N=Zc({state:d.state,transaction:v}),C={from:r-(S[0].length-a.length),to:i},{commands:T,chain:_,can:q}=new eu({editor:t,state:N});x.handler({state:N,range:C,match:S,commands:T,chain:_,can:q})===null||!v.steps.length||(v.setMeta(f,{transform:v,from:r,to:i,text:a}),d.dispatch(v),m=!0)}),m}function kD(n){const{editor:e,rules:t}=n,r=new $t({state:{init(){return null},apply(i,a,c){const f=i.getMeta(r);if(f)return f;const d=i.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:m}=d;typeof m=="string"?m=m:m=fp(G.from(m),c.schema);const{from:b}=d,x=b+m.length;sc({editor:e,from:b,to:x,text:m,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:a}},props:{handleTextInput(i,a,c,f){return sc({editor:e,from:a,to:c,text:f,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:a}=i.state.selection;a&&sc({editor:e,from:a.pos,to:a.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,a){if(a.key!=="Enter")return!1;const{$cursor:c}=i.state.selection;return c?sc({editor:e,from:c.pos,to:c.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function OD(n){return Object.prototype.toString.call(n).slice(8,-1)}function ic(n){return OD(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function ru(n,e){const t={...n};return ic(n)&&ic(e)&&Object.keys(e).forEach(r=>{ic(e[r])&&ic(n[r])?t[r]=ru(n[r],e[r]):t[r]=e[r]}),t}class Hn{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=xe(ne(this,"addOptions",{name:this.name}))),this.storage=xe(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Hn(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>ru(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Hn(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=xe(ne(t,"addOptions",{name:t.name})),t.storage=xe(ne(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const c=i.marks();if(!!!c.find(h=>h?.type.name===t.name))return!1;const d=c.find(h=>h?.type.name===t.name);return d&&r.removeStoredMark(d),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function AD(n){return typeof n=="number"}class DD{constructor(e){this.find=e.find,this.handler=e.handler}}const jD=(n,e,t)=>{if(dp(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const a=[i.text];return a.index=i.index,a.input=n,a.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(i.replaceWith)),a}):[]};function RD(n){const{editor:e,state:t,from:r,to:i,rule:a,pasteEvent:c,dropEvent:f}=n,{commands:d,chain:h,can:m}=new eu({editor:e,state:t}),b=[];return t.doc.nodesBetween(r,i,(S,v)=>{if(!S.isTextblock||S.type.spec.code)return;const N=Math.max(r,v),C=Math.min(i,v+S.content.size),T=S.textBetween(N-v,C-v,void 0,"");jD(T,a.find,c).forEach(q=>{if(q.index===void 0)return;const K=N+q.index+1,$=K+q[0].length,Z={from:t.tr.mapping.map(K),to:t.tr.mapping.map($)},Y=a.handler({state:t,range:Z,match:q,commands:d,chain:h,can:m,pasteEvent:c,dropEvent:f});b.push(Y)})}),b.every(S=>S!==null)}let lc=null;const _D=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function BD(n){const{editor:e,rules:t}=n;let r=null,i=!1,a=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,f;try{f=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{f=null}const d=({state:m,from:b,to:x,rule:S,pasteEvt:v})=>{const N=m.tr,C=Zc({state:m,transaction:N});if(!(!RD({editor:e,state:C,from:Math.max(b-1,0),to:x.b-1,rule:S,pasteEvent:v,dropEvent:f})||!N.steps.length)){try{f=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{f=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,N}};return t.map(m=>new $t({view(b){const x=v=>{var N;r=!((N=b.dom.parentElement)===null||N===void 0)&&N.contains(v.target)?b.dom.parentElement:null,r&&(lc=e)},S=()=>{lc&&(lc=null)};return window.addEventListener("dragstart",x),window.addEventListener("dragend",S),{destroy(){window.removeEventListener("dragstart",x),window.removeEventListener("dragend",S)}}},props:{handleDOMEvents:{drop:(b,x)=>{if(a=r===b.dom.parentElement,f=x,!a){const S=lc;S?.isEditable&&setTimeout(()=>{const v=S.state.selection;v&&S.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(b,x)=>{var S;const v=(S=x.clipboardData)===null||S===void 0?void 0:S.getData("text/html");return c=x,i=!!v?.includes("data-pm-slice"),!1}}},appendTransaction:(b,x,S)=>{const v=b[0],N=v.getMeta("uiEvent")==="paste"&&!i,C=v.getMeta("uiEvent")==="drop"&&!a,T=v.getMeta("applyPasteRules"),_=!!T;if(!N&&!C&&!_)return;if(_){let{text:$}=T;typeof $=="string"?$=$:$=fp(G.from($),S.schema);const{from:Z}=T,Y=Z+$.length,z=_D($);return d({rule:m,state:S,from:Z,to:{b:Y},pasteEvt:z})}const q=x.doc.content.findDiffStart(S.doc.content),K=x.doc.content.findDiffEnd(S.doc.content);if(!(!AD(q)||!K||q===K.b))return d({rule:m,state:S,from:q,to:K,pasteEvt:c})}}))}function zD(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class Li{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Li.resolve(e),this.schema=ED(this.extensions,t),this.setupExtensions()}static resolve(e){const t=Li.sort(Li.flatten(e)),r=zD(t.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},i=ne(t,"addExtensions",r);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((r,i)=>{const a=ne(r,"priority")||100,c=ne(i,"priority")||100;return a>c?-1:a<c?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Zd(t.name,this.schema)},i=ne(t,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=Li.sort([...this.extensions].reverse()),r=[],i=[],a=t.map(c=>{const f={name:c.name,options:c.options,storage:c.storage,editor:e,type:Zd(c.name,this.schema)},d=[],h=ne(c,"addKeyboardShortcuts",f);let m={};if(c.type==="mark"&&ne(c,"exitable",f)&&(m.ArrowRight=()=>Hn.handleExit({editor:e,mark:c})),h){const N=Object.fromEntries(Object.entries(h()).map(([C,T])=>[C,()=>T({editor:e})]));m={...m,...N}}const b=tD(m);d.push(b);const x=ne(c,"addInputRules",f);Fb(c,e.options.enableInputRules)&&x&&r.push(...x());const S=ne(c,"addPasteRules",f);Fb(c,e.options.enablePasteRules)&&S&&i.push(...S());const v=ne(c,"addProseMirrorPlugins",f);if(v){const N=v();d.push(...N)}return d}).flat();return[kD({editor:e,rules:r}),...BD({editor:e,rules:i}),...a]}get attributes(){return _v(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=tu(this.extensions);return Object.fromEntries(t.filter(r=>!!ne(r,"addNodeView")).map(r=>{const i=this.attributes.filter(d=>d.type===r.name),a={name:r.name,options:r.options,storage:r.storage,editor:e,type:ht(r.name,this.schema)},c=ne(r,"addNodeView",a);if(!c)return[];const f=(d,h,m,b,x)=>{const S=Dh(d,i);return c()({node:d,view:h,getPos:m,decorations:b,innerDecorations:x,editor:e,extension:r,HTMLAttributes:S})};return[r.name,f]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Zd(e.name,this.schema)};e.type==="mark"&&(!((t=xe(ne(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const i=ne(e,"onBeforeCreate",r),a=ne(e,"onCreate",r),c=ne(e,"onUpdate",r),f=ne(e,"onSelectionUpdate",r),d=ne(e,"onTransaction",r),h=ne(e,"onFocus",r),m=ne(e,"onBlur",r),b=ne(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),a&&this.editor.on("create",a),c&&this.editor.on("update",c),f&&this.editor.on("selectionUpdate",f),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),m&&this.editor.on("blur",m),b&&this.editor.on("destroy",b)})}}class St{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=xe(ne(this,"addOptions",{name:this.name}))),this.storage=xe(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new St(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>ru(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new St({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=xe(ne(t,"addOptions",{name:t.name})),t.storage=xe(ne(t,"addStorage",{name:t.name,options:t.options})),t}}function zv(n,e,t){const{from:r,to:i}=e,{blockSeparator:a=`

`,textSerializers:c={}}=t||{};let f="";return n.nodesBetween(r,i,(d,h,m,b)=>{var x;d.isBlock&&h>r&&(f+=a);const S=c?.[d.type.name];if(S)return m&&(f+=S({node:d,pos:h,parent:m,index:b,range:e})),!1;d.isText&&(f+=(x=d?.text)===null||x===void 0?void 0:x.slice(Math.max(r,h)-h,i-h))}),f}function Lv(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const LD=St.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new $t({key:new qn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:a}=i,c=Math.min(...a.map(m=>m.$from.pos)),f=Math.max(...a.map(m=>m.$to.pos)),d=Lv(t);return zv(r,{from:c,to:f},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),HD=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window?.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),UD=(n=!1)=>({commands:e})=>e.setContent("",n),qD=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:a,$to:c})=>{n.doc.nodesBetween(a.pos,c.pos,(f,d)=>{if(f.type.isText)return;const{doc:h,mapping:m}=e,b=h.resolve(m.map(d)),x=h.resolve(m.map(d+f.nodeSize)),S=b.blockRange(x);if(!S)return;const v=Xi(S);if(f.type.isTextblock){const{defaultType:N}=b.parent.contentMatchAt(b.index());e.setNodeMarkup(S.start,N)}(v||v===0)&&e.lift(S,v)})}),!0},VD=n=>e=>n(e),PD=()=>({state:n,dispatch:e})=>Av(n,e),ID=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,a=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const c=r.mapping.map(e);return r.insert(c,a.content),r.setSelection(new he(r.doc.resolve(Math.max(c-1,0)))),!0},$D=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let a=i.depth;a>0;a-=1)if(i.node(a).type===r.type){if(e){const f=i.before(a),d=i.after(a);n.delete(f,d).scrollIntoView()}return!0}return!1},FD=n=>({tr:e,state:t,dispatch:r})=>{const i=ht(n,t.schema),a=e.selection.$anchor;for(let c=a.depth;c>0;c-=1)if(a.node(c).type===i){if(r){const d=a.before(c),h=a.after(c);e.delete(d,h).scrollIntoView()}return!0}return!1},YD=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},GD=()=>({state:n,dispatch:e})=>lp(n,e),KD=()=>({commands:n})=>n.keyboardShortcut("Enter"),JD=()=>({state:n,dispatch:e})=>aD(n,e);function Rc(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:dp(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function Hv(n,e,t={}){return n.find(r=>r.type===e&&Rc(Object.fromEntries(Object.keys(t).map(i=>[i,r.attrs[i]])),t))}function Yb(n,e,t={}){return!!Hv(n,e,t)}function hp(n,e,t){var r;if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if((!i.node||!i.node.marks.some(m=>m.type===e))&&(i=n.parent.childBefore(n.parentOffset)),!i.node||!i.node.marks.some(m=>m.type===e)||(t=t||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!Hv([...i.node.marks],e,t)))return;let c=i.index,f=n.start()+i.offset,d=c+1,h=f+i.node.nodeSize;for(;c>0&&Yb([...n.parent.child(c-1).marks],e,t);)c-=1,f-=n.parent.child(c).nodeSize;for(;d<n.parent.childCount&&Yb([...n.parent.child(d).marks],e,t);)h+=n.parent.child(d).nodeSize,d+=1;return{from:f,to:h}}function rs(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const XD=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const a=rs(n,r.schema),{doc:c,selection:f}=t,{$from:d,from:h,to:m}=f;if(i){const b=hp(d,a,e);if(b&&b.from<=h&&b.to>=m){const x=he.create(c,b.from,b.to);t.setSelection(x)}}return!0},WD=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function Uv(n){return n instanceof he}function As(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function qv(n,e=null){if(!e)return null;const t=ye.atStart(n),r=ye.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,a=r.to;return e==="all"?he.create(n,As(0,i,a),As(n.content.size,i,a)):he.create(n,As(e,i,a),As(e,i,a))}function QD(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function pp(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const ZD=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:a})=>{e={scrollIntoView:!0,...e};const c=()=>{(pp()||QD())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e?.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(a&&n===null&&!Uv(t.state.selection))return c(),!0;const f=qv(i.doc,n)||t.state.selection,d=t.state.selection.eq(f);return a&&(d||i.setSelection(f),d&&i.storedMarks&&i.setStoredMarks(i.storedMarks),c()),!0},ej=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),tj=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),Vv=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&Vv(r)}return n};function ac(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return Vv(t)}function wa(n,e,t){if(n instanceof Kr||n instanceof G)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return G.fromArray(n.map(f=>e.nodeFromJSON(f)));const c=e.nodeFromJSON(n);return t.errorOnInvalidContent&&c.check(),c}catch(a){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",a),wa("",e,t)}if(i){if(t.errorOnInvalidContent){let c=!1,f="";const d=new N1({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(c=!0,f=typeof h=="string"?h:h.outerHTML,null)}]}})});if(t.slice?Jr.fromSchema(d).parseSlice(ac(n),t.parseOptions):Jr.fromSchema(d).parse(ac(n),t.parseOptions),t.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${f}`)})}const a=Jr.fromSchema(e);return t.slice?a.parseSlice(ac(n),t.parseOptions).content:a.parse(ac(n),t.parseOptions)}return wa("",e,t)}function nj(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof ut||i instanceof ft))return;const a=n.mapping.maps[r];let c=0;a.forEach((f,d,h,m)=>{c===0&&(c=m)}),n.setSelection(ye.near(n.doc.resolve(c),t))}const rj=n=>!("type"in n),sj=(n,e,t)=>({tr:r,dispatch:i,editor:a})=>{var c;if(i){t={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let f;const d=C=>{a.emit("contentError",{editor:a,error:C,disableCollaboration:()=>{a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!a.options.enableContentCheck&&a.options.emitContentError)try{wa(e,a.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(C){d(C)}try{f=wa(e,a.schema,{parseOptions:h,errorOnInvalidContent:(c=t.errorOnInvalidContent)!==null&&c!==void 0?c:a.options.enableContentCheck})}catch(C){return d(C),!1}let{from:m,to:b}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},x=!0,S=!0;if((rj(f)?f:[f]).forEach(C=>{C.check(),x=x?C.isText&&C.marks.length===0:!1,S=S?C.isBlock:!1}),m===b&&S){const{parent:C}=r.doc.resolve(m);C.isTextblock&&!C.type.spec.code&&!C.childCount&&(m-=1,b+=1)}let N;if(x){if(Array.isArray(e))N=e.map(C=>C.text||"").join("");else if(e instanceof G){let C="";e.forEach(T=>{T.text&&(C+=T.text)}),N=C}else typeof e=="object"&&e&&e.text?N=e.text:N=e;r.insertText(N,m,b)}else N=f,r.replaceWith(m,b,N);t.updateSelection&&nj(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:m,text:N}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:m,text:N})}return!0},ij=()=>({state:n,dispatch:e})=>sD(n,e),lj=()=>({state:n,dispatch:e})=>iD(n,e),aj=()=>({state:n,dispatch:e})=>Nv(n,e),oj=()=>({state:n,dispatch:e})=>Mv(n,e),cj=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Gc(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},uj=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Gc(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},fj=()=>({state:n,dispatch:e})=>nD(n,e),dj=()=>({state:n,dispatch:e})=>rD(n,e);function Pv(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function hj(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,a,c;for(let f=0;f<e.length-1;f+=1){const d=e[f];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))pp()||Pv()?c=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),c&&(t=`Meta-${t}`),a&&(t=`Shift-${t}`),t}const pj=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const a=hj(n).split(/-(?!$)/),c=a.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),f=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{t.someProp("handleKeyDown",h=>h(t,f))});return d?.steps.forEach(h=>{const m=h.map(r.mapping);m&&i&&r.maybeStep(m)}),!0};function Na(n,e,t={}){const{from:r,to:i,empty:a}=n.selection,c=e?ht(e,n.schema):null,f=[];n.doc.nodesBetween(r,i,(b,x)=>{if(b.isText)return;const S=Math.max(r,x),v=Math.min(i,x+b.nodeSize);f.push({node:b,from:S,to:v})});const d=i-r,h=f.filter(b=>c?c.name===b.node.type.name:!0).filter(b=>Rc(b.node.attrs,t,{strict:!1}));return a?!!h.length:h.reduce((b,x)=>b+x.to-x.from,0)>=d}const mj=(n,e={})=>({state:t,dispatch:r})=>{const i=ht(n,t.schema);return Na(t,i,e)?lD(t,r):!1},gj=()=>({state:n,dispatch:e})=>Dv(n,e),yj=n=>({state:e,dispatch:t})=>{const r=ht(n,e.schema);return bD(r)(e,t)},bj=()=>({state:n,dispatch:e})=>Ov(n,e);function su(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function Gb(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}const xj=(n,e)=>({tr:t,state:r,dispatch:i})=>{let a=null,c=null;const f=su(typeof n=="string"?n:n.name,r.schema);return f?(f==="node"&&(a=ht(n,r.schema)),f==="mark"&&(c=rs(n,r.schema)),i&&t.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(h,m)=>{a&&a===h.type&&t.setNodeMarkup(m,void 0,Gb(h.attrs,e)),c&&h.marks.length&&h.marks.forEach(b=>{c===b.type&&t.addMark(m,m+h.nodeSize,c.create(Gb(b.attrs,e)))})})}),!0):!1},vj=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),Sj=()=>({tr:n,dispatch:e})=>{if(e){const t=new nn(n.doc);n.setSelection(t)}return!0},wj=()=>({state:n,dispatch:e})=>Ev(n,e),Nj=()=>({state:n,dispatch:e})=>kv(n,e),Cj=()=>({state:n,dispatch:e})=>uD(n,e),Ej=()=>({state:n,dispatch:e})=>hD(n,e),Tj=()=>({state:n,dispatch:e})=>dD(n,e);function jh(n,e,t={},r={}){return wa(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const Mj=(n,e=!1,t={},r={})=>({editor:i,tr:a,dispatch:c,commands:f})=>{var d,h;const{doc:m}=a;if(t.preserveWhitespace!=="full"){const b=jh(n,i.schema,t,{errorOnInvalidContent:(d=r.errorOnInvalidContent)!==null&&d!==void 0?d:i.options.enableContentCheck});return c&&a.replaceWith(0,m.content.size,b).setMeta("preventUpdate",!e),!0}return c&&a.setMeta("preventUpdate",!e),f.insertContentAt({from:0,to:m.content.size},n,{parseOptions:t,errorOnInvalidContent:(h=r.errorOnInvalidContent)!==null&&h!==void 0?h:i.options.enableContentCheck})};function Iv(n,e){const t=rs(e,n.schema),{from:r,to:i,empty:a}=n.selection,c=[];a?(n.storedMarks&&c.push(...n.storedMarks),c.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,d=>{c.push(...d.marks)});const f=c.find(d=>d.type.name===t.name);return f?{...f.attrs}:{}}function kj(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function Oj(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function mp(n){return e=>Oj(e.$from,n)}function Aj(n,e){const t={from:0,to:n.content.size};return zv(n,t,e)}function Dj(n,e){const t=ht(e,n.schema),{from:r,to:i}=n.selection,a=[];n.doc.nodesBetween(r,i,f=>{a.push(f)});const c=a.reverse().find(f=>f.type.name===t.name);return c?{...c.attrs}:{}}function jj(n,e){const t=su(typeof e=="string"?e:e.name,n.schema);return t==="node"?Dj(n,e):t==="mark"?Iv(n,e):{}}function $v(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const a=t.resolve(n),c=hp(a,i.type);c&&r.push({mark:i,...c})}):t.nodesBetween(n,e,(i,a)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(c=>({from:a,to:a+i.nodeSize,mark:c})))}),r}function gc(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(a=>a.type===e&&a.name===r);return i?i.attribute.keepOnSplit:!1}))}function Rh(n,e,t={}){const{empty:r,ranges:i}=n.selection,a=e?rs(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(b=>a?a.name===b.type.name:!0).find(b=>Rc(b.attrs,t,{strict:!1}));let c=0;const f=[];if(i.forEach(({$from:b,$to:x})=>{const S=b.pos,v=x.pos;n.doc.nodesBetween(S,v,(N,C)=>{if(!N.isText&&!N.marks.length)return;const T=Math.max(S,C),_=Math.min(v,C+N.nodeSize),q=_-T;c+=q,f.push(...N.marks.map(K=>({mark:K,from:T,to:_})))})}),c===0)return!1;const d=f.filter(b=>a?a.name===b.mark.type.name:!0).filter(b=>Rc(b.mark.attrs,t,{strict:!1})).reduce((b,x)=>b+x.to-x.from,0),h=f.filter(b=>a?b.mark.type!==a&&b.mark.type.excludes(a):!0).reduce((b,x)=>b+x.to-x.from,0);return(d>0?d+h:d)>=c}function Rj(n,e,t={}){if(!e)return Na(n,null,t)||Rh(n,null,t);const r=su(e,n.schema);return r==="node"?Na(n,e,t):r==="mark"?Rh(n,e,t):!1}function Kb(n,e){const{nodeExtensions:t}=tu(e),r=t.find(c=>c.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},a=xe(ne(r,"group",i));return typeof a!="string"?!1:a.split(" ").includes("list")}function gp(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(a=>{i!==!1&&(gp(a,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function _j(n){return n instanceof ie}function Bj(n,e,t){var r;const{selection:i}=e;let a=null;if(Uv(i)&&(a=i.$cursor),a){const f=(r=n.storedMarks)!==null&&r!==void 0?r:a.marks();return!!t.isInSet(f)||!f.some(d=>d.type.excludes(t))}const{ranges:c}=i;return c.some(({$from:f,$to:d})=>{let h=f.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(f.pos,d.pos,(m,b,x)=>{if(h)return!1;if(m.isInline){const S=!x||x.type.allowsMarkType(t),v=!!t.isInSet(m.marks)||!m.marks.some(N=>N.type.excludes(t));h=S&&v}return!h}),h})}const zj=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:a}=t,{empty:c,ranges:f}=a,d=rs(n,r.schema);if(i)if(c){const h=Iv(r,d);t.addStoredMark(d.create({...h,...e}))}else f.forEach(h=>{const m=h.$from.pos,b=h.$to.pos;r.doc.nodesBetween(m,b,(x,S)=>{const v=Math.max(S,m),N=Math.min(S+x.nodeSize,b);x.marks.find(T=>T.type===d)?x.marks.forEach(T=>{d===T.type&&t.addMark(v,N,d.create({...T.attrs,...e}))}):t.addMark(v,N,d.create(e))})});return Bj(r,t,d)},Lj=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),Hj=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const a=ht(n,t.schema);let c;return t.selection.$anchor.sameParent(t.selection.$head)&&(c=t.selection.$anchor.parent.attrs),a.isTextblock?i().command(({commands:f})=>Pb(a,{...c,...e})(t)?!0:f.clearNodes()).command(({state:f})=>Pb(a,{...c,...e})(f,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Uj=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=As(n,0,r.content.size),a=ie.create(r,i);e.setSelection(a)}return!0},qj=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:a}=typeof n=="number"?{from:n,to:n}:n,c=he.atStart(r).from,f=he.atEnd(r).to,d=As(i,c,f),h=As(a,c,f),m=he.create(r,d,h);e.setSelection(m)}return!0},Vj=n=>({state:e,dispatch:t})=>{const r=ht(n,e.schema);return SD(r)(e,t)};function Jb(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e?.includes(i.type.name));n.tr.ensureMarks(r)}}const Pj=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:a,doc:c}=e,{$from:f,$to:d}=a,h=i.extensionManager.attributes,m=gc(h,f.node().type.name,f.node().attrs);if(a instanceof ie&&a.node.isBlock)return!f.parentOffset||!or(c,f.pos)?!1:(r&&(n&&Jb(t,i.extensionManager.splittableMarks),e.split(f.pos).scrollIntoView()),!0);if(!f.parent.isBlock)return!1;const b=d.parentOffset===d.parent.content.size,x=f.depth===0?void 0:kj(f.node(-1).contentMatchAt(f.indexAfter(-1)));let S=b&&x?[{type:x,attrs:m}]:void 0,v=or(e.doc,e.mapping.map(f.pos),1,S);if(!S&&!v&&or(e.doc,e.mapping.map(f.pos),1,x?[{type:x}]:void 0)&&(v=!0,S=x?[{type:x,attrs:m}]:void 0),r){if(v&&(a instanceof he&&e.deleteSelection(),e.split(e.mapping.map(f.pos),1,S),x&&!b&&!f.parentOffset&&f.parent.type!==x)){const N=e.mapping.map(f.before()),C=e.doc.resolve(N);f.node(-1).canReplaceWith(C.index(),C.index()+1,x)&&e.setNodeMarkup(e.mapping.map(f.before()),x)}n&&Jb(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return v},Ij=(n,e={})=>({tr:t,state:r,dispatch:i,editor:a})=>{var c;const f=ht(n,r.schema),{$from:d,$to:h}=r.selection,m=r.selection.node;if(m&&m.isBlock||d.depth<2||!d.sameParent(h))return!1;const b=d.node(-1);if(b.type!==f)return!1;const x=a.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==f||d.index(-2)!==d.node(-2).childCount-1)return!1;if(i){let T=G.empty;const _=d.index(-1)?1:d.index(-2)?2:3;for(let z=d.depth-_;z>=d.depth-3;z-=1)T=G.from(d.node(z).copy(T));const q=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,K={...gc(x,d.node().type.name,d.node().attrs),...e},$=((c=f.contentMatch.defaultType)===null||c===void 0?void 0:c.createAndFill(K))||void 0;T=T.append(G.from(f.createAndFill(null,$)||void 0));const Z=d.before(d.depth-(_-1));t.replace(Z,d.after(-q),new Q(T,4-_,0));let Y=-1;t.doc.nodesBetween(Z,t.doc.content.size,(z,J)=>{if(Y>-1)return!1;z.isTextblock&&z.content.size===0&&(Y=J+1)}),Y>-1&&t.setSelection(he.near(t.doc.resolve(Y))),t.scrollIntoView()}return!0}const S=h.pos===d.end()?b.contentMatchAt(0).defaultType:null,v={...gc(x,b.type.name,b.attrs),...e},N={...gc(x,d.node().type.name,d.node().attrs),...e};t.delete(d.pos,h.pos);const C=S?[{type:f,attrs:v},{type:S,attrs:N}]:[{type:f,attrs:v}];if(!or(t.doc,d.pos,2))return!1;if(i){const{selection:T,storedMarks:_}=r,{splittableMarks:q}=a.extensionManager,K=_||T.$to.parentOffset&&T.$from.marks();if(t.split(d.pos,2,C).scrollIntoView(),!K||!i)return!0;const $=K.filter(Z=>q.includes(Z.type.name));t.ensureMarks($)}return!0},eh=(n,e)=>{const t=mp(c=>c.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===i?.type&&ts(n.doc,t.pos)&&n.join(t.pos),!0},th=(n,e)=>{const t=mp(c=>c.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===i?.type&&ts(n.doc,r)&&n.join(r),!0},$j=(n,e,t,r={})=>({editor:i,tr:a,state:c,dispatch:f,chain:d,commands:h,can:m})=>{const{extensions:b,splittableMarks:x}=i.extensionManager,S=ht(n,c.schema),v=ht(e,c.schema),{selection:N,storedMarks:C}=c,{$from:T,$to:_}=N,q=T.blockRange(_),K=C||N.$to.parentOffset&&N.$from.marks();if(!q)return!1;const $=mp(Z=>Kb(Z.type.name,b))(N);if(q.depth>=1&&$&&q.depth-$.depth<=1){if($.node.type===S)return h.liftListItem(v);if(Kb($.node.type.name,b)&&S.validContent($.node.content)&&f)return d().command(()=>(a.setNodeMarkup($.pos,S),!0)).command(()=>eh(a,S)).command(()=>th(a,S)).run()}return!t||!K||!f?d().command(()=>m().wrapInList(S,r)?!0:h.clearNodes()).wrapInList(S,r).command(()=>eh(a,S)).command(()=>th(a,S)).run():d().command(()=>{const Z=m().wrapInList(S,r),Y=K.filter(z=>x.includes(z.type.name));return a.ensureMarks(Y),Z?!0:h.clearNodes()}).wrapInList(S,r).command(()=>eh(a,S)).command(()=>th(a,S)).run()},Fj=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:a=!1}=t,c=rs(n,r.schema);return Rh(r,c,e)?i.unsetMark(c,{extendEmptyMarkRange:a}):i.setMark(c,e)},Yj=(n,e,t={})=>({state:r,commands:i})=>{const a=ht(n,r.schema),c=ht(e,r.schema),f=Na(r,a,t);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),f?i.setNode(c,d):i.setNode(a,{...d,...t})},Gj=(n,e={})=>({state:t,commands:r})=>{const i=ht(n,t.schema);return Na(t,i,e)?r.lift(i):r.wrapIn(i,e)},Kj=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let a;if(i.spec.isInputRules&&(a=i.getState(n))){if(e){const c=n.tr,f=a.transform;for(let d=f.steps.length-1;d>=0;d-=1)c.step(f.steps[d].invert(f.docs[d]));if(a.text){const d=c.doc.resolve(a.from).marks();c.replaceWith(a.from,a.to,n.schema.text(a.text,d))}else c.delete(a.from,a.to)}return!0}}return!1},Jj=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(a=>{n.removeMark(a.$from.pos,a.$to.pos)}),!0},Xj=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var a;const{extendEmptyMarkRange:c=!1}=e,{selection:f}=t,d=rs(n,r.schema),{$from:h,empty:m,ranges:b}=f;if(!i)return!0;if(m&&c){let{from:x,to:S}=f;const v=(a=h.marks().find(C=>C.type===d))===null||a===void 0?void 0:a.attrs,N=hp(h,d,v);N&&(x=N.from,S=N.to),t.removeMark(x,S,d)}else b.forEach(x=>{t.removeMark(x.$from.pos,x.$to.pos,d)});return t.removeStoredMark(d),!0},Wj=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let a=null,c=null;const f=su(typeof n=="string"?n:n.name,r.schema);return f?(f==="node"&&(a=ht(n,r.schema)),f==="mark"&&(c=rs(n,r.schema)),i&&t.selection.ranges.forEach(d=>{const h=d.$from.pos,m=d.$to.pos;let b,x,S,v;t.selection.empty?r.doc.nodesBetween(h,m,(N,C)=>{a&&a===N.type&&(S=Math.max(C,h),v=Math.min(C+N.nodeSize,m),b=C,x=N)}):r.doc.nodesBetween(h,m,(N,C)=>{C<h&&a&&a===N.type&&(S=Math.max(C,h),v=Math.min(C+N.nodeSize,m),b=C,x=N),C>=h&&C<=m&&(a&&a===N.type&&t.setNodeMarkup(C,void 0,{...N.attrs,...e}),c&&N.marks.length&&N.marks.forEach(T=>{if(c===T.type){const _=Math.max(C,h),q=Math.min(C+N.nodeSize,m);t.addMark(_,q,c.create({...T.attrs,...e}))}}))}),x&&(b!==void 0&&t.setNodeMarkup(b,void 0,{...x.attrs,...e}),c&&x.marks.length&&x.marks.forEach(N=>{c===N.type&&t.addMark(S,v,c.create({...N.attrs,...e}))}))}),!0):!1},Qj=(n,e={})=>({state:t,dispatch:r})=>{const i=ht(n,t.schema);return pD(i,e)(t,r)},Zj=(n,e={})=>({state:t,dispatch:r})=>{const i=ht(n,t.schema);return mD(i,e)(t,r)};var eR=Object.freeze({__proto__:null,blur:HD,clearContent:UD,clearNodes:qD,command:VD,createParagraphNear:PD,cut:ID,deleteCurrentNode:$D,deleteNode:FD,deleteRange:YD,deleteSelection:GD,enter:KD,exitCode:JD,extendMarkRange:XD,first:WD,focus:ZD,forEach:ej,insertContent:tj,insertContentAt:sj,joinBackward:aj,joinDown:lj,joinForward:oj,joinItemBackward:cj,joinItemForward:uj,joinTextblockBackward:fj,joinTextblockForward:dj,joinUp:ij,keyboardShortcut:pj,lift:mj,liftEmptyBlock:gj,liftListItem:yj,newlineInCode:bj,resetAttributes:xj,scrollIntoView:vj,selectAll:Sj,selectNodeBackward:wj,selectNodeForward:Nj,selectParentNode:Cj,selectTextblockEnd:Ej,selectTextblockStart:Tj,setContent:Mj,setMark:zj,setMeta:Lj,setNode:Hj,setNodeSelection:Uj,setTextSelection:qj,sinkListItem:Vj,splitBlock:Pj,splitListItem:Ij,toggleList:$j,toggleMark:Fj,toggleNode:Yj,toggleWrap:Gj,undoInputRule:Kj,unsetAllMarks:Jj,unsetMark:Xj,updateAttributes:Wj,wrapIn:Qj,wrapInList:Zj});const tR=St.create({name:"commands",addCommands(){return{...eR}}}),nR=St.create({name:"drop",addProseMirrorPlugins(){return[new $t({key:new qn("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),rR=St.create({name:"editable",addProseMirrorPlugins(){return[new $t({key:new qn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),sR=new qn("focusEvents"),iR=St.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new $t({key:sR,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),lR=St.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:f})=>{const{selection:d,doc:h}=f,{empty:m,$anchor:b}=d,{pos:x,parent:S}=b,v=b.parent.isTextblock&&x>0?f.doc.resolve(x-1):b,N=v.parent.type.spec.isolating,C=b.pos-b.parentOffset,T=N&&v.parent.childCount===1?C===b.pos:ye.atStart(h).from===x;return!m||!S.type.isTextblock||S.textContent.length||!T||T&&b.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},a={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return pp()||Pv()?a:i},addProseMirrorPlugins(){return[new $t({key:new qn("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(N=>N.getMeta("composition")))return;const r=n.some(N=>N.docChanged)&&!e.doc.eq(t.doc),i=n.some(N=>N.getMeta("preventClearDocument"));if(!r||i)return;const{empty:a,from:c,to:f}=e.selection,d=ye.atStart(e.doc).from,h=ye.atEnd(e.doc).to;if(a||!(c===d&&f===h)||!gp(t.doc))return;const x=t.tr,S=Zc({state:t,transaction:x}),{commands:v}=new eu({editor:this.editor,state:S});if(v.clearNodes(),!!x.steps.length)return x}})]}}),aR=St.create({name:"paste",addProseMirrorPlugins(){return[new $t({key:new qn("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),oR=St.create({name:"tabindex",addProseMirrorPlugins(){return[new $t({key:new qn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Ts{get name(){return this.node.type.name}constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Ts(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ts(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ts(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,a=t.isAtom&&!t.isText,c=this.pos+r+(a?0:1);if(c<0||c>this.resolvedPos.doc.nodeSize-2)return;const f=this.resolvedPos.doc.resolve(c);if(!i&&f.depth<=this.depth)return;const d=new Ts(f,this.editor,i,i?t:null);i&&(d.actualDepth=this.depth+1),e.push(new Ts(f,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const a=i.node.attrs,c=Object.keys(t);for(let f=0;f<c.length;f+=1){const d=c[f];if(a[d]!==t[d])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const a=Object.keys(t);return this.children.forEach(c=>{r&&i.length>0||(c.node.type.name===e&&a.every(d=>t[d]===c.node.attrs[d])&&i.push(c),!(r&&i.length>0)&&(i=i.concat(c.querySelectorAll(e,t,r))))}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const cR=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function uR(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}class fR extends wD{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:i})=>this.options.onDrop(t,r,i)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=uR(cR,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=Bv(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(a=>{const c=typeof a=="string"?`${a}$`:a.key;r=r.filter(f=>!f.key.startsWith(c))}),t.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,t;const i=[...this.options.enableCoreExtensions?[rR,LD.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),tR,iR,lR,oR,nR,aR].filter(a=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[a.name]!==!1:!0):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(a?.type));this.extensionManager=new Li(i,this)}createCommandManager(){this.commandManager=new eu({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=jh(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(c){if(!(c instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(c.message))throw c;this.emit("contentError",{editor:this,error:c,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(f=>f.name!=="collaboration"),this.createExtensionManager()}}),t=jh(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=qv(t,this.options.autofocus);this.view=new vv(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:zi.create({doc:t,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const a=this.view.dom;a.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(c=>{var f;return(f=this.capturedTransaction)===null||f===void 0?void 0:f.step(c)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),a=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),a&&this.emit("blur",{editor:this,event:a.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return jj(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,i=typeof e=="string"?t:e;return Rj(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return fp(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return Aj(this.state.doc,{blockSeparator:t,textSerializers:{...Lv(this.schema),...r}})}get isEmpty(){return gp(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Ts(t,this)}get $doc(){return this.$pos(0)}}function Ps(n){return new nu({find:n.find,handler:({state:e,range:t,match:r})=>{const i=xe(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:a}=e,c=r[r.length-1],f=r[0];if(c){const d=f.search(/\S/),h=t.from+f.indexOf(c),m=h+c.length;if($v(t.from,t.to,e.doc).filter(S=>S.mark.type.excluded.find(N=>N===n.type&&N!==S.mark.type)).filter(S=>S.to>h).length)return null;m<t.to&&a.delete(m,t.to),h>t.from&&a.delete(t.from+d,h);const x=t.from+d+c.length;a.addMark(t.from+d,x,n.type.create(i||{})),a.removeStoredMark(n.type)}}})}function Fv(n){return new nu({find:n.find,handler:({state:e,range:t,match:r})=>{const i=xe(n.getAttributes,void 0,r)||{},{tr:a}=e,c=t.from;let f=t.to;const d=n.type.create(i);if(r[1]){const h=r[0].lastIndexOf(r[1]);let m=c+h;m>f?m=f:f=m+r[1].length;const b=r[0][r[0].length-1];a.insertText(b,c+r[0].length-1),a.replaceWith(m,f,d)}else if(r[0]){const h=n.type.isInline?c:c-1;a.insert(h,n.type.create(i)).delete(a.mapping.map(c),a.mapping.map(f))}a.scrollIntoView()}})}function _h(n){return new nu({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),a=xe(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,a)}})}function Ca(n){return new nu({find:n.find,handler:({state:e,range:t,match:r,chain:i})=>{const a=xe(n.getAttributes,void 0,r)||{},c=e.tr.delete(t.from,t.to),d=c.doc.resolve(t.from).blockRange(),h=d&&Jh(d,n.type,a);if(!h)return null;if(c.wrap(d,h),n.keepMarks&&n.editor){const{selection:b,storedMarks:x}=e,{splittableMarks:S}=n.editor.extensionManager,v=x||b.$to.parentOffset&&b.$from.marks();if(v){const N=v.filter(C=>S.includes(C.type.name));c.ensureMarks(N)}}if(n.keepAttributes){const b=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(b,a).run()}const m=c.doc.resolve(t.from-1).nodeBefore;m&&m.type===n.type&&ts(c.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,m))&&c.join(t.from-1)}})}class _t{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=xe(ne(this,"addOptions",{name:this.name}))),this.storage=xe(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new _t(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>ru(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new _t(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=xe(ne(t,"addOptions",{name:t.name})),t.storage=xe(ne(t,"addStorage",{name:t.name,options:t.options})),t}}function Is(n){return new DD({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:i})=>{const a=xe(n.getAttributes,void 0,r,i);if(a===!1||a===null)return null;const{tr:c}=e,f=r[r.length-1],d=r[0];let h=t.to;if(f){const m=d.search(/\S/),b=t.from+d.indexOf(f),x=b+f.length;if($v(t.from,t.to,e.doc).filter(v=>v.mark.type.excluded.find(C=>C===n.type&&C!==v.mark.type)).filter(v=>v.to>b).length)return null;x<t.to&&c.delete(x,t.to),b>t.from&&c.delete(t.from+m,b),h=t.from+m+f.length,c.addMark(t.from+m,h,n.type.create(a||{})),c.removeStoredMark(n.type)}}})}function dR(n,e){const{selection:t}=n,{$from:r}=t;if(t instanceof ie){const a=r.index();return r.parent.canReplaceWith(a,a+1,e)}let i=r.depth;for(;i>=0;){const a=r.index(i);if(r.node(i).contentMatchAt(a).matchType(e))return!0;i-=1}return!1}function hR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Yv={exports:{}},nh={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xb;function pR(){if(Xb)return nh;Xb=1;var n=At;function e(b,x){return b===x&&(b!==0||1/b===1/x)||b!==b&&x!==x}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,a=n.useLayoutEffect,c=n.useDebugValue;function f(b,x){var S=x(),v=r({inst:{value:S,getSnapshot:x}}),N=v[0].inst,C=v[1];return a(function(){N.value=S,N.getSnapshot=x,d(N)&&C({inst:N})},[b,S,x]),i(function(){return d(N)&&C({inst:N}),b(function(){d(N)&&C({inst:N})})},[b]),c(S),S}function d(b){var x=b.getSnapshot;b=b.value;try{var S=x();return!t(b,S)}catch{return!0}}function h(b,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:f;return nh.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,nh}Yv.exports=pR();var yp=Yv.exports;const mR=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},gR=({contentComponent:n})=>{const e=yp.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return At.createElement(At.Fragment,null,Object.values(e))};function yR(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:iE.createPortal(r.reactElement,r.element,t)},n.forEach(i=>i())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(i=>i())}}}class bR extends At.Component{constructor(e){var t;super(e),this.editorContentRef=At.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=yR(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return At.createElement(At.Fragment,null,At.createElement("div",{ref:mR(t,this.editorContentRef),...r}),e?.contentComponent&&At.createElement(gR,{contentComponent:e.contentComponent}))}}const xR=M.forwardRef((n,e)=>{const t=At.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return At.createElement(bR,{key:t,innerRef:e,...n})}),vR=At.memo(xR);var SR=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!n(i[1],t.get(i[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[i]))return!1;for(i=r;i--!==0;){var c=a[i];if(!(c==="_owner"&&e.$$typeof)&&!n(e[c],t[c]))return!1}return!0}return e!==e&&t!==t},wR=hR(SR),Gv={exports:{}},rh={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function NR(){if(Wb)return rh;Wb=1;var n=At,e=yp;function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,a=n.useRef,c=n.useEffect,f=n.useMemo,d=n.useDebugValue;return rh.useSyncExternalStoreWithSelector=function(h,m,b,x,S){var v=a(null);if(v.current===null){var N={hasValue:!1,value:null};v.current=N}else N=v.current;v=f(function(){function T(Z){if(!_){if(_=!0,q=Z,Z=x(Z),S!==void 0&&N.hasValue){var Y=N.value;if(S(Y,Z))return K=Y}return K=Z}if(Y=K,r(q,Z))return Y;var z=x(Z);return S!==void 0&&S(Y,z)?Y:(q=Z,K=z)}var _=!1,q,K,$=b===void 0?null:b;return[function(){return T(m())},$===null?void 0:function(){return T($())}]},[m,b,x,S]);var C=i(h,v[0],v[1]);return c(function(){N.hasValue=!0,N.value=C},[C]),d(C),C},rh}Gv.exports=NR();var CR=Gv.exports;const ER=typeof window<"u"?M.useLayoutEffect:M.useEffect;class TR{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function MR(n){var e;const[t]=M.useState(()=>new TR(n.editor)),r=CR.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:wR);return ER(()=>t.watch(n.editor),[n.editor,t]),M.useDebugValue(r),r}const kR=!1,Bh=typeof window>"u",OR=Bh||!!(typeof window<"u"&&window.next);class bp{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Bh||OR?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,a;return(a=(i=this.options.current).onBeforeCreate)===null||a===void 0?void 0:a.call(i,...r)},onBlur:(...r)=>{var i,a;return(a=(i=this.options.current).onBlur)===null||a===void 0?void 0:a.call(i,...r)},onCreate:(...r)=>{var i,a;return(a=(i=this.options.current).onCreate)===null||a===void 0?void 0:a.call(i,...r)},onDestroy:(...r)=>{var i,a;return(a=(i=this.options.current).onDestroy)===null||a===void 0?void 0:a.call(i,...r)},onFocus:(...r)=>{var i,a;return(a=(i=this.options.current).onFocus)===null||a===void 0?void 0:a.call(i,...r)},onSelectionUpdate:(...r)=>{var i,a;return(a=(i=this.options.current).onSelectionUpdate)===null||a===void 0?void 0:a.call(i,...r)},onTransaction:(...r)=>{var i,a;return(a=(i=this.options.current).onTransaction)===null||a===void 0?void 0:a.call(i,...r)},onUpdate:(...r)=>{var i,a;return(a=(i=this.options.current).onUpdate)===null||a===void 0?void 0:a.call(i,...r)},onContentError:(...r)=>{var i,a;return(a=(i=this.options.current).onContentError)===null||a===void 0?void 0:a.call(i,...r)},onDrop:(...r)=>{var i,a;return(a=(i=this.options.current).onDrop)===null||a===void 0?void 0:a.call(i,...r)},onPaste:(...r)=>{var i,a;return(a=(i=this.options.current).onPaste)===null||a===void 0?void 0:a.call(i,...r)}};return new fR(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((i,a)=>{var c;return i===((c=t.extensions)===null||c===void 0?void 0:c[a])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?bp.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function AR(n={},e=[]){const t=M.useRef(n);t.current=n;const[r]=M.useState(()=>new bp(t)),i=yp.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return M.useDebugValue(i),M.useEffect(r.onRender(e)),MR({editor:i,selector:({transactionNumber:a})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&a===0?0:a+1}),i}const DR=M.createContext({editor:null});DR.Consumer;const jR=M.createContext({onDragStart:void 0}),RR=()=>M.useContext(jR);At.forwardRef((n,e)=>{const{onDragStart:t}=RR(),r=n.as||"div";return At.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});const _R=/^\s*>\s$/,BR=_t.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",pt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ca({find:_R,type:this.type})]}}),zR=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,LR=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,HR=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,UR=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,qR=Hn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",pt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ps({find:zR,type:this.type}),Ps({find:HR,type:this.type})]},addPasteRules(){return[Is({find:LR,type:this.type}),Is({find:UR,type:this.type})]}}),VR="listItem",Qb="textStyle",Zb=/^\s*([-+*])\s$/,PR=_t.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",pt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(VR,this.editor.getAttributes(Qb)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Ca({find:Zb,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Ca({find:Zb,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Qb),editor:this.editor})),[n]}}),IR=/(^|[^`])`([^`]+)`(?!`)/,$R=/(^|[^`])`([^`]+)`(?!`)/g,FR=Hn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",pt(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ps({find:IR,type:this.type})]},addPasteRules(){return[Is({find:$R,type:this.type})]}}),YR=/^```([a-z]+)?[\s\n]$/,GR=/^~~~([a-z]+)?[\s\n]$/,KR=_t.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,a=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(c=>c.startsWith(t)).map(c=>c.replace(t,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",pt(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type)return!1;const a=r.parentOffset===r.parent.nodeSize-2,c=r.parent.textContent.endsWith(`

`);return!a||!c?!1:n.chain().command(({tr:f})=>(f.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:a}=t;if(!a||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const f=i.after();return f===void 0?!1:r.nodeAt(f)?n.commands.command(({tr:h})=>(h.setSelection(ye.near(r.resolve(f))),!0)):n.commands.exitCode()}}},addInputRules(){return[_h({find:YR,type:this.type,getAttributes:n=>({language:n[1]})}),_h({find:GR,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new $t({key:new qn("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,a=i?.mode;if(!t||!a)return!1;const{tr:c,schema:f}=n.state,d=f.text(t.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:a},d)),c.selection.$from.parent.type!==this.type&&c.setSelection(he.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),n.dispatch(c),!0}}})]}}),JR=_t.create({name:"doc",topNode:!0,content:"block+"});function XR(n={}){return new $t({view(e){return new WR(e,n)}})}class WR{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let a=c=>{this[i](c)};return e.dom.addEventListener(i,a),{name:i,handler:a}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,i=this.editorView.dom,a=i.getBoundingClientRect(),c=a.width/i.offsetWidth,f=a.height/i.offsetHeight;if(t){let b=e.nodeBefore,x=e.nodeAfter;if(b||x){let S=this.editorView.nodeDOM(this.cursorPos-(b?b.nodeSize:0));if(S){let v=S.getBoundingClientRect(),N=b?v.bottom:v.top;b&&x&&(N=(N+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let C=this.width/2*f;r={left:v.left,right:v.right,top:N-C,bottom:N+C}}}}if(!r){let b=this.editorView.coordsAtPos(this.cursorPos),x=this.width/2*c;r={left:b.left-x,right:b.left+x,top:b.top,bottom:b.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let h,m;if(!d||d==document.body&&getComputedStyle(d).position=="static")h=-pageXOffset,m=-pageYOffset;else{let b=d.getBoundingClientRect(),x=b.width/d.offsetWidth,S=b.height/d.offsetHeight;h=b.left-d.scrollLeft*x,m=b.top-d.scrollTop*S}this.element.style.left=(r.left-h)/c+"px",this.element.style.top=(r.top-m)/f+"px",this.element.style.width=(r.right-r.left)/c+"px",this.element.style.height=(r.bottom-r.top)/f+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,a=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!a){let c=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let f=_1(this.editorView.state.doc,c,this.editorView.dragging.slice);f!=null&&(c=f)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const QR=St.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[XR(this.options)]}});class Ge extends ye{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return Ge.valid(r)?new Ge(r):ye.near(r)}content(){return Q.empty}eq(e){return e instanceof Ge&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ge(e.resolve(t.pos))}getBookmark(){return new xp(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!ZR(e)||!e_(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&Ge.valid(e))return e;let i=e.pos,a=null;for(let c=e.depth;;c--){let f=e.node(c);if(t>0?e.indexAfter(c)<f.childCount:e.index(c)>0){a=f.child(t>0?e.indexAfter(c):e.index(c)-1);break}else if(c==0)return null;i+=t;let d=e.doc.resolve(i);if(Ge.valid(d))return d}for(;;){let c=t>0?a.firstChild:a.lastChild;if(!c){if(a.isAtom&&!a.isText&&!ie.isSelectable(a)){e=e.doc.resolve(i+a.nodeSize*t),r=!1;continue e}break}a=c,i+=t;let f=e.doc.resolve(i);if(Ge.valid(f))return f}return null}}}Ge.prototype.visible=!1;Ge.findFrom=Ge.findGapCursorFrom;ye.jsonID("gapcursor",Ge);class xp{constructor(e){this.pos=e}map(e){return new xp(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Ge.valid(t)?new Ge(t):ye.near(t)}}function ZR(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function e_(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function t_(){return new $t({props:{decorations:i_,createSelectionBetween(n,e,t){return e.pos==t.pos&&Ge.valid(t)?new Ge(t):null},handleClick:r_,handleKeyDown:n_,handleDOMEvents:{beforeinput:s_}}})}const n_=Sv({ArrowLeft:oc("horiz",-1),ArrowRight:oc("horiz",1),ArrowUp:oc("vert",-1),ArrowDown:oc("vert",1)});function oc(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,a){let c=r.selection,f=e>0?c.$to:c.$from,d=c.empty;if(c instanceof he){if(!a.endOfTextblock(t)||f.depth==0)return!1;d=!1,f=r.doc.resolve(e>0?f.after():f.before())}let h=Ge.findGapCursorFrom(f,e,d);return h?(i&&i(r.tr.setSelection(new Ge(h))),!0):!1}}function r_(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!Ge.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&ie.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new Ge(r))),!0)}function s_(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof Ge))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=G.empty;for(let c=r.length-1;c>=0;c--)i=G.from(r[c].createAndFill(null,i));let a=n.state.tr.replace(t.pos,t.pos,new Q(i,0,0));return a.setSelection(he.near(a.doc.resolve(t.pos+1))),n.dispatch(a),!1}function i_(n){if(!(n.selection instanceof Ge))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",nt.create(n.doc,[gn.widget(n.selection.head,e,{key:"gapcursor"})])}const l_=St.create({name:"gapCursor",addProseMirrorPlugins(){return[t_()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=xe(ne(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),a_=_t.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",pt(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:a}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:f}=r.extensionManager,d=a||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:m})=>{if(m&&d&&c){const b=d.filter(x=>f.includes(x.type.name));h.ensureMarks(b)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),o_=_t.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,pt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>_h({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var _c=200,dt=function(){};dt.prototype.append=function(e){return e.length?(e=dt.from(e),!this.length&&e||e.length<_c&&this.leafAppend(e)||this.length<_c&&e.leafPrepend(this)||this.appendInner(e)):this};dt.prototype.prepend=function(e){return e.length?dt.from(e).append(this):this};dt.prototype.appendInner=function(e){return new c_(this,e)};dt.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?dt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};dt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};dt.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};dt.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(a,c){return i.push(e(a,c))},t,r),i};dt.from=function(e){return e instanceof dt?e:e&&e.length?new Kv(e):dt.empty};var Kv=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,a){return i==0&&a==this.length?this:new e(this.values.slice(i,a))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,a,c,f){for(var d=a;d<c;d++)if(i(this.values[d],f+d)===!1)return!1},e.prototype.forEachInvertedInner=function(i,a,c,f){for(var d=a-1;d>=c;d--)if(i(this.values[d],f+d)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=_c)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=_c)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(dt);dt.empty=new Kv([]);var c_=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,a,c){var f=this.left.length;if(i<f&&this.left.forEachInner(r,i,Math.min(a,f),c)===!1||a>f&&this.right.forEachInner(r,Math.max(i-f,0),Math.min(this.length,a)-f,c+f)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,a,c){var f=this.left.length;if(i>f&&this.right.forEachInvertedInner(r,i-f,Math.max(a,f)-f,c+f)===!1||a<f&&this.left.forEachInvertedInner(r,Math.min(i,f),a,c)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var a=this.left.length;return i<=a?this.left.slice(r,i):r>=a?this.right.slice(r-a,i-a):this.left.slice(r,a).append(this.right.slice(0,i-a))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(dt);const u_=500;class wn{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,a;t&&(i=this.remapping(r,this.items.length),a=i.maps.length);let c=e.tr,f,d,h=[],m=[];return this.items.forEach((b,x)=>{if(!b.step){i||(i=this.remapping(r,x+1),a=i.maps.length),a--,m.push(b);return}if(i){m.push(new Rn(b.map));let S=b.step.map(i.slice(a)),v;S&&c.maybeStep(S).doc&&(v=c.mapping.maps[c.mapping.maps.length-1],h.push(new Rn(v,void 0,void 0,h.length+m.length))),a--,v&&i.appendMap(v,a)}else c.maybeStep(b.step);if(b.selection)return f=i?b.selection.map(i.slice(a)):b.selection,d=new wn(this.items.slice(0,r).append(m.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:c,selection:f}}addTransform(e,t,r,i){let a=[],c=this.eventCount,f=this.items,d=!i&&f.length?f.get(f.length-1):null;for(let m=0;m<e.steps.length;m++){let b=e.steps[m].invert(e.docs[m]),x=new Rn(e.mapping.maps[m],b,t),S;(S=d&&d.merge(x))&&(x=S,m?a.pop():f=f.slice(0,f.length-1)),a.push(x),t&&(c++,t=void 0),i||(d=x)}let h=c-r.depth;return h>d_&&(f=f_(f,h),c-=h),new wn(f.append(a),c)}remapping(e,t){let r=new ya;return this.items.forEach((i,a)=>{let c=i.mirrorOffset!=null&&a-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,c)},e,t),r}addMaps(e){return this.eventCount==0?this:new wn(this.items.append(e.map(t=>new Rn(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),a=e.mapping,c=e.steps.length,f=this.eventCount;this.items.forEach(x=>{x.selection&&f--},i);let d=t;this.items.forEach(x=>{let S=a.getMirror(--d);if(S==null)return;c=Math.min(c,S);let v=a.maps[S];if(x.step){let N=e.steps[S].invert(e.docs[S]),C=x.selection&&x.selection.map(a.slice(d+1,S));C&&f++,r.push(new Rn(v,N,C))}else r.push(new Rn(v))},i);let h=[];for(let x=t;x<c;x++)h.push(new Rn(a.maps[x]));let m=this.items.slice(0,i).append(h).append(r),b=new wn(m,f);return b.emptyItemCount()>u_&&(b=b.compress(this.items.length-r.length)),b}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],a=0;return this.items.forEach((c,f)=>{if(f>=e)i.push(c),c.selection&&a++;else if(c.step){let d=c.step.map(t.slice(r)),h=d&&d.getMap();if(r--,h&&t.appendMap(h,r),d){let m=c.selection&&c.selection.map(t.slice(r));m&&a++;let b=new Rn(h.invert(),d,m),x,S=i.length-1;(x=i.length&&i[S].merge(b))?i[S]=x:i.push(b)}}else c.map&&r--},this.items.length,0),new wn(dt.from(i.reverse()),a)}}wn.empty=new wn(dt.empty,0);function f_(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class Rn{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Rn(t.getMap().invert(),t,this.selection)}}}class Ir{constructor(e,t,r,i,a){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=a}}const d_=20;function h_(n,e,t,r){let i=t.getMeta(zs),a;if(i)return i.historyState;t.getMeta(g_)&&(n=new Ir(n.done,n.undone,null,0,-1));let c=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(c&&c.getMeta(zs))return c.getMeta(zs).redo?new Ir(n.done.addTransform(t,void 0,r,yc(e)),n.undone,ex(t.mapping.maps),n.prevTime,n.prevComposition):new Ir(n.done,n.undone.addTransform(t,void 0,r,yc(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let f=t.getMeta("composition"),d=n.prevTime==0||!c&&n.prevComposition!=f&&(n.prevTime<(t.time||0)-r.newGroupDelay||!p_(t,n.prevRanges)),h=c?sh(n.prevRanges,t.mapping):ex(t.mapping.maps);return new Ir(n.done.addTransform(t,d?e.selection.getBookmark():void 0,r,yc(e)),wn.empty,h,t.time,f??n.prevComposition)}else return(a=t.getMeta("rebased"))?new Ir(n.done.rebased(t,a),n.undone.rebased(t,a),sh(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Ir(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),sh(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function p_(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let a=0;a<e.length;a+=2)r<=e[a+1]&&i>=e[a]&&(t=!0)}),t}function ex(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,a,c)=>e.push(a,c));return e}function sh(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),a=e.map(n[r+1],-1);i<=a&&t.push(i,a)}return t}function m_(n,e,t){let r=yc(e),i=zs.get(e).spec.config,a=(t?n.undone:n.done).popEvent(e,r);if(!a)return null;let c=a.selection.resolve(a.transform.doc),f=(t?n.done:n.undone).addTransform(a.transform,e.selection.getBookmark(),i,r),d=new Ir(t?f:a.remaining,t?a.remaining:f,null,0,-1);return a.transform.setSelection(c).setMeta(zs,{redo:t,historyState:d})}let ih=!1,tx=null;function yc(n){let e=n.plugins;if(tx!=e){ih=!1,tx=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){ih=!0;break}}return ih}const zs=new qn("history"),g_=new qn("closeHistory");function y_(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new $t({key:zs,state:{init(){return new Ir(wn.empty,wn.empty,null,0,-1)},apply(e,t,r){return h_(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?Xv:r=="historyRedo"?Wv:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function Jv(n,e){return(t,r)=>{let i=zs.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let a=m_(i,t,n);a&&r(e?a.scrollIntoView():a)}return!0}}const Xv=Jv(!1,!0),Wv=Jv(!0,!0),b_=St.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>Xv(n,e),redo:()=>({state:n,dispatch:e})=>Wv(n,e)}},addProseMirrorPlugins(){return[y_(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),x_=_t.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",pt(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{if(!dR(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$from:r,$to:i}=t,a=n();return r.parentOffset===0?a.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):_j(t)?a.insertContentAt(i.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({tr:c,dispatch:f})=>{var d;if(f){const{$to:h}=c.selection,m=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?c.setSelection(he.create(c.doc,h.pos+1)):h.nodeAfter.isBlock?c.setSelection(ie.create(c.doc,h.pos)):c.setSelection(he.create(c.doc,h.pos));else{const b=(d=h.parent.type.contentMatch.defaultType)===null||d===void 0?void 0:d.create();b&&(c.insert(m,b),c.setSelection(he.create(c.doc,m+1)))}c.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Fv({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),v_=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,S_=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,w_=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,N_=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,C_=Hn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",pt(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ps({find:v_,type:this.type}),Ps({find:w_,type:this.type})]},addPasteRules(){return[Is({find:S_,type:this.type}),Is({find:N_,type:this.type})]}}),E_=_t.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",pt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),T_="listItem",nx="textStyle",rx=/^(\d+)\.\s$/,M_=_t.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",pt(this.options.HTMLAttributes,t),0]:["ol",pt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(T_,this.editor.getAttributes(nx)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Ca({find:rx,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Ca({find:rx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(nx)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),k_=_t.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",pt(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),O_=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,A_=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,D_=Hn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",pt(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ps({find:O_,type:this.type})]},addPasteRules(){return[Is({find:A_,type:this.type})]}}),j_=_t.create({name:"text",group:"inline"}),R_=St.create({name:"starterKit",addExtensions(){const n=[];return this.options.bold!==!1&&n.push(qR.configure(this.options.bold)),this.options.blockquote!==!1&&n.push(BR.configure(this.options.blockquote)),this.options.bulletList!==!1&&n.push(PR.configure(this.options.bulletList)),this.options.code!==!1&&n.push(FR.configure(this.options.code)),this.options.codeBlock!==!1&&n.push(KR.configure(this.options.codeBlock)),this.options.document!==!1&&n.push(JR.configure(this.options.document)),this.options.dropcursor!==!1&&n.push(QR.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&n.push(l_.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&n.push(a_.configure(this.options.hardBreak)),this.options.heading!==!1&&n.push(o_.configure(this.options.heading)),this.options.history!==!1&&n.push(b_.configure(this.options.history)),this.options.horizontalRule!==!1&&n.push(x_.configure(this.options.horizontalRule)),this.options.italic!==!1&&n.push(C_.configure(this.options.italic)),this.options.listItem!==!1&&n.push(E_.configure(this.options.listItem)),this.options.orderedList!==!1&&n.push(M_.configure(this.options.orderedList)),this.options.paragraph!==!1&&n.push(k_.configure(this.options.paragraph)),this.options.strike!==!1&&n.push(D_.configure(this.options.strike)),this.options.text!==!1&&n.push(j_.configure(this.options.text)),n}}),__=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,B_=_t.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:n}){return["img",pt(this.options.HTMLAttributes,n)]},addCommands(){return{setImage:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addInputRules(){return[Fv({find:__,type:this.type,getAttributes:n=>{const[,,e,t,r]=n;return{src:t,alt:e,title:r}}})]}}),z_=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,L_=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,H_=Hn.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:n=>n.getAttribute("data-color")||n.style.backgroundColor,renderHTML:n=>n.color?{"data-color":n.color,style:`background-color: ${n.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:n}){return["mark",pt(this.options.HTMLAttributes,n),0]},addCommands(){return{setHighlight:n=>({commands:e})=>e.setMark(this.name,n),toggleHighlight:n=>({commands:e})=>e.toggleMark(this.name,n),unsetHighlight:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Ps({find:z_,type:this.type})]},addPasteRules(){return[Is({find:L_,type:this.type})]}}),U_=n=>{if(!n.children.length)return;const e=n.querySelectorAll("span");e&&e.forEach(t=>{var r,i;const a=t.getAttribute("style"),c=(i=(r=t.parentElement)===null||r===void 0?void 0:r.closest("span"))===null||i===void 0?void 0:i.getAttribute("style");t.setAttribute("style",`${c};${a}`)})},q_=Hn.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&U_(n),{}):!1}]},renderHTML({HTMLAttributes:n}){return["span",pt(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:n})=>{const{selection:e}=n;return n.doc.nodesBetween(e.from,e.to,(t,r)=>{if(t.isTextblock)return!0;t.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(a=>!!a))||n.removeMark(r,r+t.nodeSize,this.type)}),!0}}}}),V_=St.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:n=>{var e;return(e=n.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:n=>n.color?{style:`color: ${n.color}`}:{}}}}]},addCommands(){return{setColor:n=>({chain:e})=>e().setMark("textStyle",{color:n}).run(),unsetColor:()=>({chain:n})=>n().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),P_=St.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:n=>{const e=n.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:n=>n.textAlign?{style:`text-align: ${n.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:n=>({commands:e})=>this.options.alignments.includes(n)?this.options.types.map(t=>e.updateAttributes(t,{textAlign:n})).every(t=>t):!1,unsetTextAlign:()=>({commands:n})=>this.options.types.map(e=>n.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:n=>({editor:e,commands:t})=>this.options.alignments.includes(n)?e.isActive({textAlign:n})?t.unsetTextAlign():t.setTextAlign(n):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),I_="_overlay_1b6df_5",$_="_modal_1b6df_25",F_="_heading_1b6df_75",Y_="_input_1b6df_87",G_="_textarea_1b6df_89",K_="_select_1b6df_91",J_="_button_1b6df_117",Sn={overlay:I_,modal:$_,heading:F_,input:Y_,textarea:G_,select:K_,button:J_},X_=["multipleChoice","written","scenario"];function iu({open:n,onClose:e,onSave:t,initialData:r=[]}){const[i,a]=M.useState([]),[c,f]=M.useState("multipleChoice"),[d,h]=M.useState({question:"",options:["","",""],correctIndex:0,wordLimit:150,imageUrl:""});M.useEffect(()=>{n&&(a(r),h({question:"",options:["","",""],correctIndex:0,wordLimit:150,imageUrl:""}))},[n,r]);const m=()=>d.question.trim()?c==="multipleChoice"?d.options.some(v=>v.trim()!==""):!0:!1,b=()=>{m()&&(a(S=>[...S,{type:c,...d}]),h({question:"",options:["","",""],correctIndex:0,wordLimit:150,imageUrl:""}))},x=()=>{const v=m()?[...i,{type:c,...d}]:i;t(v),e()};return n?y.jsx("div",{className:Sn.overlay,children:y.jsxs("div",{className:Sn.modal,children:[y.jsx("h2",{className:Sn.heading,children:" Build Assessment"}),y.jsx("label",{className:"block text-sm font-medium",children:"Question Type"}),y.jsx("select",{value:c,onChange:S=>f(S.target.value),className:Sn.select,children:X_.map(S=>y.jsx("option",{value:S,children:S},S))}),y.jsx("label",{className:"block text-sm font-medium mt-2",children:"Question Prompt"}),y.jsx("input",{type:"text",value:d.question,onChange:S=>h({...d,question:S.target.value}),className:Sn.input}),c==="multipleChoice"&&y.jsxs(y.Fragment,{children:[d.options.map((S,v)=>y.jsxs("div",{className:"mt-2",children:[y.jsxs("label",{className:"text-sm block font-medium",children:["Option ",v+1]}),y.jsx("input",{type:"text",value:S,onChange:N=>{const C=[...d.options];C[v]=N.target.value,h({...d,options:C})},className:Sn.input})]},v)),y.jsx("label",{className:"block text-sm font-medium mt-2",children:"Correct Answer"}),y.jsx("select",{value:d.correctIndex,onChange:S=>h({...d,correctIndex:parseInt(S.target.value)}),className:Sn.select,children:d.options.map((S,v)=>y.jsxs("option",{value:v,children:["Option ",v+1]},v))})]}),c==="written"&&y.jsxs(y.Fragment,{children:[y.jsx("label",{className:"block text-sm font-medium mt-2",children:"Word Limit"}),y.jsx("input",{type:"number",value:d.wordLimit,onChange:S=>h({...d,wordLimit:parseInt(S.target.value)}),className:Sn.input})]}),c==="scenario"&&y.jsxs(y.Fragment,{children:[y.jsx("label",{className:"block text-sm font-medium mt-2",children:"Image URL"}),y.jsx("input",{type:"text",value:d.imageUrl,onChange:S=>h({...d,imageUrl:S.target.value}),className:Sn.input}),y.jsx("label",{className:"block text-sm font-medium mt-2",children:"Scenario Description"}),y.jsx("textarea",{value:d.question,onChange:S=>h({...d,question:S.target.value}),className:Sn.textarea,rows:3})]}),y.jsxs("div",{className:"flex justify-between items-center mt-4",children:[y.jsx("button",{type:"button",onClick:b,className:"text-green-600 hover:underline text-sm",children:" Add Question"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancel"}),y.jsx("button",{onClick:x,className:Sn.button,children:" Save Assessment"})]})]})]})}):null}function W_({onSave:n,initialData:e={}}){const[t,r]=M.useState(e.title||""),[i,a]=M.useState(e.summary||""),[c,f]=M.useState(e.xp||10),[d,h]=M.useState(e.assessment||[]),[m,b]=M.useState(!1),x=!!e?.title,S=AR({extensions:[R_.configure({bulletList:{keepMarks:!0},heading:{levels:[1,2,3]}}),q_,V_.configure({types:["textStyle"]}),H_,P_.configure({types:["heading","paragraph"]}),B_],content:e.content||"<p>Start writing your chapter...</p>"});M.useEffect(()=>{const N=localStorage.getItem("chapterDraft");if(N&&!x&&S){const C=JSON.parse(N);r(C.title||""),a(C.summary||""),f(C.xp||10),h(C.assessment||[]),S.commands.setContent(C.content||"")}},[S]),M.useEffect(()=>{if(!x){const N={title:t,summary:i,content:S?.getHTML(),xp:c,assessment:d};localStorage.setItem("chapterDraft",JSON.stringify(N))}},[t,i,c,d,S?.getHTML()]);const v=N=>{if(N.preventDefault(),!t.trim()||!i.trim()||!S||d.length===0){alert("Please complete all fields and the assessment before saving.");return}const C={title:t,summary:i,content:S.getHTML(),xp:Number(c)||0,assessment:d};console.log(" Saving chapter:",C),n(C),x||localStorage.removeItem("chapterDraft"),r(""),a(""),f(10),h([]),S.commands.clearContent()};return y.jsxs("form",{onSubmit:v,className:"space-y-4",children:[y.jsx("input",{type:"text",placeholder:"Chapter Title",value:t,onChange:N=>r(N.target.value),className:"w-full border px-3 py-2 rounded",required:!0}),y.jsx("textarea",{placeholder:"Chapter Summary (what learners should expect)",value:i,onChange:N=>a(N.target.value),className:"w-full border px-3 py-2 rounded",rows:3,required:!0}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("label",{className:"text-sm font-medium",children:"XP Reward:"}),y.jsx("input",{type:"number",min:"0",value:c,onChange:N=>f(N.target.value),className:"w-24 border px-2 py-1 rounded"}),y.jsx("span",{className:"text-sm text-gray-500",children:"XP awarded on completion"})]}),y.jsxs("div",{className:"space-y-2 border-b pb-3",children:[y.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[y.jsx("span",{className:"font-semibold text-gray-700 w-20",children:"Font"}),y.jsx("button",{type:"button",onClick:()=>S.chain().focus().toggleBold().run(),className:"btn",children:"Bold"}),y.jsx("button",{type:"button",onClick:()=>S.chain().focus().toggleItalic().run(),className:"btn",children:"Italic"}),y.jsx("button",{type:"button",onClick:()=>S.chain().focus().toggleBulletList().run(),className:"btn",children:" List"}),y.jsx("button",{type:"button",onClick:()=>S.chain().focus().toggleHeading({level:1}).run(),className:"btn",children:"H1"}),y.jsx("button",{type:"button",onClick:()=>S.chain().focus().toggleHeading({level:2}).run(),className:"btn",children:"H2"}),y.jsx("button",{type:"button",onClick:()=>S.chain().focus().toggleHeading({level:3}).run(),className:"btn",children:"H3"})]}),y.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[y.jsx("span",{className:"font-semibold text-gray-700 w-20",children:"Color"}),y.jsx("button",{type:"button",onClick:()=>S.chain().focus().setColor("#e11d48").run(),className:"btn text-rose-600",children:"Red"}),y.jsx("button",{type:"button",onClick:()=>S.chain().focus().setColor("#2563eb").run(),className:"btn text-blue-600",children:"Blue"}),y.jsx("button",{type:"button",onClick:()=>S.chain().focus().setHighlight().run(),className:"btn bg-yellow-200",children:"Highlight"})]}),y.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[y.jsx("span",{className:"font-semibold text-gray-700 w-20",children:"Layout"}),y.jsx("button",{type:"button",onClick:()=>S.chain().focus().setTextAlign("left").run(),className:"btn",children:"Left"}),y.jsx("button",{type:"button",onClick:()=>S.chain().focus().setTextAlign("center").run(),className:"btn",children:"Center"}),y.jsx("button",{type:"button",onClick:()=>S.chain().focus().setTextAlign("right").run(),className:"btn",children:"Right"}),y.jsx("button",{type:"button",onClick:()=>S.chain().focus().toggleBlockquote().run(),className:"btn",children:"Quote"})]}),y.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[y.jsx("span",{className:"font-semibold text-gray-700 w-20",children:"Media"}),y.jsx("button",{type:"button",onClick:()=>{const N=prompt("Image URL");N&&S.chain().focus().setImage({src:N}).run()},className:"btn",children:"Image"}),y.jsx("button",{type:"button",onClick:()=>S.chain().focus().unsetAllMarks().clearNodes().run(),className:"btn text-gray-500",children:"Clear"})]})]}),y.jsx("div",{className:"border rounded p-2 bg-white",children:y.jsx(vR,{editor:S})}),y.jsxs("div",{className:"mt-6",children:[y.jsx("h3",{className:"text-md font-semibold",children:" Chapter Assessment"}),y.jsx("button",{type:"button",onClick:()=>b(!0),className:"text-blue-600 hover:underline",children:" Edit Assessment"}),d.length>0&&y.jsx("ul",{className:"mt-2 text-sm text-gray-700 list-disc pl-4",children:d.map((N,C)=>y.jsx("li",{children:N.question},C))}),y.jsx(iu,{open:m,onClose:()=>b(!1),onSave:N=>h(N),initialData:d})]}),y.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700",children:"Save Chapter"})]})}function Q_({chapter:n}){return n?y.jsxs("div",{className:"space-y-6",children:[y.jsx("h2",{className:"text-xl font-semibold",children:n.title}),y.jsx("p",{className:"text-gray-700",children:n.summary||"No summary provided."}),y.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:n.content||"<p>No content yet.</p>"}}),n.assessment?.length>0&&y.jsxs("div",{className:"mt-4",children:[y.jsx("h3",{className:"font-semibold text-gray-800",children:" Assessment"}),y.jsx("ul",{className:"list-disc pl-5 text-sm text-gray-700",children:n.assessment.map((e,t)=>y.jsxs("li",{children:[y.jsxs("strong",{children:["Q",t+1," (",e.type,"):"]})," ",e.question]},t))})]}),y.jsx("button",{className:"mt-2 px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Start Chapter"})]}):y.jsx("p",{className:"text-gray-500",children:"No chapter selected."})}const Z_=({data:n=[],courseId:e,refresh:t,onAddChapter:r,onSelectItem:i,onAddTerm:a,onAddTopic:c,onAddLesson:f})=>{const[d,h]=M.useState(null),[m,b]=M.useState(null),x=(C,T)=>d&&d.type===C&&JSON.stringify(d.indexes)===JSON.stringify(T),S=(C,T,_)=>{h({type:C,indexes:T}),i({type:C,item:_,indexes:T})},v=()=>b(null),N=async()=>{const{type:C,indexes:T}=m;{const _=[...n];C==="term"?_.splice(T.termIndex,1):C==="topic"?_[T.termIndex].topics.splice(T.topicIndex,1):C==="lesson"?_[T.termIndex].topics[T.topicIndex].lessons.splice(T.lessonIndex,1):C==="chapter"&&_[T.termIndex].topics[T.topicIndex].lessons[T.lessonIndex].chapters.splice(T.chapterIndex,1),t(_),v();return}};return y.jsxs("div",{className:"space-y-4 text-sm",children:[y.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[y.jsx("button",{onClick:a,className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded hover:bg-indigo-200",children:"Add Term"}),y.jsx("button",{disabled:d?.type!=="term",onClick:()=>{const{termIndex:C}=d?.indexes||{};c(C)},className:`px-3 py-1 rounded ${d?.type==="term"?"bg-indigo-100 text-indigo-700 hover:bg-indigo-200":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:"Add Topic"}),y.jsx("button",{disabled:d?.type!=="topic",onClick:()=>{const{termIndex:C,topicIndex:T}=d?.indexes||{};f(C,T)},className:`px-3 py-1 rounded ${d?.type==="topic"?"bg-indigo-100 text-indigo-700 hover:bg-indigo-200":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:"Add Lesson"}),y.jsx("button",{disabled:d?.type!=="lesson",onClick:()=>{const{termIndex:C,topicIndex:T,lessonIndex:_}=d?.indexes||{};r(C,T,_)},className:`px-3 py-1 rounded ${d?.type==="lesson"?"bg-indigo-100 text-indigo-700 hover:bg-indigo-200":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:"Add Chapter"})]}),n.map((C,T)=>y.jsxs("div",{className:"border-l-2 pl-2 space-y-1",children:[y.jsx("div",{className:`cursor-pointer ${x("term",{termIndex:T})?"text-indigo-600 font-semibold":"text-gray-800"}`,onClick:()=>S("term",{termIndex:T},C),children:C.title||`Term ${C.term}`}),C.topics?.map((_,q)=>y.jsxs("div",{className:"ml-4 border-l-2 pl-2 space-y-1",children:[y.jsx("div",{className:`cursor-pointer ${x("topic",{termIndex:T,topicIndex:q})?"text-indigo-600 font-semibold":"text-gray-700"}`,onClick:()=>S("topic",{termIndex:T,topicIndex:q},_),children:_.title}),_.lessons?.map((K,$)=>y.jsxs("div",{className:"ml-4 border-l-2 pl-2 space-y-1",children:[y.jsx("div",{className:`cursor-pointer ${x("lesson",{termIndex:T,topicIndex:q,lessonIndex:$})?"text-indigo-600 font-semibold":"text-gray-600"}`,onClick:()=>S("lesson",{termIndex:T,topicIndex:q,lessonIndex:$},K),children:K.title}),K.chapters?.map((Z,Y)=>y.jsx("div",{onClick:()=>S("chapter",{termIndex:T,topicIndex:q,lessonIndex:$,chapterIndex:Y},Z),className:`ml-4 pl-2 border-l-2 cursor-pointer ${x("chapter",{termIndex:T,topicIndex:q,lessonIndex:$,chapterIndex:Y})?"text-indigo-600 font-semibold":"text-gray-500"} hover:text-indigo-500`,children:Z.title},Y))]},$))]},q))]},T)),m?.mode==="delete"&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-50 flex items-center justify-center",children:y.jsxs("div",{className:"bg-white p-6 rounded max-w-md w-full space-y-4",children:[y.jsx("h2",{className:"text-lg font-semibold",children:"Confirm Deletion"}),y.jsxs("p",{children:["Are you sure you want to delete this ",m.type,"? This will also remove all nested items underneath it."]}),y.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[y.jsx("button",{onClick:v,className:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300",children:"Cancel"}),y.jsx("button",{onClick:N,className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",children:"Yes, Delete"})]})]})})]})};function e3({initialData:n={},onSubmit:e,onClose:t}){const[r,i]=M.useState(n.title||""),[a,c]=M.useState(n.summary||""),[f,d]=M.useState(n.assessment||[]),[h,m]=M.useState(!1),b=()=>{const x={...n,title:r,summary:a,assessment:f};console.log(" Saving term:",x),e(x),t()};return y.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-40 flex items-center justify-center",children:y.jsxs("div",{className:"bg-white p-6 rounded max-w-xl w-full space-y-4",children:[y.jsx("h2",{className:"text-lg font-semibold",children:"Edit Term"}),y.jsx("input",{type:"text",placeholder:"Term Title",value:r,onChange:x=>i(x.target.value),className:"w-full border px-3 py-2 rounded"}),y.jsx("textarea",{placeholder:"Summary",value:a,onChange:x=>c(x.target.value),className:"w-full border px-3 py-2 rounded",rows:3}),y.jsx("button",{type:"button",onClick:()=>m(!0),className:"text-sm text-indigo-600 hover:underline",children:" Edit Assessment"}),y.jsx(iu,{open:h,initialData:f,onClose:()=>m(!1),onSave:d}),y.jsxs("div",{className:"flex justify-end gap-2",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-300 rounded",children:"Cancel"}),y.jsx("button",{onClick:b,className:"px-4 py-2 bg-indigo-600 text-white rounded",children:"Save"})]})]})})}function t3({initialData:n={},onSubmit:e,onClose:t}){const[r,i]=M.useState(n.title||""),[a,c]=M.useState(n.summary||""),[f,d]=M.useState(n.assessment||[]),[h,m]=M.useState(!1),b=()=>{const x={...n,title:r,summary:a,assessment:f};console.log(" Saving topic:",x),e(x),t()};return y.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-40 flex items-center justify-center",children:y.jsxs("div",{className:"bg-white p-6 rounded max-w-xl w-full space-y-4",children:[y.jsx("h2",{className:"text-lg font-semibold",children:"Edit Topic"}),y.jsx("input",{type:"text",placeholder:"Topic Title",value:r,onChange:x=>i(x.target.value),className:"w-full border px-3 py-2 rounded"}),y.jsx("textarea",{placeholder:"Summary",value:a,onChange:x=>c(x.target.value),className:"w-full border px-3 py-2 rounded",rows:3}),y.jsx("button",{type:"button",onClick:()=>m(!0),className:"text-sm text-indigo-600 hover:underline",children:" Edit Assessment"}),y.jsx(iu,{open:h,initialData:f,onClose:()=>m(!1),onSave:d}),y.jsxs("div",{className:"flex justify-end gap-2",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-300 rounded",children:"Cancel"}),y.jsx("button",{onClick:b,className:"px-4 py-2 bg-indigo-600 text-white rounded",children:"Save"})]})]})})}function n3({initialData:n={},onSubmit:e,onClose:t}){const[r,i]=M.useState(n.title||""),[a,c]=M.useState(n.summary||""),[f,d]=M.useState(n.assessment||[]),[h,m]=M.useState(!1),b=()=>{const x={...n,title:r,summary:a,assessment:f};console.log(" Saving lesson:",x),e(x),t()};return y.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-40 flex items-center justify-center",children:y.jsxs("div",{className:"bg-white p-6 rounded max-w-xl w-full space-y-4",children:[y.jsx("h2",{className:"text-lg font-semibold",children:"Edit Lesson"}),y.jsx("input",{type:"text",placeholder:"Lesson Title",value:r,onChange:x=>i(x.target.value),className:"w-full border px-3 py-2 rounded"}),y.jsx("textarea",{placeholder:"Summary",value:a,onChange:x=>c(x.target.value),className:"w-full border px-3 py-2 rounded",rows:3}),y.jsx("button",{type:"button",onClick:()=>m(!0),className:"text-sm text-indigo-600 hover:underline",children:" Edit Assessment"}),y.jsx(iu,{open:h,initialData:f,onClose:()=>m(!1),onSave:d}),y.jsxs("div",{className:"flex justify-end gap-2",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-300 rounded",children:"Cancel"}),y.jsx("button",{onClick:b,className:"px-4 py-2 bg-indigo-600 text-white rounded",children:"Save"})]})]})})}const sx=!1,r3={_id:"lesson1",title:"Algebra Basics",terms:[{title:"Term 1",summary:"Foundations of Algebra",assessment:[],topics:[{title:"Expressions",summary:"Simplifying expressions",assessment:[],lessons:[{title:"Intro to Variables",summary:"What is a variable?",assessment:[],chapters:[{title:"Chapter 1",summary:"Understanding variables",content:"<p>Variables are symbols...</p>",xp:10,assessment:[]}]}]}]}]};function s3({lessonId:n}){const[e,t]=M.useState(null),[r,i]=M.useState(null),[a,c]=M.useState(null),[f,d]=M.useState(null),[h,m]=M.useState(null),[b,x]=M.useState(!1),[S,v]=M.useState(null),N=async()=>{{t(r3);return}};M.useEffect(()=>{N()},[n]);const C=async re=>{try{const{termIndex:ce,topicIndex:Ue,lessonIndex:Xe}=a;if(!sx){const U={...e};U.terms[ce].topics[Ue].lessons[Xe].chapters.push(re),t(U),x(!1),c(null),localStorage.removeItem("chapterDraft");return}const Ae=`/api/lessons/${n}/term/${ce}/topic/${Ue}/lesson/${Xe}/chapter`;await qe.post(Ae,re),x(!1),c(null),localStorage.removeItem("chapterDraft"),N()}catch(ce){console.error(" Failed to save chapter:",ce)}},T=async re=>{try{const{termIndex:ce,topicIndex:Ue,lessonIndex:Xe,chapterIndex:Ae}=r||{};if(typeof Ae!="number")return;if(!sx){const X={...e};X.terms[ce].topics[Ue].lessons[Xe].chapters[Ae]=re,t(X),x(!1),m(null),localStorage.removeItem("chapterDraft");return}const U=`/api/lessons/${n}/term/${ce}/topic/${Ue}/lesson/${Xe}/chapter/${Ae}`;await qe.patch(U,re),x(!1),m(null),localStorage.removeItem("chapterDraft"),N()}catch(ce){console.error(" Failed to update chapter:",ce)}},_=(re,ce,Ue)=>{c({termIndex:re,topicIndex:ce,lessonIndex:Ue}),x(!0),m(null),d(null)},q=()=>{v({mode:"create",type:"term",indexes:{},initialData:{title:"",summary:"",assessment:[]}})},K=re=>{v({mode:"create",type:"topic",indexes:{termIndex:re},initialData:{title:"",summary:"",assessment:[]}})},$=(re,ce)=>{v({mode:"create",type:"lesson",indexes:{termIndex:re,topicIndex:ce},initialData:{title:"",summary:"",assessment:[]}})},Z=(re,ce)=>{m(re),i({type:"chapter",item:re,...ce}),x(!0),d(null)},Y=re=>{d(re),x(!1),m(null)},z=()=>{x(!1),m(null),c(null),localStorage.removeItem("chapterDraft")},J=async()=>{const{type:re,indexes:ce}=S;{const Ue={...e};re==="term"?Ue.terms.splice(ce.termIndex,1):re==="topic"?Ue.terms[ce.termIndex].topics.splice(ce.topicIndex,1):re==="lesson"?Ue.terms[ce.termIndex].topics[ce.topicIndex].lessons.splice(ce.lessonIndex,1):re==="chapter"&&Ue.terms[ce.termIndex].topics[ce.topicIndex].lessons[ce.lessonIndex].chapters.splice(ce.chapterIndex,1),t(Ue),v(null);return}},le=async re=>{const{mode:ce,type:Ue,indexes:Xe}=S;{const Ae={...e};if(Ue==="term")ce==="edit"?Ae.terms[Xe.termIndex]=re:Ae.terms.push({...re,topics:[]});else if(Ue==="topic"){const U=Ae.terms[Xe.termIndex];U.topics||(U.topics=[]),ce==="edit"?U.topics[Xe.topicIndex]=re:U.topics.push({...re,lessons:[]})}else if(Ue==="lesson"){const U=Ae.terms[Xe.termIndex].topics[Xe.topicIndex];U.lessons||(U.lessons=[]),ce==="edit"?U.lessons[Xe.lessonIndex]=re:U.lessons.push({...re,chapters:[]})}t(Ae),v(null);return}};return e?y.jsxs("div",{className:"inline-container",children:[y.jsx("div",{className:"inline-sidebar",children:y.jsx(Z_,{data:e.terms,courseId:e._id,refresh:N,onAddChapter:_,onSelectItem:i,onAddTerm:q,onAddTopic:K,onAddLesson:$})}),y.jsx("div",{className:"inline-content",children:b?y.jsxs(y.Fragment,{children:[y.jsx(W_,{onSave:h?T:C,initialData:h||{title:"",summary:"",content:"",xp:10,assessment:[]}}),y.jsx("button",{onClick:z,className:"mt-4 px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:" Exit Chapter View"})]}):f?y.jsxs("div",{className:"space-y-4",children:[y.jsx("h2",{className:"text-xl font-semibold",children:f.title}),y.jsx(Q_,{chapter:f}),y.jsx("button",{onClick:()=>d(null),className:"mt-4 px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:" Exit Chapter View"})]}):r?y.jsxs("div",{className:"space-y-4",children:[y.jsx("h2",{className:"text-xl font-semibold",children:r.item.title}),y.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:r.item.summary||"No summary provided."}),r.item.assessment?.length>0&&y.jsxs("div",{className:"mt-4",children:[y.jsx("h3",{className:"font-semibold text-gray-800",children:" Assessment"}),y.jsx("ul",{className:"list-disc pl-5 text-sm text-gray-700",children:r.item.assessment.map((re,ce)=>y.jsxs("li",{children:[y.jsxs("strong",{children:["Q",ce+1," (",re.type,"):"]})," ",re.question]},ce))})]}),["term","topic","lesson"].includes(r.type)&&y.jsxs("div",{className:"flex gap-2 mt-4",children:[y.jsxs("button",{onClick:()=>v({mode:"edit",type:r.type,indexes:r.indexes,initialData:r.item}),className:"px-4 py-2 text-sm bg-yellow-500 text-white rounded hover:bg-yellow-600",children:["Edit ",r.type]}),y.jsxs("button",{onClick:()=>v({mode:"delete",type:r.type,indexes:r.indexes}),className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700",children:["Delete ",r.type]})]}),r.type==="chapter"&&y.jsxs("div",{className:"flex gap-2 mt-4",children:[y.jsx("button",{onClick:()=>Y(r.item),className:"px-4 py-2 text-sm bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Start Chapter"}),y.jsx("button",{onClick:()=>Z(r.item,r),className:"px-4 py-2 text-sm bg-yellow-500 text-white rounded hover:bg-yellow-600",children:"Edit Chapter"}),y.jsx("button",{onClick:()=>v({mode:"delete",type:"chapter",indexes:r.indexes}),className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700",children:"Delete Chapter"})]})]}):y.jsx("p",{className:"text-gray-500",children:"Select a term, topic, lesson, or chapter to view its summary."})}),S?.mode==="create"||S?.mode==="edit"?y.jsxs(y.Fragment,{children:[S.type==="term"&&y.jsx(e3,{initialData:S.initialData||{},onClose:()=>v(null),onSubmit:re=>le({...re})}),S.type==="topic"&&y.jsx(t3,{initialData:S.initialData||{},onClose:()=>v(null),onSubmit:re=>le({...re})}),S.type==="lesson"&&y.jsx(n3,{initialData:S.initialData||{},onClose:()=>v(null),onSubmit:re=>le({...re})})]}):null,S?.mode==="delete"&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-50 flex items-center justify-center",children:y.jsxs("div",{className:"bg-white p-6 rounded max-w-md w-full space-y-4",children:[y.jsx("h2",{className:"text-lg font-semibold",children:"Confirm Deletion"}),y.jsxs("p",{children:["Are you sure you want to delete this ",S.type,"? This will also remove all nested items underneath it."]}),y.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[y.jsx("button",{onClick:()=>v(null),className:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300",children:"Cancel"}),y.jsx("button",{onClick:J,className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",children:"Yes, Delete"})]})]})})]}):y.jsx("p",{className:"text-gray-500",children:"Loading lesson structure..."})}const i3="_container_1u8sr_1",l3="_header_1u8sr_13",a3="_createButton_1u8sr_25",o3="_table_1u8sr_51",c3="_viewButton_1u8sr_85",u3="_modalOverlay_1u8sr_111",f3="_modal_1u8sr_111",d3="_modalHeader_1u8sr_151",h3="_modalContent_1u8sr_165",p3="_closeButton_1u8sr_175",m3="_modalTitle_1u8sr_205",g3="_form_1u8sr_217",y3="_input_1u8sr_229",b3="_textarea_1u8sr_231",x3="_submitButton_1u8sr_255",ot={container:i3,header:l3,createButton:a3,table:o3,viewButton:c3,modalOverlay:u3,modal:f3,modalHeader:d3,modalContent:h3,closeButton:p3,modalTitle:m3,form:g3,input:y3,textarea:b3,submitButton:x3},v3=!1,S3=[{_id:"lesson1",title:"Algebra Basics",subject:"Math",description:"Intro to algebraic expressions and equations",grade:"10",schedule:"Mon & Wed 10:00",learners:["l1","l2"]},{_id:"lesson2",title:"Photosynthesis",subject:"Biology",description:"Understanding plant energy conversion",grade:"9",schedule:"Tue 14:00",learners:["l3"]}],w3=()=>{const[n,e]=M.useState([]),[t,r]=M.useState(!1),[i,a]=M.useState(null),[c,f]=M.useState({title:"",subject:"",description:"",grade:"",schedule:""});$s();const d=async()=>{{e(S3);return}},h=async m=>{m.preventDefault();const b={...c,_id:Date.now().toString(),learners:[]};try{v3||e(x=>[...x,b]),f({title:"",subject:"",description:"",grade:"",schedule:""}),r(!1)}catch(x){console.error(" Failed to create lesson:",x)}};return M.useEffect(()=>{d()},[]),y.jsxs("div",{className:ot.container,children:[y.jsxs("div",{className:ot.header,children:[y.jsx("h2",{children:"Manage Lessons"}),y.jsx("button",{onClick:()=>r(!0),className:ot.createButton,children:"+ Create Lesson"})]}),y.jsxs("table",{className:ot.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Title"}),y.jsx("th",{children:"Subject"}),y.jsx("th",{children:"Grade"}),y.jsx("th",{children:"Schedule"}),y.jsx("th",{children:"Learners"}),y.jsx("th",{children:"Actions"})]})}),y.jsx("tbody",{children:n.map(m=>y.jsxs("tr",{children:[y.jsx("td",{children:m.title}),y.jsx("td",{children:m.subject}),y.jsx("td",{children:m.grade}),y.jsx("td",{children:m.schedule}),y.jsx("td",{children:m.learners?.length||0}),y.jsx("td",{children:y.jsx("button",{onClick:()=>a(m),className:ot.viewButton,children:"View Structure"})})]},m._id))})]}),i&&y.jsx("div",{className:ot.modalOverlay,children:y.jsxs("div",{className:ot.modal,children:[y.jsx("button",{onClick:()=>a(null),className:ot.closeButton,children:""}),y.jsxs("div",{className:ot.modalHeader,children:[y.jsx("h3",{children:i.title}),y.jsx("a",{href:`/faculty/lessons/view/${i._id}`,target:"_blank",rel:"noopener noreferrer",children:"View Full Page "})]}),y.jsx("div",{className:ot.modalContent,children:y.jsx(s3,{lessonId:i._id})})]})}),t&&y.jsx("div",{className:ot.modalOverlay,children:y.jsxs("div",{className:ot.modal,children:[y.jsx("button",{onClick:()=>r(!1),className:ot.closeButton,children:""}),y.jsx("h3",{className:ot.modalTitle,children:"Create New Lesson"}),y.jsxs("form",{onSubmit:h,className:ot.form,children:[["title","subject","grade","schedule"].map(m=>y.jsx("input",{type:"text",placeholder:m.charAt(0).toUpperCase()+m.slice(1),value:c[m],onChange:b=>f({...c,[m]:b.target.value}),className:ot.input,required:!0},m)),y.jsx("textarea",{placeholder:"Description",value:c.description,onChange:m=>f({...c,description:m.target.value}),className:ot.textarea}),y.jsx("button",{type:"submit",className:ot.submitButton,children:"Create Lesson"})]})]})})]})},N3=()=>{const[n,e]=M.useState([]),[t,r]=M.useState(""),[i,a]=M.useState(null),[c,f]=M.useState({}),[d,h]=M.useState(!1),[m,b]=M.useState(!1),[x,S]=M.useState(!1),[v,N]=M.useState(""),[C,T]=M.useState({name:"",email:"",password:"",role:"",phone:"",subject:"",bio:""}),_=()=>{const Y=localStorage.getItem("facultyCache");if(Y)e(JSON.parse(Y));else{const z=[{_id:"f1",name:"Thandi Mokoena",email:"thandi@school.edu",role:"educator",phone:"0821234567",subject:"Mathematics",bio:"Passionate about numbers and nurturing minds."}];localStorage.setItem("facultyCache",JSON.stringify(z)),e(z)}},q=()=>{const Y={...c};v&&(Y.password=v);const z=localStorage.getItem("facultyCache"),J=z?JSON.parse(z):[],le=J.findIndex(re=>re._id===Y._id);le!==-1&&(J[le]=Y),localStorage.setItem("facultyCache",JSON.stringify(J)),e(J),h(!1),N("")},K=Y=>{if(!window.confirm("Are you sure you want to delete this faculty member?"))return;const z=localStorage.getItem("facultyCache"),le=(z?JSON.parse(z):[]).filter(re=>re._id!==Y);localStorage.setItem("facultyCache",JSON.stringify(le)),e(le),a(null)},$=Y=>{Y.preventDefault();const z=localStorage.getItem("facultyCache"),J=z?JSON.parse(z):[],le={...C,_id:`offline-${Date.now()}`},re=[...J,le];localStorage.setItem("facultyCache",JSON.stringify(re)),e(re),T({name:"",email:"",password:"",role:"",phone:"",subject:"",bio:""}),b(!1)};M.useEffect(()=>{_()},[]);const Z=n.filter(Y=>Y.name.toLowerCase().includes(t.toLowerCase()));return y.jsxs("div",{className:"space-y-10",children:[y.jsx("div",{className:"bg-yellow-100 text-yellow-800 text-sm p-2 rounded mb-4",children:"Youre working offline. All changes are saved locally."}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsx(Hi,{icon:y.jsx(n1,{className:"w-6 h-6"}),label:"Total Faculty",value:n.length}),y.jsx(Hi,{icon:y.jsx(r1,{className:"w-6 h-6"}),label:"New This Term",value:"5"}),y.jsx(Hi,{icon:y.jsx(e1,{className:"w-6 h-6"}),label:"Departures",value:"1"})]}),!i&&y.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Manage Faculty"}),y.jsx("button",{onClick:()=>b(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition",children:"+ Hire Faculty"})]}),y.jsxs("div",{className:"relative mb-4",children:[y.jsx(t1,{className:"w-5 h-5 absolute left-3 top-2.5 text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Search faculty...",value:t,onChange:Y=>r(Y.target.value),className:"pl-10 pr-4 py-2 border rounded w-full text-sm"})]}),y.jsxs("table",{className:"w-full text-sm text-left",children:[y.jsx("thead",{className:"text-gray-600 border-b",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-2",children:"Name"}),y.jsx("th",{children:"Email"}),y.jsx("th",{children:"Role"})]})}),y.jsx("tbody",{children:Z.map(Y=>y.jsxs("tr",{className:"border-b hover:bg-gray-50 cursor-pointer",onClick:()=>{a(Y._id),f(Y),h(!1)},children:[y.jsx("td",{className:"py-2",children:Y.name}),y.jsx("td",{children:Y.email}),y.jsx("td",{children:Y.role})]},Y._id))})]})]}),i&&c._id&&y.jsxs("div",{className:"mt-10 bg-white rounded-xl shadow-lg p-6 border border-indigo-100",children:[y.jsx("button",{onClick:()=>{a(null),h(!1)},className:"mb-4 text-indigo-600 hover:underline text-sm",children:"Back to Faculty List"}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[y.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${c.name}`,alt:"Profile",className:"w-28 h-28 rounded-full border shadow"}),y.jsxs("div",{className:"flex-1 space-y-3 text-sm text-gray-700",children:[[["Name","name"],["Email","email"],["Phone","phone"],["Subject","subject"],["Bio","bio"]].map(([Y,z])=>y.jsxs("div",{children:[y.jsxs("strong",{children:[Y,":"]})," ",d?y.jsx("input",{name:z,value:c[z]||"",onChange:J=>f({...c,[z]:J.target.value}),className:"border px-2 py-1 rounded text-sm w-full mt-1"}):y.jsx("span",{children:c[z]||""})]},z)),d&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Change Password"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:x?"text":"password",value:v,onChange:Y=>N(Y.target.value),placeholder:"New Password",className:"border px-3 py-2 rounded w-full pr-10"}),y.jsx("button",{type:"button",onClick:()=>S(!x),className:"absolute right-2 top-2 text-gray-500 hover:text-gray-700",children:x?y.jsx(KT,{className:"w-5 h-5"}):y.jsx(XT,{className:"w-5 h-5"})})]})]}),y.jsx("div",{className:"flex gap-4 mt-4",children:d?y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:q,className:"bg-green-600 text-white px-4 py-1 rounded hover:bg-green-700",children:"Save"}),y.jsx("button",{onClick:()=>{h(!1),N("")},className:"text-gray-600 hover:underline",children:"Cancel"})]}):y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>h(!0),className:"text-indigo-600 hover:underline",children:"Edit Profile"}),y.jsx("button",{onClick:()=>K(c._id),className:"text-red-600 hover:underline",children:"Delete Faculty"})]})})]})]})]}),m&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-md relative",children:[y.jsx("button",{onClick:()=>b(!1),className:"absolute top-2 right-2 text-gray-500 hover:text-black",children:""}),y.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Hire New Faculty"}),y.jsxs("form",{onSubmit:$,className:"space-y-4",children:[y.jsx("input",{type:"text",placeholder:"Full Name",value:C.name,onChange:Y=>T({...C,name:Y.target.value}),required:!0,className:"border px-3 py-2 rounded w-full"}),y.jsx("input",{type:"email",placeholder:"Email",value:C.email,onChange:Y=>T({...C,email:Y.target.value}),required:!0,className:"border px-3 py-2 rounded w-full"}),y.jsx("input",{type:"password",placeholder:"Temporary Password",value:C.password,onChange:Y=>T({...C,password:Y.target.value}),required:!0,className:"border px-3 py-2 rounded w-full"}),y.jsxs("select",{value:C.role,onChange:Y=>T({...C,role:Y.target.value}),required:!0,className:"border px-3 py-2 rounded w-full",children:[y.jsx("option",{value:"",children:"Select Role"}),y.jsx("option",{value:"educator",children:"Educator"}),y.jsx("option",{value:"contentHead",children:"Content Head"}),y.jsx("option",{value:"onboarder",children:"Onboarder"}),y.jsx("option",{value:"announcer",children:"Announcer"})]}),y.jsx("input",{type:"text",placeholder:"Phone Number",value:C.phone,onChange:Y=>T({...C,phone:Y.target.value}),className:"border px-3 py-2 rounded w-full"}),y.jsx("input",{type:"text",placeholder:"Subject / Learning Area",value:C.subject,onChange:Y=>T({...C,subject:Y.target.value}),className:"border px-3 py-2 rounded w-full"}),y.jsx("textarea",{placeholder:"Short Bio",value:C.bio,onChange:Y=>T({...C,bio:Y.target.value}),className:"border px-3 py-2 rounded w-full"}),y.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 w-full",children:"Hire Faculty"})]})]})})]})};function C3(){return y.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Manage LMS"}),y.jsx("p",{className:"text-sm text-gray-600",children:"This section will allow you to configure LMS modules, enable or disable features, and manage system-wide settings."}),y.jsx("div",{className:"mt-6 text-gray-400 italic",children:"[Feature toggles and module settings coming soon...]"})]})}const E3="_unauthorizedMessage_10bjd_9",T3={unauthorizedMessage:E3};function M3({activeTab:n,role:e}){switch(n){case"dashboard":return y.jsx(AM,{});case"announcements":if(["admin","announcer"].includes(e))return y.jsx(Jk,{});break;case"manage-learners":if(["admin","onboarder"].includes(e))return y.jsx(yO,{});break;case"manage-lessons":if(["admin","contentHead"].includes(e))return y.jsx(w3,{});break;case"manage-faculty":if(e==="admin")return y.jsx(N3,{});break;case"manage-lms":if(e==="admin")return y.jsx(C3,{});break;default:return null}return y.jsxs("div",{className:T3.unauthorizedMessage,children:[" You dont have access to this section.",y.jsx("br",{}),"Required role: ",y.jsx("strong",{children:k3(n)})]})}function k3(n){return{announcements:["admin","announcer"],"manage-learners":["admin","onboarder"],"manage-lessons":["admin","contentHead"],"manage-faculty":["admin"],"manage-lms":["admin"]}[n]?.join(", ")||"No access"}const O3="_logoutButton_18z02_9",A3={logoutButton:O3};function D3(){const[n,e]=M.useState("dashboard"),[t,r]=M.useState(""),[i,a]=M.useState(0),c=$s();M.useEffect(()=>{const d=localStorage.getItem("userRole")||"";r(d);const m={admin:10,faculty:5,educator:4,contentHead:6,announcer:3}[d]||0;a(m),m===0&&c("/unauthorized")},[c]);const f=()=>{localStorage.removeItem("token"),localStorage.removeItem("userRole"),c("/")};return y.jsxs("div",{className:"min-h-screen bg-gray-50",children:[y.jsxs("div",{className:"relative",children:[y.jsx(fM,{title:"Mr.",name:"WhoWho"}),y.jsxs("button",{onClick:f,className:A3.logoutButton,children:[y.jsx(UT,{className:"w-4 h-4"}),"Logout"]})]}),y.jsxs("main",{className:"max-w-6xl mx-auto px-6 py-8 space-y-6",children:[y.jsx(xM,{activeTab:n,setActiveTab:e,role:t}),y.jsx(M3,{activeTab:n,role:t})]})]})}function j3(){const n=$s(),e=["School Updates","Dev Updates","Timetable"],[t,r]=s1(e.length),i={"School Updates":[" Midterm exams start next week."," School trip forms due Friday."],"Dev Updates":[" Dark mode launching soon!"," New badge system in testing."],Timetable:[" 08:00 - Math (Room 201)"," 10:00 - History (Room 105)"," 13:00 - Computer Science (Lab 3)"]},a=()=>{e[t]==="Timetable"?n("/timetable"):n("/notifications")};return y.jsxs(Yh,{children:[y.jsxs("div",{className:"text-center text-white mb-6",children:[y.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Welcome Back, Bongani"}),y.jsx("p",{className:"mt-2 text-white/90",children:"Heres whats happening in your learning journey today:"})]}),y.jsxs("div",{className:"backdrop-blur-md bg-white/30 rounded-lg p-4 max-h-64 overflow-y-auto shadow-inner flex flex-col justify-between",children:[y.jsx("div",{className:"space-y-3",children:i[e[t]].map((c,f)=>y.jsx("div",{onClick:a,className:"bg-white/60 p-3 rounded cursor-pointer hover:bg-white/80 transition",children:y.jsx("p",{className:"text-sm text-gray-800",children:c})},f))}),y.jsx("div",{className:"flex justify-center mt-4 space-x-4",children:e.map((c,f)=>y.jsx("button",{onClick:()=>r(f),className:`text-xs font-medium px-3 py-1 rounded-full transition ${f===t?"bg-white/80 text-gray-800":"text-white/70 hover:text-white"}`,children:c},c))})]})]})}function Qv(){const n=$s(),e=dr(),t=[{name:"Dashboard",path:"/dashboard"},{name:"Classes",path:"/classes"},{name:"Timetable",path:"/timetable"},{name:"Notifications",path:"/notifications"}],r=()=>{n("/")};return y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("div",{className:"flex space-x-4",children:t.map(i=>y.jsx("button",{onClick:()=>n(i.path),className:`text-sm font-medium px-4 py-2 rounded-full transition ${e.pathname===i.path?"bg-indigo-500 text-white shadow":"text-indigo-600 hover:bg-indigo-100"}`,children:i.name},i.path))}),y.jsx("button",{onClick:r,className:"bg-red-500 text-white px-4 py-2 rounded-full text-sm hover:bg-red-600 transition",children:"Logout"})]})}function R3(){const t=[{name:"Math",progress:80},{name:"English",progress:60},{name:"Science",progress:45},{name:"Life Orientation",progress:90}],r=["Egg","Caterpillar","Chrysalis","Butterfly"];return y.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Level Progression Overview"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Growth Phase"}),y.jsxs("p",{className:"text-gray-600 mb-4",children:["You are currently in the ",y.jsx("strong",{children:r[1]})," phase."]}),y.jsxs("div",{className:"relative h-4 bg-gray-200 rounded-full overflow-hidden mb-2",children:[y.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-indigo-500 to-pink-400 transition-all duration-500",style:{width:"65%"}}),[0,25,50,75,100].map((i,a)=>y.jsx("div",{className:"absolute top-0 h-full border-l-2 border-white",style:{left:`${i}%`}},a))]}),y.jsxs("p",{className:"text-sm text-gray-500",children:[35,"% left until you reach the ",y.jsx("strong",{children:r[2]})," phase."]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Subject Progress"}),y.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-2",children:t.map((i,a)=>y.jsxs("div",{className:"min-w-[140px] bg-white/70 p-3 rounded-lg shadow-sm flex-shrink-0",children:[y.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1 text-center",children:i.name}),y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:y.jsx("div",{className:"bg-green-500 h-full rounded-full transition-all duration-500",style:{width:`${i.progress}%`}})}),y.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-center",children:[i.progress,"%"]})]},a))})]})]})]})}function _3(){const n=[{name:"Math",icon:"",lastAccessed:"2 hours ago"},{name:"English",icon:"",lastAccessed:"Yesterday"},{name:"Science",icon:"",lastAccessed:"3 days ago"},{name:"Life Orientation",icon:"",lastAccessed:"Last week"}];return y.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Recently Accessed Classes"}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:n.map((e,t)=>y.jsxs("div",{className:"bg-white/70 border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition",children:[y.jsx("div",{className:"text-3xl mb-2",children:e.icon}),y.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:e.name}),y.jsxs("p",{className:"text-sm text-gray-500",children:["Last accessed: ",e.lastAccessed]})]},t))})]})}const Zv=6048e5,B3=864e5,ix=Symbol.for("constructDateFrom");function Cn(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&ix in n?n[ix](e):n instanceof Date?new n.constructor(e):new Date(e)}function Bt(n,e){return Cn(e||n,n)}function z3(n,e,t){const r=Bt(n,t?.in);return isNaN(e)?Cn(n,NaN):(r.setDate(r.getDate()+e),r)}let L3={};function lu(){return L3}function Fi(n,e){const t=lu(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=Bt(n,e?.in),a=i.getDay(),c=(a<r?7:0)+a-r;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function Bc(n,e){return Fi(n,{...e,weekStartsOn:1})}function eS(n,e){const t=Bt(n,e?.in),r=t.getFullYear(),i=Cn(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=Bc(i),c=Cn(t,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const f=Bc(c);return t.getTime()>=a.getTime()?r+1:t.getTime()>=f.getTime()?r:r-1}function lx(n){const e=Bt(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function vp(n,...e){const t=Cn.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function zc(n,e){const t=Bt(n,e?.in);return t.setHours(0,0,0,0),t}function H3(n,e,t){const[r,i]=vp(t?.in,n,e),a=zc(r),c=zc(i),f=+a-lx(a),d=+c-lx(c);return Math.round((f-d)/B3)}function U3(n,e){const t=eS(n,e),r=Cn(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Bc(r)}function q3(n){return Cn(n,Date.now())}function V3(n,e,t){const[r,i]=vp(t?.in,n,e);return+zc(r)==+zc(i)}function P3(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function I3(n){return!(!P3(n)&&typeof n!="number"||isNaN(+Bt(n)))}function $3(n,e){const t=Bt(n,e?.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function F3(n,e){const t=Bt(n,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function Y3(n,e){const t=Bt(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function G3(n,e){const t=e?.weekStartsOn,r=Bt(n,e?.in),i=r.getDay(),a=(i<t?-7:0)+6-(i-t);return r.setDate(r.getDate()+a),r.setHours(23,59,59,999),r}const K3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},J3=(n,e,t)=>{let r;const i=K3[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function lh(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const X3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},W3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Q3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Z3={date:lh({formats:X3,defaultWidth:"full"}),time:lh({formats:W3,defaultWidth:"full"}),dateTime:lh({formats:Q3,defaultWidth:"full"})},e4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},t4=(n,e,t,r)=>e4[n];function ra(n){return(e,t)=>{const r=t?.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,f=t?.width?String(t.width):c;i=n.formattingValues[f]||n.formattingValues[c]}else{const c=n.defaultWidth,f=t?.width?String(t.width):n.defaultWidth;i=n.values[f]||n.values[c]}const a=n.argumentCallback?n.argumentCallback(e):e;return i[a]}}const n4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},r4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},s4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},i4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},a4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},o4=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},c4={ordinalNumber:o4,era:ra({values:n4,defaultWidth:"wide"}),quarter:ra({values:r4,defaultWidth:"wide",argumentCallback:n=>n-1}),month:ra({values:s4,defaultWidth:"wide"}),day:ra({values:i4,defaultWidth:"wide"}),dayPeriod:ra({values:l4,defaultWidth:"wide",formattingValues:a4,defaultFormattingWidth:"wide"})};function sa(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],a=e.match(i);if(!a)return null;const c=a[0],f=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(f)?f4(f,b=>b.test(c)):u4(f,b=>b.test(c));let h;h=n.valueCallback?n.valueCallback(d):d,h=t.valueCallback?t.valueCallback(h):h;const m=e.slice(c.length);return{value:h,rest:m}}}function u4(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function f4(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function d4(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],a=e.match(n.parsePattern);if(!a)return null;let c=n.valueCallback?n.valueCallback(a[0]):a[0];c=t.valueCallback?t.valueCallback(c):c;const f=e.slice(i.length);return{value:c,rest:f}}}const h4=/^(\d+)(th|st|nd|rd)?/i,p4=/\d+/i,m4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},g4={any:[/^b/i,/^(a|c)/i]},y4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},b4={any:[/1/i,/2/i,/3/i,/4/i]},x4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},v4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},S4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},w4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},N4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},C4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},E4={ordinalNumber:d4({matchPattern:h4,parsePattern:p4,valueCallback:n=>parseInt(n,10)}),era:sa({matchPatterns:m4,defaultMatchWidth:"wide",parsePatterns:g4,defaultParseWidth:"any"}),quarter:sa({matchPatterns:y4,defaultMatchWidth:"wide",parsePatterns:b4,defaultParseWidth:"any",valueCallback:n=>n+1}),month:sa({matchPatterns:x4,defaultMatchWidth:"wide",parsePatterns:v4,defaultParseWidth:"any"}),day:sa({matchPatterns:S4,defaultMatchWidth:"wide",parsePatterns:w4,defaultParseWidth:"any"}),dayPeriod:sa({matchPatterns:N4,defaultMatchWidth:"any",parsePatterns:C4,defaultParseWidth:"any"})},T4={code:"en-US",formatDistance:J3,formatLong:Z3,formatRelative:t4,localize:c4,match:E4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function M4(n,e){const t=Bt(n,e?.in);return H3(t,Y3(t))+1}function k4(n,e){const t=Bt(n,e?.in),r=+Bc(t)-+U3(t);return Math.round(r/Zv)+1}function tS(n,e){const t=Bt(n,e?.in),r=t.getFullYear(),i=lu(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=Cn(e?.in||n,0);c.setFullYear(r+1,0,a),c.setHours(0,0,0,0);const f=Fi(c,e),d=Cn(e?.in||n,0);d.setFullYear(r,0,a),d.setHours(0,0,0,0);const h=Fi(d,e);return+t>=+f?r+1:+t>=+h?r:r-1}function O4(n,e){const t=lu(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,i=tS(n,e),a=Cn(e?.in||n,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Fi(a,e)}function A4(n,e){const t=Bt(n,e?.in),r=+Fi(t,e)-+O4(t,e);return Math.round(r/Zv)+1}function Oe(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const qr={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Oe(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Oe(t+1,2)},d(n,e){return Oe(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Oe(n.getHours()%12||12,e.length)},H(n,e){return Oe(n.getHours(),e.length)},m(n,e){return Oe(n.getMinutes(),e.length)},s(n,e){return Oe(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Oe(i,e.length)}},Ri={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ax={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return qr.y(n,e)},Y:function(n,e,t,r){const i=tS(n,r),a=i>0?i:1-i;if(e==="YY"){const c=a%100;return Oe(c,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):Oe(a,e.length)},R:function(n,e){const t=eS(n);return Oe(t,e.length)},u:function(n,e){const t=n.getFullYear();return Oe(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Oe(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Oe(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return qr.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Oe(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=A4(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Oe(i,e.length)},I:function(n,e,t){const r=k4(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Oe(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):qr.d(n,e)},D:function(n,e,t){const r=M4(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Oe(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Oe(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Oe(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Oe(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=Ri.noon:r===0?i=Ri.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=Ri.evening:r>=12?i=Ri.afternoon:r>=4?i=Ri.morning:i=Ri.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return qr.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):qr.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Oe(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Oe(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):qr.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):qr.s(n,e)},S:function(n,e){return qr.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return cx(r);case"XXXX":case"XX":return Cs(r);case"XXXXX":case"XXX":default:return Cs(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return cx(r);case"xxxx":case"xx":return Cs(r);case"xxxxx":case"xxx":default:return Cs(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ox(r,":");case"OOOO":default:return"GMT"+Cs(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ox(r,":");case"zzzz":default:return"GMT"+Cs(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Oe(r,e.length)},T:function(n,e,t){return Oe(+n,e.length)}};function ox(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),a=r%60;return a===0?t+String(i):t+String(i)+e+Oe(a,2)}function cx(n,e){return n%60===0?(n>0?"-":"+")+Oe(Math.abs(n)/60,2):Cs(n,e)}function Cs(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Oe(Math.trunc(r/60),2),a=Oe(r%60,2);return t+i+e+a}const ux=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},nS=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},D4=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return ux(n,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",ux(r,e)).replace("{{time}}",nS(i,e))},j4={p:nS,P:D4},R4=/^D+$/,_4=/^Y+$/,B4=["D","DD","YY","YYYY"];function z4(n){return R4.test(n)}function L4(n){return _4.test(n)}function H4(n,e,t){const r=U4(n,e,t);if(console.warn(r),B4.includes(n))throw new RangeError(r)}function U4(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const q4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,V4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,P4=/^'([^]*?)'?$/,I4=/''/g,$4=/[a-zA-Z]/;function F4(n,e,t){const r=lu(),i=r.locale??T4,a=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,f=Bt(n,t?.in);if(!I3(f))throw new RangeError("Invalid time value");let d=e.match(V4).map(m=>{const b=m[0];if(b==="p"||b==="P"){const x=j4[b];return x(m,i.formatLong)}return m}).join("").match(q4).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const b=m[0];if(b==="'")return{isToken:!1,value:Y4(m)};if(ax[b])return{isToken:!0,value:m};if(b.match($4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(d=i.localize.preprocessor(f,d));const h={firstWeekContainsDate:a,weekStartsOn:c,locale:i};return d.map(m=>{if(!m.isToken)return m.value;const b=m.value;(L4(b)||z4(b))&&H4(b,e,String(n));const x=ax[b[0]];return x(f,b,i.localize,h)}).join("")}function Y4(n){const e=n.match(P4);return e?e[1].replace(I4,"'"):n}function G4(n,e,t){const[r,i]=vp(t?.in,n,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function K4(n,e){return V3(Cn(n,n),q3(n))}function J4(){const e=F3(new Date),t=$3(e),r=Fi(e,{weekStartsOn:1}),i=G3(t,{weekStartsOn:1}),a="d",c=[];let f=r;for(;f<=i;)for(let h=0;h<7;h++){const m=f;c.push(y.jsx("div",{className:`text-sm text-center py-2 rounded ${G4(m,e)?K4(m)?"bg-indigo-500 text-white font-semibold":"text-gray-700":"text-gray-300"}`,children:F4(m,a)},m)),f=z3(f,1)}const d=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];return y.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"This Month"}),y.jsx("div",{className:"grid grid-cols-7 text-center text-sm font-medium text-gray-500 mb-2",children:d.map(h=>y.jsx("div",{children:h},h))}),y.jsx("div",{className:"grid grid-cols-7 gap-y-1",children:c})]})}function X4(){return y.jsxs("div",{children:[y.jsx(j3,{}),y.jsx(Qv,{}),y.jsx(R3,{}),y.jsx(_3,{}),y.jsx(J4,{})]})}function W4({overallProgress:n=68,subjects:e=[],currentTerm:t=2}){const r=[" Egg"," Caterpillar"," Chrysalis"," Butterfly"];return y.jsxs(Yh,{children:[y.jsx("h1",{className:"text-3xl font-bold text-center mb-4",children:"Your Classes"}),y.jsxs("p",{className:"text-center text-white/90 mb-2",children:["You are currently in the ",y.jsx("strong",{children:r[t-1]})," phase."]}),y.jsxs("div",{className:"relative h-4 bg-white/30 rounded-full overflow-hidden mb-2",children:[y.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-indigo-500 to-pink-400 transition-all duration-500",style:{width:`${n}%`}}),[0,25,50,75,100].map((i,a)=>y.jsx("div",{className:"absolute top-0 h-full border-l-2 border-white/70",style:{left:`${i}%`}},a))]}),y.jsxs("p",{className:"text-center text-sm text-white/90",children:[100-n,"% left to complete your classes this year."]}),y.jsx("div",{className:"mt-4 overflow-x-auto pb-2",children:y.jsx("div",{className:"flex space-x-4",children:e.map((i,a)=>y.jsxs("div",{className:"min-w-[120px] bg-white/30 p-3 rounded-lg shadow-sm flex-shrink-0",children:[y.jsx("p",{className:"text-sm font-medium text-white mb-1 text-center",children:i.name}),y.jsx("div",{className:"w-full bg-white/40 rounded-full h-2",children:y.jsx("div",{className:"bg-white h-full rounded-full",style:{width:`${i.progress}%`}})})]},a))})})]})}function Q4({onTabChange:n}){const[e,t]=M.useState("subjects"),r=i=>{t(i),n(i)};return y.jsx("div",{className:"flex justify-center mt-6 mb-4",children:y.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-full p-1 flex space-x-2 shadow-inner border border-white/40 ring-1 ring-white/30",children:[y.jsxs("button",{onClick:()=>r("subjects"),className:`px-5 py-2 rounded-full text-sm font-semibold transition-all duration-300 flex items-center space-x-2 ${e==="subjects"?"bg-pink-500 text-white shadow-md":"bg-transparent text-white hover:bg-white/20"}`,children:[y.jsx("span",{role:"img","aria-label":"Subjects",children:""}),y.jsx("span",{className:"inline-block",children:"Subjects"})]}),y.jsxs("button",{onClick:()=>r("chat"),className:`px-5 py-2 rounded-full text-sm font-semibold transition-all duration-300 flex items-center space-x-2 ${e==="chat"?"bg-sky-500 text-white shadow-md":"bg-transparent text-white hover:bg-white/20"}`,children:[y.jsx("span",{role:"img","aria-label":"Chat Rooms",children:""}),y.jsx("span",{className:"inline-block",children:"Chat Rooms"})]})]})})}const Z4=[{name:"Math",progress:80,description:"Master numbers, patterns, and problem-solving skills.",lastCompleted:"Algebra Basics",nextTopic:"Quadratic Equations",currentTopic:"Linear Equations",butterflyStage:" Chrysalis",timeSpent:"2h 15m",streak:3},{name:"English",progress:60,description:"Explore language, literature, and communication.",lastCompleted:"Essay Structure",nextTopic:"Poetry Analysis",currentTopic:"Narrative Writing",butterflyStage:" Caterpillar",timeSpent:"1h 40m",streak:2},{name:"Science",progress:45,description:"Discover the wonders of biology, chemistry, and physics.",lastCompleted:"States of Matter",nextTopic:"Photosynthesis",currentTopic:"Chemical Reactions",butterflyStage:" Egg",timeSpent:"55m",streak:1},{name:"Life Orientation",progress:90,description:"Grow in self-awareness, health, and social responsibility.",lastCompleted:"Healthy Relationships",nextTopic:"Mental Wellness",currentTopic:"Personal Values",butterflyStage:" Butterfly",timeSpent:"3h 10m",streak:5}];function eB({onSelect:n}){const[e,t]=M.useState(null);return y.jsx("div",{className:"max-w-7xl mx-auto p-6",children:y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-4",children:Z4.map((r,i)=>y.jsxs("div",{onMouseEnter:()=>t(i),onMouseLeave:()=>t(null),onClick:()=>n&&n(r),className:`cursor-pointer bg-white rounded-xl shadow-md p-5 transition-all duration-300 hover:shadow-lg relative overflow-hidden ${e===i?"h-64":"h-44"}`,children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:r.name}),y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:y.jsx("div",{className:"bg-indigo-500 h-full rounded-full transition-all duration-500",style:{width:`${r.progress}%`}})}),e!==i&&y.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[y.jsxs("p",{children:[" ",y.jsx("strong",{children:"Last Completed:"})," ",r.lastCompleted]}),y.jsxs("p",{children:[" ",y.jsx("strong",{children:"Next:"})," ",r.nextTopic]})]}),e===i&&y.jsxs("div",{className:"absolute inset-0 bg-white/95 p-4 rounded-xl shadow-inner z-10 flex flex-col justify-between",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-md font-bold text-gray-800 mb-1",children:r.name}),y.jsx("p",{className:"text-sm text-gray-600 mb-3",children:r.description}),y.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[y.jsxs("li",{children:[" ",y.jsx("strong",{children:"Progression:"})," ",r.butterflyStage]}),y.jsxs("li",{children:[" ",y.jsx("strong",{children:"Current Topic:"})," ",r.currentTopic]}),y.jsxs("li",{children:[" ",y.jsx("strong",{children:"Streak:"})," ",r.streak,"-day"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{children:"Time Spent:"})," ",r.timeSpent]})]})]}),y.jsxs("div",{className:"relative h-4 bg-gray-200 rounded-full overflow-hidden mt-3",children:[y.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-indigo-500 to-pink-400 transition-all duration-500",style:{width:`${r.progress}%`}}),[0,25,50,75,100].map((a,c)=>y.jsx("div",{className:"absolute top-0 h-full border-l-2 border-white",style:{left:`${a}%`}},c))]})]})]},i))})})}function tB({subject:n,onBack:e}){return y.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[y.jsx("button",{onClick:e,className:"text-sm text-indigo-600 mb-4 hover:underline",children:" Back to Subjects"}),y.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[y.jsx("h2",{className:"text-2xl font-bold mb-2",children:n.name}),y.jsx("p",{className:"text-gray-700 mb-4",children:n.description}),y.jsxs("p",{children:[y.jsx("strong",{children:"Current Topic:"})," ",n.currentTopic]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Progression:"})," ",n.butterflyStage]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Time Spent:"})," ",n.timeSpent]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Streak:"})," ",n.streak," days"]})]})]})}function nB(){const[n,e]=M.useState("subjects"),[t,r]=M.useState(null),[i,a]=M.useState(null),c=d=>{e(d)},f=()=>{n==="subjects"?r(null):a(null)};return y.jsxs("div",{children:[y.jsx(W4,{}),y.jsx(Qv,{}),y.jsx(Q4,{onTabChange:c}),n==="subjects"?t?y.jsx(tB,{subject:t,onBack:f}):y.jsx(eB,{onSelect:r}):i?y.jsx(a1,{room:i,onBack:f}):y.jsx(l1,{onSelect:a})]})}function rB(){return y.jsxs("div",{className:"p-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:" Your Timetable"}),y.jsx("p",{className:"text-gray-600",children:"Your weekly schedule will appear here. Youll be able to view classes by day, time, and subject."})]})}function sB(){return y.jsxs("div",{className:"p-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:" All Announcements"}),y.jsx("p",{className:"text-gray-600",children:"This is where all school and dev updates will appear."})]})}function iB(){const n=dr();M.useEffect(()=>{const t=localStorage.getItem("token");t?qe.defaults.headers.common.Authorization=`Bearer ${t}`:delete qe.defaults.headers.common.Authorization},[]);const e=n.pathname==="/";return y.jsx("div",{className:"min-h-screen bg-white",children:e?y.jsx(k0,{children:y.jsx(Ns,{path:"/",element:y.jsx(LT,{})})}):y.jsx("main",{className:"p-6 max-w-7xl mx-auto",children:y.jsxs(k0,{children:[y.jsx(Ns,{path:"/dashboard",element:y.jsx(X4,{})}),y.jsx(Ns,{path:"/faculty/dashboard",element:y.jsx(D3,{})}),y.jsx(Ns,{path:"/classes",element:y.jsx(nB,{})}),y.jsx(Ns,{path:"/timetable",element:y.jsx(rB,{})}),y.jsx(Ns,{path:"/notifications",element:y.jsx(sB,{})})]})})})}_N.createRoot(document.getElementById("root")).render(y.jsx(KC,{basename:"/B.E.S.T-LMS-OFFLINE",children:y.jsx(ok,{children:y.jsx(iB,{})})}));
